<!--
 - Created by osman on 30.10.2020.
 -->

<!-- Eur Tr Posm Segmentation Table -->
<template>

    <div class="slds-is-relative">
        <template if:true={isLoading}>
            <lightning-spinner alternative-text="Loading" variant="brand"></lightning-spinner>
        </template>
        <lightning-card title="POSM Segmentasyon Tanımları" variant="Narrow" icon-name="custom:custom57">

            <template if:true={isDownloadButtonVisible}>
                <lightning-button label="Segmentasyon Tanımlamalarını İndir" slot="actions"
                                  class={downloadButtonClass}
                                  onclick={downloadSegmentationDefinitions}></lightning-button>
            </template>

            <lightning-layout multiple-rows=true class="slds-p-around_small">

                <lightning-layout-item size="3" class="slds-m-bottom_medium">

                    <lightning-combobox
                            name="Ürün Tipi"
                            label="Ürün Tipi"
                            value={selectedPOSMType}
                            options={POSMTypeOptions}
                            class={visibility}
                            onchange={handlePOSMTypeChange}></lightning-combobox>

                </lightning-layout-item>

                <lightning-layout-item size="12">
                    <div style="height:300px">
                        <lightning-datatable
                                key-field="Id"
                                data={data}
                                hide-checkbox-column
                                show-row-number-column
                                columns={columns}
                                onrowaction={handleRowAction}
                                enable-infinite-loading
                                load-more-offset="10"
                                onloadmore={loadMoreData}
                        >
                        </lightning-datatable>
                    </div>
                </lightning-layout-item>

            </lightning-layout>

        </lightning-card>
    </div>
</template>