<template>
    <template if:true={loading}>
		<lightning-spinner aura:id="spinner" class="" alternative-text="Loading" variant="brand"></lightning-spinner>
	</template>

    <lightning-card class="vCard">
        <template if:true={customer}>
            <div class="slds-grid slds-grid_vertical slds-align_absolute-center">
                <section class="customer-section" style={backgroundStyle}>
                    <div class="customer-container">
                        <div class="customer-text">
                            <p class="customer-name-text">{customer.detail.Name}</p>
                            <p class="customer-contact-text">{customer.custAddress}</p>
                            <p class="customer-contact-text">{customer.custPhone}</p>
                        </div>
                        <section class="location-phone-section">
                            <div class="location-phone-button">
                                <span class="location-graph-span">
                                    <template if:false={address}>
                                        <img src={locationImgPath} class="location-graph"></img>
                                    </template>
                                    <template if:true={address}>
                                        <a href={googleMapUrl}><img src={locationImgPath} class="location-graph"></img></a>
                                    </template>
                                </span>
                                <span class="phone-graph-span">
                                    <template if:false={phone}>
                                        <img src={phoneImgPath} class="phone-graph"></img>
                                    </template>
                                    <template if:true={phone}>
                                        <a href={phoneUrl}><img src={phoneImgPath} class="phone-graph"></img></a>
                                    </template>
                                </span>
                            </div>
                        </section>
                        <div class="bg"></div>
                    </div>
                </section>
    
                <div class="slds-col slds-grid slds-grid_vertical record-view">
                    <p class="title">Store Details</p>
                    <template for:each={customer.fields} for:item='row'>
                        <div class="slds-col record-field" key={row.label}>
                            <span class="record-title">{row.label}</span>
                            <p class="record-value">{row.value}</p>    
                        </div>
                    </template>
                </div>
                <div class="slds-col slds-grid slds-grid_vertical slds-align_absolute-center button-view">
                    <div class="button-container">
                        <lightning-button variant="brand" label="See Details" icon-name="utility:new_window" icon-position="right" class="next-button" onclick={navigateDetails}>
                        </lightning-button>
                    </div>
                </div>
            </div>
        </template>
    </lightning-card>
</template>