<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>AN8__c</fullName>
        <externalId>false</externalId>
        <formula>IF($RecordType.DeveloperName=&apos;BRA_Standard&apos; || $RecordType.DeveloperName=&apos;Standard_AR&apos; || $RecordType.DeveloperName=&apos;Standard_UY&apos; , Cliente__r.Client_country_AN8__c, &apos;&apos;)</formula>
        <label>AN8</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ActualDeliveryDate_AR__c</fullName>
        <description>Actual delivery date provided by Logistics via interface to JDE</description>
        <externalId>false</externalId>
        <label>Actual Delivery Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Cliente__c</fullName>
        <externalId>false</externalId>
        <label>Cliente</label>
        <referenceTo>Account</referenceTo>
        <relationshipLabel>Títulos em aberto</relationshipLabel>
        <relationshipName>Titulos_de_cobranca</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>true</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>ConfirmationStatus_AR__c</fullName>
        <description>Delivery status provided by Logistics via interface to JDE</description>
        <externalId>false</externalId>
        <label>Confirmation Status</label>
        <length>16</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>DeliveryNote_AR__c</fullName>
        <description>Number of Delivery Note (legal document called &quot;Remito&quot;) for Argentina</description>
        <externalId>false</externalId>
        <label>Delivery Note</label>
        <length>16</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Internal_id_pk__c</fullName>
        <caseSensitive>false</caseSensitive>
        <externalId>true</externalId>
        <label>Internal_id_pk</label>
        <length>30</length>
        <required>true</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>LAT_AR_TypeDescription__c</fullName>
        <externalId>false</externalId>
        <formula>if( tipoDocumento__c ==&apos;FA&apos;,&apos;FACTURA&apos;,
   if(OR(tipoDocumento__c ==&apos;D2&apos;,tipoDocumento__c ==&apos;D3&apos;), &apos;CHEQUE RECHAZADO&apos;,
     if(OR(tipoDocumento__c ==&apos;RU&apos;,tipoDocumento__c ==&apos;R1&apos;), &apos;DEPÓSITO&apos;,
        if(OR(tipoDocumento__c ==&apos;RU&apos;,tipoDocumento__c ==&apos;R1&apos;), &apos;DEPÓSITO&apos;,
           if(OR(tipoDocumento__c ==&apos;A1&apos;,tipoDocumento__c ==&apos;A2&apos;,tipoDocumento__c ==&apos;C6&apos;,tipoDocumento__c ==&apos;C5&apos;), &apos;NOTA DE CRÉDITO&apos;,
              if(OR(tipoDocumento__c ==&apos;D6&apos;,tipoDocumento__c ==&apos;D7&apos;), &apos;NOTA DE DÉBITO&apos;, &apos;&apos;)
           ) 
     )
 )
)
)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Tipo de Documento</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>LAT_OverdueDaysFormula__c</fullName>
        <externalId>false</externalId>
        <formula>IF(OR( tipoDocumento__c!=&apos;FA&apos; ,dataVencimentoAtual__c &gt;= TODAY()),0,(dataVencimentoAtual__c - TODAY())*(-1))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Días de Vencido</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>LegalInvoice_AR__c</fullName>
        <description>Selling legal document (Invoice, Debit &amp; Credit Notes, etc.  There is a fortmat for each document type / country.</description>
        <externalId>false</externalId>
        <label>Legal Invoice</label>
        <length>16</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>NetOpenBalance1_AR__c</fullName>
        <externalId>false</externalId>
        <label>Net Open Balance1</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>NetOpenBalance_AR__c</fullName>
        <description>Net outstanding balance considering receipts generated in SF not recorded yet in JDE</description>
        <externalId>false</externalId>
        <formula>valorSaldo__c -  NetSRReceipts_AR__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Net Open Balance</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>NetSRReceipts_AR__c</fullName>
        <description>Amount of receipts not recorded yet in JDE</description>
        <externalId>false</externalId>
        <label>Receipts pending in SF</label>
        <precision>17</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>OrderNumber_AR__c</fullName>
        <description>JDE Order Number (for Invoices)</description>
        <externalId>false</externalId>
        <label>Order Number</label>
        <precision>8</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>OrderType_AR__c</fullName>
        <description>JDE Order Type (for Invoices)</description>
        <externalId>false</externalId>
        <label>Order Type</label>
        <length>2</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>PaymentID_AR__c</fullName>
        <description>To match the deposits in collection accounts with RU (for the interface with JDE)</description>
        <externalId>false</externalId>
        <label>Payment ID</label>
        <precision>10</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ReceiptNumber_AR__c</fullName>
        <description>Field to inform Receipt number to Values type &quot;RU&quot; (deposits in collection accounts). Value to avoid the inclusion of RU values in more than one receipt.</description>
        <externalId>false</externalId>
        <label>Receipt Number</label>
        <precision>10</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Ruinusebypendingreceipt_AR__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <description>Look up with Receipts to validate an RU is not used in more than one Receipt.</description>
        <externalId>false</externalId>
        <label>RU in use by pending receipt</label>
        <referenceTo>RCP_Receipt_ARG__c</referenceTo>
        <relationshipLabel>Títulos em aberto</relationshipLabel>
        <relationshipName>T_tulos_em_aberto</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Status__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Inadimplente</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>codigoCia__c</fullName>
        <externalId>false</externalId>
        <label>Código companhia</label>
        <length>5</length>
        <required>true</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>dataEmissao__c</fullName>
        <externalId>false</externalId>
        <label>Data emissão</label>
        <required>true</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>dataVencimentoAtual__c</fullName>
        <externalId>false</externalId>
        <label>Data vencimento</label>
        <required>true</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>dataVencimentoOriginal__c</fullName>
        <externalId>false</externalId>
        <label>Data venc. original</label>
        <required>true</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>diasAtraso__c</fullName>
        <externalId>false</externalId>
        <label>Dias atraso</label>
        <precision>8</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>numeroDocumento__c</fullName>
        <externalId>false</externalId>
        <label>No. documento</label>
        <precision>8</precision>
        <required>true</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>observacoesTitulo__c</fullName>
        <externalId>false</externalId>
        <label>Observação</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>parcela__c</fullName>
        <externalId>false</externalId>
        <label>Parcela</label>
        <length>3</length>
        <required>true</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>tipoDocumento__c</fullName>
        <externalId>false</externalId>
        <label>Tipo documento</label>
        <length>2</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>valorOriginalTitulo__c</fullName>
        <externalId>false</externalId>
        <label>Valor original título</label>
        <precision>17</precision>
        <required>true</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>valorSaldo__c</fullName>
        <externalId>false</externalId>
        <label>Valor Saldo</label>
        <precision>17</precision>
        <required>true</required>
        <scale>2</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <label>Título em aberto</label>
    <listViews>
        <fullName>All</fullName>
        <columns>NAME</columns>
        <columns>AN8__c</columns>
        <columns>Cliente__c</columns>
        <columns>valorOriginalTitulo__c</columns>
        <columns>valorSaldo__c</columns>
        <columns>LegalInvoice_AR__c</columns>
        <columns>Internal_id_pk__c</columns>
        <filterScope>Everything</filterScope>
        <label>Tudo</label>
        <language>en_US</language>
    </listViews>
    <listViews>
        <fullName>Titulo_em_Aberto_Argentina</fullName>
        <columns>NAME</columns>
        <columns>AN8__c</columns>
        <columns>Cliente__c</columns>
        <columns>dataEmissao__c</columns>
        <columns>dataVencimentoOriginal__c</columns>
        <columns>dataVencimentoAtual__c</columns>
        <columns>diasAtraso__c</columns>
        <columns>Status__c</columns>
        <columns>Internal_id_pk__c</columns>
        <columns>numeroDocumento__c</columns>
        <columns>parcela__c</columns>
        <columns>valorSaldo__c</columns>
        <columns>LAST_UPDATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Internal_id_pk__c</field>
            <operation>startsWith</operation>
            <value>6-</value>
        </filters>
        <filters>
            <field>tipoDocumento__c</field>
            <operation>equals</operation>
            <value>RU</value>
        </filters>
        <label>Titulo em Aberto Argentina</label>
        <language>pt_BR</language>
    </listViews>
    <listViews>
        <fullName>Titulo_em_Aberto_Brasil</fullName>
        <columns>NAME</columns>
        <columns>AN8__c</columns>
        <columns>Cliente__c</columns>
        <columns>dataEmissao__c</columns>
        <columns>dataVencimentoOriginal__c</columns>
        <columns>dataVencimentoAtual__c</columns>
        <columns>diasAtraso__c</columns>
        <columns>Status__c</columns>
        <columns>Internal_id_pk__c</columns>
        <columns>numeroDocumento__c</columns>
        <columns>parcela__c</columns>
        <columns>valorSaldo__c</columns>
        <columns>LAST_UPDATE</columns>
        <columns>CREATED_DATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Internal_id_pk__c</field>
            <operation>startsWith</operation>
            <value>1-</value>
        </filters>
        <label>Titulo em Aberto Brasil</label>
        <language>pt_BR</language>
    </listViews>
    <listViews>
        <fullName>Titulo_em_Aberto_Uruguay</fullName>
        <columns>NAME</columns>
        <columns>AN8__c</columns>
        <columns>Cliente__c</columns>
        <columns>dataEmissao__c</columns>
        <columns>dataVencimentoOriginal__c</columns>
        <columns>dataVencimentoAtual__c</columns>
        <columns>diasAtraso__c</columns>
        <columns>Status__c</columns>
        <columns>Internal_id_pk__c</columns>
        <columns>numeroDocumento__c</columns>
        <columns>parcela__c</columns>
        <columns>valorSaldo__c</columns>
        <columns>LAST_UPDATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Internal_id_pk__c</field>
            <operation>startsWith</operation>
            <value>5-</value>
        </filters>
        <label>Titulo em Aberto Uruguay</label>
        <language>pt_BR</language>
    </listViews>
    <listViews>
        <fullName>Titulos_Mexico</fullName>
        <columns>NAME</columns>
        <columns>numeroDocumento__c</columns>
        <columns>Cliente__c</columns>
        <columns>dataEmissao__c</columns>
        <columns>tipoDocumento__c</columns>
        <columns>dataVencimentoAtual__c</columns>
        <columns>dataVencimentoOriginal__c</columns>
        <columns>diasAtraso__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>AN8__c</field>
            <operation>startsWith</operation>
            <value>12-</value>
        </filters>
        <label>Titulo em aberto Mexico</label>
        <language>en_US</language>
    </listViews>
    <listViews>
        <fullName>b2b</fullName>
        <booleanFilter>1 AND 2 AND 3 AND 4</booleanFilter>
        <columns>NAME</columns>
        <columns>LAT_AR_TypeDescription__c</columns>
        <columns>LegalInvoice_AR__c</columns>
        <columns>dataEmissao__c</columns>
        <columns>dataVencimentoAtual__c</columns>
        <columns>LAT_OverdueDaysFormula__c</columns>
        <columns>valorOriginalTitulo__c</columns>
        <columns>valorSaldo__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Internal_id_pk__c</field>
            <operation>startsWith</operation>
            <value>6-</value>
        </filters>
        <filters>
            <field>tipoDocumento__c</field>
            <operation>notEqual</operation>
            <value>RU</value>
        </filters>
        <filters>
            <field>tipoDocumento__c</field>
            <operation>notEqual</operation>
            <value>R1</value>
        </filters>
        <filters>
            <field>tipoDocumento__c</field>
            <operation>notEqual</operation>
            <value>AA</value>
        </filters>
        <label>b2b</label>
        <language>pt_BR</language>
    </listViews>
    <nameField>
        <displayFormat>{0000000000}</displayFormat>
        <label>Número do título em aberto</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Títulos em aberto</pluralLabel>
    <recordTypeTrackHistory>false</recordTypeTrackHistory>
    <recordTypes>
        <fullName>BRA_Standard</fullName>
        <active>true</active>
        <description>Brazil standard record type</description>
        <label>BRA Standard</label>
    </recordTypes>
    <recordTypes>
        <fullName>LAT_MX_TEA_Standard</fullName>
        <active>true</active>
        <description>Standard record type for MX</description>
        <label>MX Standard</label>
    </recordTypes>
    <recordTypes>
        <fullName>Standard_AR</fullName>
        <active>true</active>
        <label>Standard AR</label>
    </recordTypes>
    <recordTypes>
        <fullName>Standard_UY</fullName>
        <active>true</active>
        <label>Standard UY</label>
    </recordTypes>
    <searchLayouts>
        <listViewButtons>TIT_GenerateReceipt_AR</listViewButtons>
        <listViewButtons>TIT_Relacionar_AR</listViewButtons>
    </searchLayouts>
    <sharingModel>ControlledByParent</sharingModel>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>TIT_GenerateReceipt_AR</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Generar Recibo</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>true</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/25.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/25.0/apex.js&quot;)}

//Busco el id de la cuenta principal 
var url = top.window.location.href; 

//Busco el id de los registros seleccionados 
var selectedTitulos_Ids = {!GETRECORDIDS($ObjectType.Titulos__c)}; 

var prefixanaliticos = &apos;{!$ObjectType.Titulos__c}&apos;;
var prefixanaliticosTabAna = prefixanaliticos + &quot;?fcf=&quot;;
var prefixanaliticosIrATo = prefixanaliticos + &quot;?rlid&quot;;
var resul = &quot; &quot;; 
var isError = false;

if(selectedTitulos_Ids.length &gt; 0){ 
      if(url.indexOf(prefixanaliticosTabAna) &gt; -1){ /*si entra es porque se ingreso desde la Tab de Analitico de Cuenta Corriente*/
            var AccountId = sforce.apex.execute( &quot;BTN04_GenerateReceipt_AR&quot;,&quot;AccountIdSelected&quot;, {ids_Register : selectedTitulos_Ids , IdAcc : null}); 
            /* Si todos los Analiticos seleccionados corresponden al mismo Account se guarda en AccountId el id del Account, sino AccountId = &apos;&apos;*/
      }else{ 
			if(url.indexOf(prefixanaliticosIrATo) &gt; -1){ /*si entra es porque se ingreso desde el boton &apos;Ir a todos&apos;*/
				var AccountId = url.substring(url.indexOf(&apos;&amp;accid=&apos;) + 7,url.indexOf(&apos;&amp;accid=&apos;) + 7 + 15);
				var AccountId = sforce.apex.execute( &quot;BTN04_GenerateReceipt_AR&quot;,&quot;AccountIdSelected&quot;, {ids_Register : selectedTitulos_Ids , IdAcc : AccountId}); 
				/* Si todos los Analiticos seleccionados corresponden al mismo Account del que venia al hacer click en &apos;Ir a todos&apos; se guarda en AccountId el id del Account, sino AccountId = &apos;&apos;*/
			}
      } 
}else{
	if(url.indexOf(prefixanaliticosTabAna) &gt; -1){
		var AccountId = &quot;&quot;
		alert(&apos;{!$Label.LAT_AR_TIT_BTN01_001} &apos;);
		isError = true;
    }else{
		var AccountId = &quot;{!Account.Id}&quot;;
    }
}

if(!isError){
	var resul = sforce.apex.execute( &quot;BTN04_GenerateReceipt_AR&quot;,&quot;GenerateReceipt&quot;, {ids_Register : selectedTitulos_Ids}); 

	if(AccountId == &quot;&quot;){
		  if (url.indexOf(prefixanaliticosIrATo) &gt; -1){ /*significa que se ingreso por el boton &apos;Ir a todos&apos; pero se seleccionaron Analiticos de otros Accounts*/
				var accId = url.substring(url.indexOf(&apos;&amp;accid=&apos;) + 7,url.indexOf(&apos;&amp;accid=&apos;) + 7 + 15);
				var acc = sforce.connection.query(&quot;Select Name FROM Account WHERE Id = &apos;&quot; + accId + &quot;&apos; &quot;); 
				var recordAcc = acc.getArray(&quot;records&quot;);
				alert(&apos;{!$Label.BTN04_00005_AR} &apos; + recordAcc[0].Name); //msge: Seleccione Analíticos relacionados con el Cliente: + Account.Name
		  } else { /*significa que se ingreso por la Tab de Analiticos y se seleccionaron Analiticos de Account distintos*/
				alert(&apos;{!$Label.BTN04_00004_AR}&apos;); //msge: No se pueden generar Recibos con Analíticos de distintos clientes, por favor vuelve a realizar la selección.
		  }
	}else{
		if(url.indexOf(prefixanaliticosTabAna) == -1 &amp;&amp; url.indexOf(prefixanaliticosIrATo) == -1){
			var AccountId = &quot;{!Account.Id}&quot;;
		}

		  if(String(resul) == &apos;&apos;){ 
				//si es -1 no hubo errores 
				top.location = &apos;apex/VFC01_ReceiptRTSelection_AR?idAcc=&apos;+AccountId+&apos;&amp;idArray=&apos;+selectedTitulos_Ids; 
		  }else{ 
			   //errores 
			   alert(resul); 
		  } 
	}
}</url>
    </webLinks>
    <webLinks>
        <fullName>TIT_Relacionar_AR</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Relacionar</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/27.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/27.0/apex.js&quot;)}

var url = window.location.href;
var idStartIndex = url.indexOf(&apos;idRecibo=&apos;) + 9;
var idReg = url.substr(idStartIndex,idStartIndex + 15);

//Busco el id de los registros seleccionados 
var selectedTitulosIds= {!GETRECORDIDS($ObjectType.Titulos__c)};
var resultado = sforce.apex.execute( &quot;BTN03_AnaliticCCBtnController_AR&quot;,&quot;idPage&quot;, {idRecibo:idReg,idsRegister:selectedTitulosIds});

if(resultado==&apos;OK&apos; || (String(resultado).indexOf(&apos;Warning1&apos;)!=-1)){
     if((String(resultado).indexOf(&apos;Warning1&apos;)!=-1)){
           resultado = String(resultado).replace(&apos;Warning1&apos;, &apos;&apos;);
           alert(resultado);
     }
     window.location = &apos;/&apos;+idReg;
}else{
     resultado = String(resultado).replace(&quot;Warning0&quot;, &quot;&quot;);
     alert(resultado);
}</url>
    </webLinks>
    <webLinks>
        <fullName>TIT_ShowAll_AR</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Show All</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>/***************************************************************************************************** 
* Company:Valuenet Developer: Elena Schwarzbok Date:16/05/2013 * 
*****************************************************************************************************/ 

{!REQUIRESCRIPT(&quot;/soap/ajax/27.0/connection.js&quot;)} 
{!REQUIRESCRIPT(&quot;/soap/ajax/27.0/apex.js&quot;)} 

var AccountId = &quot;{!Account.Id}&quot;; 

//Busco el id de la cuenta principal 
//var url = top.window.location.href; 
//var idStartIndex = url.indexOf(&apos;.com/&apos;) + 5; 
//var idAcc = url.substring(idStartIndex,idStartIndex + 15); 

//top.location = &apos;/a4x?rlid=00ND0000005SKkK&amp;accid=&apos;+AccountId;
window.location = &apos;/apex/LAT_AR_VFP07_Relate_Documents?idAccount=&apos; + AccountId;</url>
    </webLinks>
</CustomObject>
