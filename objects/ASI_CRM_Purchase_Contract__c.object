<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <content>ASI_CRM_JP_ContractRedirectPage</content>
        <skipRecordTypeSelect>false</skipRecordTypeSelect>
        <type>Visualforce</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <description>ASI CRM JP - Purchase Contract</description>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>Private</externalSharingModel>
    <fields>
        <fullName>ASI_CRM_Amount_Paid__c</fullName>
        <externalId>false</externalId>
        <label>Amount Paid</label>
        <summarizedField>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Amount_Paid__c</summarizedField>
        <summaryForeignKey>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Purchase_Contract__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Annual_Turnover__c</fullName>
        <externalId>false</externalId>
        <label>Annual Turnover</label>
        <summarizedField>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Annual_Turnover__c</summarizedField>
        <summaryForeignKey>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Purchase_Contract__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Application_Date__c</fullName>
        <defaultValue>TODAY()</defaultValue>
        <externalId>false</externalId>
        <label>Application Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_10__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 10</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts9</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_1__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 1</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_2__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 2</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts1</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_3__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 3</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts2</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_4__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 4</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts3</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_5__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 5</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts4</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_6__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 6</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts5</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_7__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 7</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts6</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_8__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 8</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts7</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Approver_9__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Sys_Approver 9</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Purchase_Contracts8</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_BS_Retailer_Ship_To__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>BS/Retailer/Ship To</label>
        <lookupFilter>
            <active>true</active>
            <booleanFilter>(1 AND 2) OR 3</booleanFilter>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.ASI_CRM_CN_Inactive_Flag__c</field>
                <operation>notEqual</operation>
                <value>True</value>
            </filterItems>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>JP Off-Trade Outlet, JP Bar Supplier, JP Wholesaler</value>
            </filterItems>
            <filterItems>
                <field>$UserRole.DeveloperName</field>
                <operation>equals</operation>
                <value>ASI_JP_IT_Team</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>ASI_CRM_AccountsAdditionalField__c</referenceTo>
        <relationshipLabel>Purchase Contracts</relationshipLabel>
        <relationshipName>Purchase_Contracts</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Batch_ID__c</fullName>
        <externalId>false</externalId>
        <label>Sys_Batch ID</label>
        <length>80</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Clone_Id__c</fullName>
        <externalId>false</externalId>
        <label>Clone Id</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Clone_Record_Type_Id__c</fullName>
        <externalId>false</externalId>
        <label>Clone Record Type Id</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Clone_Record_Type__c</fullName>
        <externalId>false</externalId>
        <formula>RecordType.Name</formula>
        <label>Clone Record Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Contract_Amount__c</fullName>
        <externalId>false</externalId>
        <label>Contract Amount</label>
        <summarizedField>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Promotion_Amount__c</summarizedField>
        <summaryForeignKey>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Purchase_Contract__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_End_Date__c</fullName>
        <externalId>false</externalId>
        <label>End Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Fiscal_Year__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Format: FY{YY}{YY}, e.g. FY1516</inlineHelpText>
        <label>Fiscal Year</label>
        <length>6</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Fixed_Spot__c</fullName>
        <externalId>false</externalId>
        <label>Fixed/Spot</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Fixed</fullName>
                    <default>false</default>
                    <label>Fixed</label>
                </value>
                <value>
                    <fullName>Spot</fullName>
                    <default>false</default>
                    <label>Spot</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ASI_CRM_JDE_Synced__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>JDE Synced</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Outlet__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Outlet</label>
        <lookupFilter>
            <active>true</active>
            <booleanFilter>(1 AND 2) OR 3</booleanFilter>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.RecordType.DeveloperName</field>
                <operation>equals</operation>
                <value>ASI_CRM_JP_On_Trade_Outlet</value>
            </filterItems>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.ASI_CRM_CN_Inactive_Flag__c</field>
                <operation>notEqual</operation>
                <value>True</value>
            </filterItems>
            <filterItems>
                <field>$UserRole.DeveloperName</field>
                <operation>equals</operation>
                <value>ASI_JP_IT_Team</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>ASI_CRM_AccountsAdditionalField__c</referenceTo>
        <relationshipLabel>Purchase Contracts (Outlet)</relationshipLabel>
        <relationshipName>Purchase_Contracts2</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Owner_Email__c</fullName>
        <externalId>false</externalId>
        <formula>Owner:User.Username</formula>
        <label>Owner Email</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Owner__c</fullName>
        <externalId>false</externalId>
        <formula>Owner:User.LastName + &quot; &quot; + Owner:User.FirstName</formula>
        <label>Owner</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Purchase_Contract_External_ID__c</fullName>
        <caseSensitive>true</caseSensitive>
        <externalId>true</externalId>
        <label>Purchase Contract External ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Remaining_Balance__c</fullName>
        <externalId>false</externalId>
        <formula>IF(CONTAINS(RecordType.DeveloperName, &quot;ASI_CRM_JP_SPTD_Contract&quot;), ASI_CRM_Contract_Amount__c - ASI_CRM_Amount_Paid__c, 1)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Remaining Balance</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Remarks__c</fullName>
        <externalId>false</externalId>
        <label>Remarks</label>
        <length>131072</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>ASI_CRM_Request_Type__c</fullName>
        <externalId>false</externalId>
        <label>Request Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>New Customer Development</fullName>
                    <default>false</default>
                    <label>New Customer Development</label>
                </value>
                <value>
                    <fullName>Existing Custom Maintenance</fullName>
                    <default>false</default>
                    <label>Existing Custom Maintenance</label>
                </value>
                <value>
                    <fullName>Short Term Promotion Fee</fullName>
                    <default>false</default>
                    <label>Short Term Promotion Fee</label>
                </value>
                <value>
                    <fullName>Contract</fullName>
                    <default>false</default>
                    <label>Contract</label>
                </value>
                <value>
                    <fullName>Association Matter</fullName>
                    <default>false</default>
                    <label>Association Matter</label>
                </value>
                <value>
                    <fullName>KPI (Annual Contract)</fullName>
                    <default>false</default>
                    <label>KPI (Annual Contract)</label>
                </value>
                <value>
                    <fullName>KPI (Fair)</fullName>
                    <default>false</default>
                    <label>KPI (Fair)</label>
                </value>
                <value>
                    <fullName>KPI (Contest)</fullName>
                    <default>false</default>
                    <label>KPI (Contest)</label>
                </value>
                <value>
                    <fullName>KPI (Listing)</fullName>
                    <default>false</default>
                    <label>KPI (Listing)</label>
                </value>
                <value>
                    <fullName>Others (Sales Planning Only)</fullName>
                    <default>false</default>
                    <label>Others (Sales Planning Only)</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ASI_CRM_Sales_Group__c</fullName>
        <externalId>false</externalId>
        <label>Sales Group</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Staff_Code__c</fullName>
        <externalId>false</externalId>
        <formula>Owner:User.ASI_TnE_Sub_Ledger__c</formula>
        <label>Staff Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Start_Date__c</fullName>
        <externalId>false</externalId>
        <label>Start Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Status__c</fullName>
        <externalId>false</externalId>
        <label>Status</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Draft</fullName>
                    <default>false</default>
                    <label>Draft</label>
                </value>
                <value>
                    <fullName>Submitted</fullName>
                    <default>false</default>
                    <label>Submitted</label>
                </value>
                <value>
                    <fullName>Activated</fullName>
                    <default>false</default>
                    <label>Activated</label>
                </value>
                <value>
                    <fullName>Approved</fullName>
                    <default>false</default>
                    <label>Approved</label>
                </value>
                <value>
                    <fullName>Complete</fullName>
                    <default>false</default>
                    <label>Complete</label>
                </value>
                <value>
                    <fullName>Cancelled</fullName>
                    <default>false</default>
                    <label>Cancelled</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ASI_CRM_Sys_Allow_Set_Draft__c</fullName>
        <externalId>false</externalId>
        <formula>IF( CONTAINS($Setup.ASI_JP_Validation_Bypass__c.ASI_JP_Object_API__c,  &apos;ASI_CRM_Purchase_Contract__c&apos; ) &amp;&amp; ( ISBLANK( $Setup.ASI_JP_Validation_Bypass__c.ASI_JP_Record_Type__c ) || CONTAINS($Setup.ASI_JP_Validation_Bypass__c.ASI_JP_Record_Type__c ,   RecordType.DeveloperName  ) ), $Setup.ASI_JP_Validation_Bypass__c.ASI_JP_Bybass_Validation__c , false)</formula>
        <label>Sys_Allow Set Draft</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Sys_Allow_Submit_Approval__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Sys_Allow Submit Approval</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Sys_Current_Approver__c</fullName>
        <externalId>false</externalId>
        <label>Sys Current Approver</label>
        <length>20</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ASI_CRM_Total_Quantity__c</fullName>
        <externalId>false</externalId>
        <label>Total Quantity</label>
        <summarizedField>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Quantity__c</summarizedField>
        <summaryForeignKey>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Purchase_Contract__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Total_Target_Volume__c</fullName>
        <externalId>false</externalId>
        <label>Total Target Volume</label>
        <summarizedField>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Target_Volume__c</summarizedField>
        <summaryForeignKey>ASI_CRM_Purchase_Contract_Line_Item__c.ASI_CRM_Purchase_Contract__c</summaryForeignKey>
        <summaryOperation>sum</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Turnover_Ratio__c</fullName>
        <externalId>false</externalId>
        <formula>IF(ASI_CRM_Annual_Turnover__c = 0, 0, ASI_CRM_Contract_Amount__c / ASI_CRM_Annual_Turnover__c)</formula>
        <label>Turnover Ratio</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>ASI_CRM_Which_To_Pay__c</fullName>
        <externalId>false</externalId>
        <label>Which To Pay</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Pay To Sold To</fullName>
                    <default>false</default>
                    <label>Pay To Sold To</label>
                </value>
                <value>
                    <fullName>Pay To Ship To</fullName>
                    <default>false</default>
                    <label>Pay To Ship To</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ASI_CRM_Wholesaler__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Wholesaler</label>
        <lookupFilter>
            <active>true</active>
            <booleanFilter>(1 AND ((2 AND 3) OR (4 AND 5))) OR 6</booleanFilter>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.ASI_CRM_CN_Inactive_Flag__c</field>
                <operation>notEqual</operation>
                <value>True</value>
            </filterItems>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>JP Wholesaler, JP Bar Supplier</value>
            </filterItems>
            <filterItems>
                <field>$Source.RecordTypeId</field>
                <operation>equals</operation>
                <value>JP SPTD Contract, JP SPTD Contract Read-Only</value>
            </filterItems>
            <filterItems>
                <field>ASI_CRM_AccountsAdditionalField__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>JP Wholesaler, JP Off-Trade Outlet, JP Bar Supplier</value>
            </filterItems>
            <filterItems>
                <field>$Source.RecordTypeId</field>
                <operation>equals</operation>
                <value>JP Indirect Rebate Contract, JP Direct Rebate Contract, JP Direct Rebate Contract Read-Only, JP Indirect Rebate Contract Read-Only</value>
            </filterItems>
            <filterItems>
                <field>$UserRole.DeveloperName</field>
                <operation>equals</operation>
                <value>ASI_JP_IT_Team</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>ASI_CRM_AccountsAdditionalField__c</referenceTo>
        <relationshipLabel>Purchase Contracts (Wholesaler)</relationshipLabel>
        <relationshipName>Purchase_Contracts1</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <label>Purchase Contract</label>
    <listViews>
        <fullName>ASI_CRM_JP_All_Purchase_Contract</fullName>
        <booleanFilter>1 OR 2 OR 3</booleanFilter>
        <columns>NAME</columns>
        <columns>RECORDTYPE</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <columns>CREATED_DATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract_Read_Only</value>
        </filters>
        <label>All JP Purchase Contract</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_All_Users</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_Direct_Rebate_Contract</fullName>
        <columns>NAME</columns>
        <columns>RECORDTYPE</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <columns>CREATED_DATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract_Read_Only</value>
        </filters>
        <label>JP Direct Rebate Contract</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_All_Users</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_Direct_Rebate_Contract_Review</fullName>
        <columns>NAME</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>ASI_CRM_Status__c</field>
            <operation>equals</operation>
            <value>Approved</value>
        </filters>
        <label>JP Direct Rebate Contract for Review</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_Sales_Admin</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_Indirect_Rebate_Contract</fullName>
        <columns>NAME</columns>
        <columns>RECORDTYPE</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <columns>CREATED_DATE</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract_Read_Only</value>
        </filters>
        <label>JP Indirect Rebate Contract</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_All_Users</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_My_Purchase_Contract</fullName>
        <booleanFilter>1 OR 2 OR 3</booleanFilter>
        <columns>NAME</columns>
        <columns>RECORDTYPE</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <filterScope>Mine</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Indirect_Rebate_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract,ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_Direct_Rebate_Contract_Read_Only</value>
        </filters>
        <label>My JP Purchase Contract</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_All_Users</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_SPTD_Contracts_for_Mass_Cancel</fullName>
        <columns>NAME</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Contract_Amount__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract</value>
        </filters>
        <filters>
            <field>ASI_CRM_Status__c</field>
            <operation>equals</operation>
            <value>Draft</value>
        </filters>
        <label>JP SPTD Contracts for Mass Cancel</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_Sales_Planning</group>
        </sharedTo>
    </listViews>
    <listViews>
        <fullName>ASI_CRM_JP_SPTD_Contracts_for_Mass_Close</fullName>
        <columns>NAME</columns>
        <columns>ASI_CRM_Status__c</columns>
        <columns>ASI_CRM_BS_Retailer_Ship_To__c</columns>
        <columns>ASI_CRM_Wholesaler__c</columns>
        <columns>ASI_CRM_Outlet__c</columns>
        <columns>ASI_CRM_Start_Date__c</columns>
        <columns>ASI_CRM_End_Date__c</columns>
        <columns>ASI_CRM_Contract_Amount__c</columns>
        <columns>ASI_CRM_Amount_Paid__c</columns>
        <columns>ASI_CRM_Sales_Group__c</columns>
        <columns>ASI_CRM_Staff_Code__c</columns>
        <columns>ASI_CRM_Owner__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>RECORDTYPE</field>
            <operation>equals</operation>
            <value>ASI_CRM_Purchase_Contract__c.ASI_CRM_JP_SPTD_Contract_Read_Only</value>
        </filters>
        <filters>
            <field>ASI_CRM_Status__c</field>
            <operation>equals</operation>
            <value>Activated</value>
        </filters>
        <label>JP SPTD Contracts for Mass Complete</label>
        <language>en_US</language>
        <sharedTo>
            <group>ASI_CRM_JP_Sales_Planning</group>
        </sharedTo>
    </listViews>
    <nameField>
        <label>Contract No.</label>
        <trackHistory>false</trackHistory>
        <type>Text</type>
    </nameField>
    <pluralLabel>Purchase Contracts</pluralLabel>
    <recordTypeTrackHistory>false</recordTypeTrackHistory>
    <recordTypes>
        <fullName>ASI_CRM_JP_Direct_Rebate_Contract</fullName>
        <active>true</active>
        <label>JP Direct Rebate Contract</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>true</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>true</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>ASI_CRM_JP_Direct_Rebate_Contract_Read_Only</fullName>
        <active>true</active>
        <label>JP Direct Rebate Contract Read-Only</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Approved</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Complete</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>ASI_CRM_JP_Indirect_Rebate_Contract</fullName>
        <active>true</active>
        <label>JP Indirect Rebate Contract</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>true</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>true</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>ASI_CRM_JP_Indirect_Rebate_Contract_Read_Only</fullName>
        <active>true</active>
        <label>JP Indirect Rebate Contract Read-Only</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Complete</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>ASI_CRM_JP_SPTD_Contract</fullName>
        <active>true</active>
        <label>JP SPTD Contract</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Association Matter</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Contract</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Contest%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Fair%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Listing%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Others %28Sales Planning Only%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Short Term Promotion Fee</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Cancelled</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Draft</fullName>
                <default>true</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <recordTypes>
        <fullName>ASI_CRM_JP_SPTD_Contract_Read_Only</fullName>
        <active>true</active>
        <label>JP SPTD Contract Read-Only</label>
        <picklistValues>
            <picklist>ASI_CRM_Fixed_Spot__c</picklist>
            <values>
                <fullName>Fixed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Spot</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Request_Type__c</picklist>
            <values>
                <fullName>Association Matter</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Contract</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Existing Custom Maintenance</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Annual Contract%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Contest%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Fair%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>KPI %28Listing%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>New Customer Development</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Others %28Sales Planning Only%29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Short Term Promotion Fee</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Status__c</picklist>
            <values>
                <fullName>Activated</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>Complete</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>ASI_CRM_Which_To_Pay__c</picklist>
            <values>
                <fullName>Pay To Ship To</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Pay To Sold To</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts>
        <customTabListAdditionalFields>RECORDTYPE</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Status__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_BS_Retailer_Ship_To__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Wholesaler__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Outlet__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Start_Date__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_End_Date__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Application_Date__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>ASI_CRM_Owner__c</customTabListAdditionalFields>
        <lookupDialogsAdditionalFields>RECORDTYPE</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_Status__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_BS_Retailer_Ship_To__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_Wholesaler__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_Outlet__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_Start_Date__c</lookupDialogsAdditionalFields>
        <lookupDialogsAdditionalFields>ASI_CRM_End_Date__c</lookupDialogsAdditionalFields>
        <searchResultsAdditionalFields>RECORDTYPE</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_Status__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_BS_Retailer_Ship_To__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_Wholesaler__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_Outlet__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_Start_Date__c</searchResultsAdditionalFields>
        <searchResultsAdditionalFields>ASI_CRM_End_Date__c</searchResultsAdditionalFields>
    </searchLayouts>
    <sharingModel>Private</sharingModel>
    <validationRules>
        <fullName>ASI_CRM_JP_Cant_Change_Back_Activated</fullName>
        <active>true</active>
        <errorConditionFormula>OR(RecordType.DeveloperName = &apos;ASI_CRM_JP_Indirect_Rebate_Contract_Read_Only&apos;, RecordType.DeveloperName = &apos;ASI_CRM_JP_SPTD_Contract_Read_Only&apos; ) &amp;&amp;
$UserRole.DeveloperName &lt;&gt; &apos;ASI_JP_Sales_Planning_Team&apos; &amp;&amp;
$UserRole.DeveloperName &lt;&gt; &apos;ASI_JP_Sales_Admin_Team&apos; &amp;&amp; 
ISPICKVAL( ASI_CRM_Status__c , &apos;Activated&apos;) &amp;&amp; ISPICKVAL(PRIORVALUE(ASI_CRM_Status__c),&quot;Complete&quot;)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Status__c</errorDisplayField>
        <errorMessage>You are NOT allowed to change back Status from Complete to Activated.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Cant_Change_Back_Draft</fullName>
        <active>true</active>
        <errorConditionFormula>OR(RecordType.DeveloperName = &apos;ASI_CRM_JP_Direct_Rebate_Contract&apos;, RecordType.DeveloperName = &apos;ASI_CRM_JP_Indirect_Rebate_Contract&apos;, RecordType.DeveloperName = &apos;ASI_CRM_JP_SPTD_Contract&apos; ) &amp;&amp; ISPICKVAL( ASI_CRM_Status__c , &apos;Draft&apos;) &amp;&amp; ISPICKVAL(PRIORVALUE(ASI_CRM_Status__c),&quot;Cancelled&quot;)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Status__c</errorDisplayField>
        <errorMessage>You are NOT allowed to change back Status from Cancelled</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Cant_Update_ContractNo</fullName>
        <active>true</active>
        <errorConditionFormula>CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP&apos;) &amp;&amp; ISCHANGED(Name)</errorConditionFormula>
        <errorDisplayField>Name</errorDisplayField>
        <errorMessage>Change of Contract No. is not allowed.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Cant_Update_DirRebateContract</fullName>
        <active>true</active>
        <errorConditionFormula>CONTAINS( RecordType.DeveloperName, &apos;ASI_CRM_JP_Direct_Rebate_Contract&apos;) &amp;&amp; $UserRole.DeveloperName &lt;&gt; &apos;ASI_JP_Sales_Admin_Team&apos; &amp;&amp; (ISPICKVAL( ASI_CRM_Status__c, &apos;Approved&apos;) || ISPICKVAL( ASI_CRM_Status__c, &apos;Complete&apos;)) &amp;&amp; ISCHANGED(ASI_CRM_Status__c)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Status__c</errorDisplayField>
        <errorMessage>You are not allowed to update Status of Direct Rebate Contract.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Check_Wholesaler_PayToSold</fullName>
        <active>false</active>
        <errorConditionFormula>CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP&apos;) &amp;&amp; ISPICKVAL( ASI_CRM_Which_To_Pay__c, &apos;Pay To Sold To&apos;) &amp;&amp; ISBLANK(ASI_CRM_Wholesaler__c)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Wholesaler__c</errorDisplayField>
        <errorMessage>Wholesaler must be specified if &apos;Pay To Sold To&apos; is selected.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_End_Date_Within_FiscalYear</fullName>
        <active>true</active>
        <description>ASI_CRM_JP_End_Date_Within_FiscalYear</description>
        <errorConditionFormula>AND(CONTAINS(RecordType.DeveloperName,&apos;ASI_CRM_JP_SPTD_Contract&apos;), 
IF(
  MONTH(TODAY()) &gt; 6,
  ASI_CRM_End_Date__c &lt; DATE( YEAR(TODAY()) , 7, 1),
  ASI_CRM_End_Date__c &lt; DATE( YEAR(TODAY()) - 1 , 7, 1)
),
OR( ISNEW() ,  ISCHANGED(ASI_CRM_End_Date__c ) ) 
)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_End_Date__c</errorDisplayField>
        <errorMessage>End Date must be equal or greater than current Fiscal Year.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_End_Date_for_Spot_Rebate</fullName>
        <active>true</active>
        <errorConditionFormula>If(CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP_Direct_Rebate_Contract&apos;) &amp;&amp; ISPICKVAL( ASI_CRM_Fixed_Spot__c , &apos;Spot&apos;) &amp;&amp; ISBLANK(ASI_CRM_End_Date__c), True, 
If(CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP_Indirect_Rebate_Contract&apos;) &amp;&amp; ISPICKVAL( ASI_CRM_Fixed_Spot__c , &apos;Spot&apos;) &amp;&amp; ISBLANK(ASI_CRM_End_Date__c), True, False))</errorConditionFormula>
        <errorDisplayField>ASI_CRM_End_Date__c</errorDisplayField>
        <errorMessage>For Spot Rebate Contract, End Date cannot be blank.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_No_Modification_When_Complete</fullName>
        <active>false</active>
        <errorConditionFormula>CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP&apos;) &amp;&amp; 
ISPICKVAL(ASI_CRM_Status__c, &apos;Activated&apos;) &amp;&amp;  
!CONTAINS($Profile.Name, &apos;System Administrator&apos;)</errorConditionFormula>
        <errorMessage>Purchase Contract is now in Complete status. No modification is allowed.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Not_Allowed_To_Change_CloneId</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
    CONTAINS(RecordType.DeveloperName, &quot;ASI_CRM_JP&quot;),
    ISCHANGED(ASI_CRM_Clone_Id__c)
)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Clone_Id__c</errorDisplayField>
        <errorMessage>You are not allowed to change the system field &apos;Clone Id&apos;</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Start_Date_Within_FiscalYear</fullName>
        <active>true</active>
        <description>ASI_CRM_JP_Start_Date_Within_FiscalYear</description>
        <errorConditionFormula>AND(
CONTAINS(RecordType.DeveloperName,&apos;ASI_CRM_JP_SPTD_Contract&apos;),
IF(Month(ASI_CRM_End_Date__c) &gt; 6, Month(ASI_CRM_Start_Date__c) &lt; 7 || Year(ASI_CRM_Start_Date__c) &lt; Year(ASI_CRM_End_Date__c), (Year(ASI_CRM_Start_Date__c) = (Year(ASI_CRM_End_Date__c) - 1) &amp;&amp; Month(ASI_CRM_Start_Date__c) &lt; 7) || Year(ASI_CRM_Start_Date__c) &lt; (Year(ASI_CRM_End_Date__c) - 1)
),
OR ( ISNEW() ,  ISCHANGED(ASI_CRM_Start_Date__c),ISCHANGED(ASI_CRM_End_Date__c) )  
)</errorConditionFormula>
        <errorDisplayField>ASI_CRM_Start_Date__c</errorDisplayField>
        <errorMessage>Start Date must be within the same Fiscal Year as End Date.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>ASI_CRM_JP_Start_End_Date_Validation</fullName>
        <active>true</active>
        <errorConditionFormula>CONTAINS(RecordType.DeveloperName, &apos;ASI_CRM_JP&apos;) &amp;&amp; ASI_CRM_Start_Date__c &gt; ASI_CRM_End_Date__c</errorConditionFormula>
        <errorDisplayField>ASI_CRM_End_Date__c</errorDisplayField>
        <errorMessage>End Date must be greater than or equal to Start Date.</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>ASI_CRM_JP_Clone</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <linkType>url</linkType>
        <masterLabel>Clone</masterLabel>
        <openType>replace</openType>
        <protected>false</protected>
        <url>/{!ASI_CRM_Purchase_Contract__c.Id}/e?clone=1&amp;retURL={!ASI_CRM_Purchase_Contract__c.Id}&amp;00ND0000005s2Ho=Draft&amp;00ND0000005s2Ha={!ASI_CRM_Purchase_Contract__c.Id}&amp;RecordType={!ASI_CRM_Purchase_Contract__c.ASI_CRM_Clone_Record_Type_Id__c}&amp;00ND0000005s2HO={!TODAY()}</url>
    </webLinks>
    <webLinks>
        <fullName>ASI_CRM_JP_New_Purchase_Contract</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New Purchase Contract</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!requireScript(&quot;/soap/ajax/30.0/connection.js&quot;)}
sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;;

try { 

var regularList = sforce.connection.query(&quot;Select id, name, ASI_CRM_Primary__c, ASI_CRM_Supplier__c, ASI_CRM_Supplier__r.name from ASI_CRM_Regular_Supplier__c where ASI_CRM_Customer__c = &apos;&quot; +&apos;{!ASI_CRM_AccountsAdditionalField__c.Id}&apos; + &quot;&apos; &quot;);

var regularSupplier = &apos;&apos;;
var urlSupplier = &apos;&apos;;

var regularRecords = regularList.getArray(&quot;records&quot;);

if(regularRecords.length == 1) {
 var recordsSupplierName = regularRecords[0].getArray(&quot;ASI_CRM_Supplier__r&quot;);
 if(typeof recordsSupplierName != &apos;undefined&apos;){
  regularSupplier = recordsSupplierName[0].Name;
 }
} else if (regularRecords.length &gt; 1) {

 for(i=0;i &lt; regularRecords.length; i++ ) {
  if(regularRecords[i].ASI_CRM_Primary__c == &apos;true&apos;) {
   var recordsSupplierName = regularRecords[i].getArray(&quot;ASI_CRM_Supplier__r&quot;);
   if(typeof recordsSupplierName != &apos;undefined&apos;){
    regularSupplier = recordsSupplierName[0].Name;
   }
  }
 }
}

if(regularSupplier != &apos;&apos;) {
 urlSupplier = &apos;&amp;CF00ND0000005s2Hs=&apos; + regularSupplier;
}

window.open(&quot;setup/ui/recordtypeselect.jsp?ent=01ID0000000uicO&amp;retURL=&quot;+&apos;{!ASI_CRM_AccountsAdditionalField__c.Id}&apos;+&quot;&amp;save_new_url=aIn/e?CF00ND0000005s2HZ=&quot;+&quot;{!ASI_CRM_AccountsAdditionalField__c.Name}&quot;+urlSupplier+&quot;&amp;Name=[AutoNumber]&quot;+&quot;&amp;retURL=&quot;+&apos;{!ASI_CRM_AccountsAdditionalField__c.Id}&apos;, &quot;_parent&quot;);

}
catch (error) { 
alert(error);
}</url>
    </webLinks>
    <webLinks>
        <fullName>ASI_CRM_JP_PDF</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <hasMenubar>false</hasMenubar>
        <hasScrollbars>true</hasScrollbars>
        <hasToolbar>false</hasToolbar>
        <height>600</height>
        <isResizable>true</isResizable>
        <linkType>page</linkType>
        <masterLabel>PDF</masterLabel>
        <openType>newWindow</openType>
        <page>ASI_CRM_JP_Contract_PDFPage</page>
        <position>none</position>
        <protected>false</protected>
        <showsLocation>false</showsLocation>
        <showsStatus>false</showsStatus>
    </webLinks>
    <webLinks>
        <fullName>ASI_CRM_JP_Recall</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Recall</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/apex.js&quot;)} 
try {
    operate : {
        if(&apos;{!ASI_CRM_Purchase_Contract__c.ASI_CRM_Status__c}&apos; == &apos;Draft&apos;) {
            alert(&apos;You cannot recall because it is in Draft&apos;);
            break operate;
        }

        var queryString = &apos;SELECT Id, (SELECT Id, StepStatus, Comments FROM StepsAndWorkitems WHERE TargetObjectId = \&apos;{!ASI_CRM_Purchase_Contract__c.Id}\&apos; AND (StepStatus = \&apos;Approved\&apos; OR StepStatus = \&apos;Rejected\&apos;) ORDER BY CreatedDate DESC) FROM ProcessInstance WHERE TargetObjectId = \&apos;{!ASI_CRM_Purchase_Contract__c.Id}\&apos; ORDER BY CreatedDate DESC&apos;;
        
        var data = sforce.connection.query(queryString);
        
        if(data.getBoolean(&apos;done&apos;) &amp;&amp; data.getInt(&apos;size&apos;)&gt;=0) {
            var records = data.getArray(&apos;records&apos;);
            console.log(records);
            if(records.length &gt; 0) {
                if(records[0].StepsAndWorkitems != null) {
                    alert(&apos;{!$Label.ASI_CRM_JP_RecallWarning}&apos;);
                } else {
                    sforce.apex.execute(&quot;ASI_CRM_JP_ApprovalRecall&quot;,&quot;recallApproval&quot;,{recId:&quot;{!ASI_CRM_Purchase_Contract__c.Id}&quot;});
                    window.location.reload();
                }
            } else {
                alert(&apos;{!$Label.ASI_CRM_JP_RecallWarning}&apos;);
            }
        }
    }
} catch(error) {
    alert(&apos;An error occurred. Details : &apos; + error);
}</url>
    </webLinks>
    <webLinks>
        <fullName>ASI_CRM_JP_Set_Status_Draft</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Set Status Draft</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>var isAllowSetDraft = {!ASI_CRM_Purchase_Contract__c.ASI_CRM_Sys_Allow_Set_Draft__c};
var isAmountZero = {!ASI_CRM_Purchase_Contract__c.ASI_CRM_Amount_Paid__c == 0};
var isIndirectRebate = &quot;{!ASI_CRM_Purchase_Contract__c.RecordType}&quot; == &apos;JP Indirect Rebate Contract Read-Only&apos;;
var isSPTDContract = &quot;{!ASI_CRM_Purchase_Contract__c.RecordType}&quot; == &apos;JP SPTD Contract Read-Only&apos;;
var isDirectRebate = &quot;{!ASI_CRM_Purchase_Contract__c.RecordType}&quot; == &apos;JP Direct Rebate Contract Read-Only&apos;;
var isSyncedToJDE = {!ASI_CRM_Purchase_Contract__c.ASI_CRM_JDE_Synced__c};

if((isAllowSetDraft == true &amp;&amp; isAmountZero == true &amp;&amp; (isSPTDContract == true || isIndirectRebate == true)) || (isAllowSetDraft == true &amp;&amp; isDirectRebate == true &amp;&amp; isSyncedToJDE == false)) {
window.open(&quot;apex/ASI_CRM_JP_SetContractDraftPage?id={!ASI_CRM_Purchase_Contract__c.Id}&quot;,&quot;_self&quot;); 
} else {
alert(&apos;{!$Label.ASI_CRM_JP_SetStatusDraftWarning}&apos;); 
}

/*
if( 
(	{!ASI_CRM_Purchase_Contract__c.ASI_CRM_Sys_Allow_Set_Draft__c} == true &amp;&amp; 
{!ASI_CRM_Purchase_Contract__c.ASI_CRM_Amount_Paid__c} == 0 &amp;&amp; 
(	&apos;{!ASI_CRM_Purchase_Contract__c.RecordType}&apos; == &apos;JP Indirect Rebate Contract Read-Only&apos; || &apos;{!ASI_CRM_Purchase_Contract__c.RecordType}&apos; == &apos;JP SPTD Contract Read-Only&apos;) 
) 
|| 
(	{!ASI_CRM_Purchase_Contract__c.ASI_CRM_Sys_Allow_Set_Draft__c} == true &amp;&amp; 
&apos;{!ASI_CRM_Purchase_Contract__c.RecordType}&apos; == &apos;JP Direct Rebate Contract Read-Only&apos; &amp;&amp; 
{!ASI_CRM_Purchase_Contract__c.ASI_CRM_JDE_Synced__c} == false 
)	
){ 
window.open(&quot;apex/ASI_CRM_JP_SetContractDraftPage?id={!ASI_CRM_Purchase_Contract__c.Id}&quot;,&quot;_self&quot;); 
}else{ 
alert(&apos;{!$Label.ASI_CRM_JP_SetStatusDraftWarning}&apos;); 
}
*/</url>
    </webLinks>
    <webLinks>
        <fullName>ASI_CRM_JP_Submit_for_Approval</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Submit for Approval</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!requireScript(&quot;/soap/ajax/30.0/connection.js&quot;)}
sforce.connection.sessionId = &quot;{!$Api.Session_ID}&quot;; 

var currentHeader = sforce.connection.query(&quot;Select ASI_CRM_Status__c, Id from ASI_CRM_Purchase_Contract__c where Id = &apos;{!ASI_CRM_Purchase_Contract__c.Id}&apos;&quot;);

var currentHeaderDetails = sforce.connection.query(&quot;Select Id from ASI_CRM_Purchase_Contract_Line_Item__c where ASI_CRM_Purchase_Contract__c = &apos;{!ASI_CRM_Purchase_Contract__c.Id}&apos; &quot;); 

var records = currentHeader.getArray(&quot;records&quot;);
var detailRecords = currentHeaderDetails.getArray(&quot;records&quot;); 
var ownerId = &apos;{!ASI_CRM_Purchase_Contract__c.OwnerId}&apos;; 
var createdById = &apos;{!ASI_CRM_Purchase_Contract__c.CreatedById}&apos;; 
var currentUserId = &apos;{!$User.Id}&apos;; 
var isCorrectUser = true; 
if(currentUserId != ownerId &amp;&amp; currentUserId != createdById){ 
isCorrectUser = false; 
} 
if(isCorrectUser == false){
alert(&quot;{!$Label.ASI_CRM_JP_NotCorrectUser}&quot;); 
}else if (detailRecords == null || detailRecords.length &lt;= 0)
{
alert(&quot;{!$Label.ASI_CRM_JP_Approval_Error}&quot;);
}else if(&apos;{!ASI_CRM_Purchase_Contract__c.ASI_CRM_Contract_Amount__c}&apos; == &apos;0&apos; &amp;&amp; &apos;{!ASI_CRM_Purchase_Contract__c.RecordType}&apos; == &apos;JP SPTD Contract&apos;){
alert(&quot;{!$Label.ASI_CRM_JP_Contract_Zero_Amount_Warning}&quot;);
} else if (records[0].ASI_CRM_Status__c== &apos;Draft&apos;)
{
try {
var rec = new sforce.SObject(&apos;ASI_CRM_Purchase_Contract__c&apos;); 
rec.Id = &quot;{!ASI_CRM_Purchase_Contract__c.Id}&quot;; 
rec.ASI_CRM_Sys_Allow_Submit_Approval__c = true; 
result = sforce.connection.update([rec]); 

window.open(&quot;/apex/ASI_SubmitApprovalPage?id={!ASI_CRM_Purchase_Contract__c.Id}&quot;,&quot;_self&quot;);


} catch(error) {
sforce.debug.log(error.faultcode);
sforce.debug.log(error.faultstring);
}
}</url>
    </webLinks>
</CustomObject>
