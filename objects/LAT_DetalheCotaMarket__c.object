<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>DatesFormula__c</fullName>
        <externalId>false</externalId>
        <formula>TEXT(DAY(startDate__c))  + &apos;-&apos; +  TEXT(MONTH(startDate__c)) + &apos;-&apos; + TEXT(YEAR(startDate__c)) + &apos; / &apos; + TEXT(DAY(endDate__c))  + &apos;-&apos; +  TEXT(MONTH(endDate__c)) + &apos;-&apos; + TEXT(YEAR(endDate__c))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Data Início-Data fim</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>bandeira__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Bandeira</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>UDC__c.Internal_Id__c</field>
                <operation>contains</operation>
                <value>01-06</value>
            </filterItems>
            <filterItems>
                <field>UDC__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>BRA Standard</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>UDC__c</referenceTo>
        <relationshipLabel>Detalhes Cota New to Market (Bandeira)</relationshipLabel>
        <relationshipName>Detalhes_Cota_New_to_Market1</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>cantidadDisponible__c</fullName>
        <externalId>false</externalId>
        <formula>cota__c - consumo__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>cantidadDisponible</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>cliente__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Cliente</label>
        <referenceTo>Account</referenceTo>
        <relationshipName>Detalhes_Cota_New_to_Market</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>consumo__c</fullName>
        <defaultValue>0</defaultValue>
        <externalId>false</externalId>
        <label>Consumo</label>
        <precision>18</precision>
        <required>true</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>cotaMarket__c</fullName>
        <externalId>false</externalId>
        <label>Número Detalhe</label>
        <referenceTo>LAT_CotaMarket__c</referenceTo>
        <relationshipLabel>Detalhes Cota New to Market</relationshipLabel>
        <relationshipName>Detalhes_Cota</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>cota__c</fullName>
        <externalId>false</externalId>
        <label>Cota</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>dateConsumida__c</fullName>
        <externalId>false</externalId>
        <label>dateConsumida</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>endDate__c</fullName>
        <externalId>false</externalId>
        <label>Data Fim</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>executivo__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Executivo</label>
        <referenceTo>User</referenceTo>
        <relationshipName>Detalhes_Cota_New_to_Market</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>prioridad__c</fullName>
        <externalId>false</externalId>
        <label>Prioridad</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>regional__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Regional</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>UDC__c.Internal_Id__c</field>
                <operation>contains</operation>
                <value>01-01</value>
            </filterItems>
            <filterItems>
                <field>UDC__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>BRA Standard</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>UDC__c</referenceTo>
        <relationshipLabel>Detalhes Cota New to Market (Regional)</relationshipLabel>
        <relationshipName>Detalhes_Cota_New_to_Market2</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>segmento__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Segmento</label>
        <lookupFilter>
            <active>true</active>
            <filterItems>
                <field>UDC__c.Internal_Id__c</field>
                <operation>contains</operation>
                <value>01-03</value>
            </filterItems>
            <filterItems>
                <field>UDC__c.RecordTypeId</field>
                <operation>equals</operation>
                <value>BRA Standard</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>UDC__c</referenceTo>
        <relationshipLabel>Detalhes Cota New to Market (Segmento)</relationshipLabel>
        <relationshipName>Detalhes_Cota_New_to_Market3</relationshipName>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>startDate__c</fullName>
        <externalId>false</externalId>
        <label>Data Inicio</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>sub_canal__c</fullName>
        <externalId>false</externalId>
        <label>Sub-canal</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Atacadista</fullName>
                    <default>false</default>
                    <label>Atacadista</label>
                </value>
                <value>
                    <fullName>Bar</fullName>
                    <default>false</default>
                    <label>Bar</label>
                </value>
                <value>
                    <fullName>C&amp;C</fullName>
                    <default>false</default>
                    <label>C&amp;C</label>
                </value>
                <value>
                    <fullName>Canais Alternativos</fullName>
                    <default>false</default>
                    <label>Canais Alternativos</label>
                </value>
                <value>
                    <fullName>Delicatessen</fullName>
                    <default>false</default>
                    <label>Delicatessen</label>
                </value>
                <value>
                    <fullName>Distribuidor</fullName>
                    <default>false</default>
                    <label>Distribuidor</label>
                </value>
                <value>
                    <fullName>Eventos</fullName>
                    <default>false</default>
                    <label>Eventos</label>
                </value>
                <value>
                    <fullName>KA</fullName>
                    <default>false</default>
                    <label>KA</label>
                </value>
                <value>
                    <fullName>Night club</fullName>
                    <default>false</default>
                    <label>Night club</label>
                </value>
                <value>
                    <fullName>Restaurante</fullName>
                    <default>false</default>
                    <label>Restaurante</label>
                </value>
                <value>
                    <fullName>Varejo Regional</fullName>
                    <default>false</default>
                    <label>Varejo Regional</label>
                </value>
                <value>
                    <fullName>Outros</fullName>
                    <default>false</default>
                    <label>Outros</label>
                </value>
                <value>
                    <fullName>Specialized Retail</fullName>
                    <default>false</default>
                    <label>Specialized Retail</label>
                </value>
                <value>
                    <fullName>Retail</fullName>
                    <default>false</default>
                    <label>Retail</label>
                </value>
                <value>
                    <fullName>Online</fullName>
                    <default>false</default>
                    <label>Online</label>
                </value>
                <value>
                    <fullName>Atacados</fullName>
                    <default>false</default>
                    <label>Atacados</label>
                </value>
                <value>
                    <fullName>Bar Agitado</fullName>
                    <default>false</default>
                    <label>Bar Agitado</label>
                </value>
                <value>
                    <fullName>Table Dance</fullName>
                    <default>false</default>
                    <label>Table Dance</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <label>Detalhe Cota New to Market</label>
    <listViews>
        <fullName>Vigentes</fullName>
        <columns>NAME</columns>
        <columns>cotaMarket__c</columns>
        <columns>cota__c</columns>
        <columns>cantidadDisponible__c</columns>
        <columns>regional__c</columns>
        <columns>segmento__c</columns>
        <columns>startDate__c</columns>
        <columns>endDate__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>endDate__c</field>
            <operation>greaterOrEqual</operation>
            <value>TODAY</value>
        </filters>
        <label>Proximas e Vigentes</label>
        <language>en_US</language>
        <sharedTo>
            <group>IT_LATAM_Administrators</group>
            <group>LAT_CRM_IT_Users</group>
            <group>LAT_Sol_Integration</group>
        </sharedTo>
    </listViews>
    <nameField>
        <displayFormat>{0000}</displayFormat>
        <label>Name</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Detalhes Cota New to Market</pluralLabel>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>COTA_DETALHE_VR01_ValidateStart</fullName>
        <active>true</active>
        <errorConditionFormula>(ISCHANGED(startDate__c) &amp;&amp; Today() &gt;= PRIORVALUE(startDate__c))</errorConditionFormula>
        <errorDisplayField>startDate__c</errorDisplayField>
        <errorMessage>Para períodos já iniciados a Data Início não pode ser alterada</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>COTA_DETALHE_VR02_ValidateEnd</fullName>
        <active>true</active>
        <errorConditionFormula>(ISCHANGED(endDate__c) &amp;&amp; Today() &gt;= PRIORVALUE(endDate__c))</errorConditionFormula>
        <errorDisplayField>endDate__c</errorDisplayField>
        <errorMessage>Para períodos finalizados a Data Fim não pode ser alterada</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>COTA_DETALHE_VR03_Validate</fullName>
        <active>true</active>
        <errorConditionFormula>(startDate__c &gt; cotaMarket__r.endDate__c || startDate__c &lt; cotaMarket__r.startDate__c) || 
(endDate__c &gt; cotaMarket__r.endDate__c || endDate__c &lt; cotaMarket__r.startDate__c )</errorConditionFormula>
        <errorMessage>A &quot;Data Inicio&quot; e a &quot;Data Fim&quot; devem estar entre as &quot;Data Inicio&quot; e &quot;Data Fim&quot; do cabecalho (Cota New to Market).</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>COTA_DETALHE_VR04_ValidateDates</fullName>
        <active>true</active>
        <errorConditionFormula>(ISNEW() || (ISCHANGED(startDate__c) || ISCHANGED(endDate__c))) &amp;&amp; 
Today() &gt; startDate__c</errorConditionFormula>
        <errorMessage>A &quot;Data Inicio&quot; e &quot;Data Fim&quot; deve ser maior ou igual a data do dia.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>COTA_DETALHE_VR05_ValidateClient</fullName>
        <active>true</active>
        <errorConditionFormula>!ISBLANK(cliente__c) &amp;&amp;
(ISCHANGED(segmento__c) || 
ISCHANGED(regional__c) ||
ISCHANGED(sub_canal__c) || 
ISCHANGED(bandeira__c) || 
ISCHANGED(executivo__c)
)</errorConditionFormula>
        <errorMessage>Os campos da Hierarquia nao podem ser alterados pois o Cliente foi informado</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>COTA_DETALHE_VR06_ValidateStartEnd</fullName>
        <active>true</active>
        <errorConditionFormula>(ISNEW() || (ISCHANGED(startDate__c) || ISCHANGED(endDate__c))) 
&amp;&amp; 
startDate__c &gt; endDate__c</errorConditionFormula>
        <errorMessage>A Data Fim deve ser maior ou igual que a Data Inicio</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
</CustomObject>
