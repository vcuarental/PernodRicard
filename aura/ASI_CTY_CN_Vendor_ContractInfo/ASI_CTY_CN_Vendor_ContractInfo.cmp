<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" access="global" controller="ASI_CTY_CN_Vendor_SIRUploadController">

    <aura:attribute name="showSpinner" type="Boolean" default="false"/>
    <aura:attribute name="poInfoExpanded" type="Boolean" default="true"/>
    <aura:attribute name="itemGroupInfoExpanded" type="Boolean" default="true"/>
    <aura:attribute name="polineItemPosmExpanded" type="Boolean" default="true"/>
    <aura:attribute name="addressExpanded" type="Boolean" default="true"/>
    <aura:attribute name="polineItemExpanded" type="Boolean" default="true"/>

    <aura:attribute name="isInsert" type="Boolean" default="true"/>
    <aura:attribute name="POInfo" type="Object" />
    <aura:attribute name="SIRInfo" type="Object" />
    <aura:attribute name="QuotationInfo" type="Object" />
    <aura:attribute name="isShowModal" type="Boolean" default="false" />
    <aura:attribute name="isShowImageModal" type="Boolean" default="false" />
    <aura:attribute name="isDisabled" type="Boolean" default="false" />
    <aura:attribute name="outClass" type="String"/>
    <aura:attribute name="TIVPDFUrl" type="String" default="" />
    
    <!-- UploadAttribute -->
    <aura:attribute name="filetype" type="List" default="['.png', '.jpg', '.jpeg']" />
    <aura:attribute name="file" type="Object"/>
    <aura:attribute name="fileList" type="List" default="[]"/>
    <aura:attribute name="multiple" type="Boolean" default="false" />
    <aura:attribute name="isUploadImage" type="Boolean" default="false" />

    <aura:attribute name="recordId" type="String"/>
    <aura:handler name="init" value="{! this}" action="{! c.doInit}" />

    <aura:if isTrue="{!v.showSpinner}">
        <div aura:id="spinnerId" class="slds-spinner_container" style="position: fixed;z-index: 9999;">
            <div class="slds-spinner--brand  slds-spinner slds-spinner--large slds-is-relative" role="alert">
                <span class="slds-assistive-text">Loading...</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
    </aura:if>

    <div>
        <lightning:layout class="slds-page-header slds-page-header--object-home">
		    <lightning:layoutItem >
		        <lightning:icon iconName="standard:contract" alternativeText="{!$Label.c.ASI_CTY_CN_Vendor_PODetail_Name}"/>
		    </lightning:layoutItem>
		    <lightning:layoutItem padding="horizontal-small" size="10">
		        <div class="page-section page-header">
		            <h1 class="slds-text-heading--label">{!$Label.c.ASI_CTY_CN_Vendor_PODetail_Name}</h1>
		            <h1 class="slds-text-heading--medium">{! v.POInfo.Name}</h1>
		        </div>
		        <div>
		        	<a href="./Contract">&lt; {!$Label.c.ASI_CTY_CN_Vendor_PODetail_ReturnPOList}</a>
		        </div>
		    </lightning:layoutItem>
		    <lightning:layoutItem size="1">
                <div style="height: 100%;position: relative;top: 25%;left: 70%;">
                    <input id="{!v.POInfo.Id}" type="button" class="slds-button slds-button--neutral slds-not-selected" value="{! $Label.c.ASI_CTY_CN_Vendor_PODetail_ViewPDF}" onclick="{! c.openPDF}"/>
                </div>
            </lightning:layoutItem>
            <lightning:layoutItem size="1"></lightning:layoutItem>
		</lightning:layout>
    </div>

    <br/>
    <div class="slds-p-around_small slds-box">
		<div class="{!v.poInfoExpanded ? 'slds-section slds-is-open' : 'slds-section'}">
			<h3 class="slds-section__title">
	            <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action btn-section" onclick="{!c.handlePoInfoExpand}" style="background: lavender;">
	            	<lightning:icon alternativeText="Approved" iconName="{!v.poInfoExpanded?'utility:switch':'utility:chevronright'}" size="x-small"></lightning:icon>
	                <span class="slds-truncate slds-p-left_small" title="{!$Label.c.ASI_CTY_CN_Vendor_PO_Info}">{!$Label.c.ASI_CTY_CN_Vendor_PO_Info}</span>
	        	</button>
			</h3>

			<div aria-hidden="false" class="slds-section__content slds-m-right--large">
				<lightning:layout class="slds-section__content" multipleRows="true">
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Number}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.Name}
                            </span>
						</div>
					</lightning:layoutItem>
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Status}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.ASI_MFM_Status__c}
                            </span>
						</div>
					</lightning:layoutItem>
				</lightning:layout>
				<lightning:layout class="slds-section__content" multipleRows="true">
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Type}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.ASI_MFM_PO_Type__c}
                            </span>
						</div>
					</lightning:layoutItem>
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_POList_StartDate1}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.ASI_MFM_PO_Start_Date__c}
                            </span>
						</div>
					</lightning:layoutItem>
				</lightning:layout>
				<lightning:layout class="slds-section__content" multipleRows="true">
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
						<label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Buyer}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.ASI_MFM_eMarket_Buyer__r.Name}
                           </span>
						</div>
					</lightning:layoutItem>
                    <lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
						<label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_End_Date}</label><br/>
						<div class="slds-border_bottom">
				            <span class="slds-form-element__static">
				            	{! v.POInfo.ASI_MFM_PO_End_Date__c}
                           </span>
						</div>
					</lightning:layoutItem>
				</lightning:layout>
				<lightning:layout class="slds-section__content" multipleRows="true">
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Name + $Label.c.ASI_CTY_CN_Vendor_PO_Total_Amount}</label><br/>
                        <div class="slds-border_bottom">
                            <span class="slds-form-element__static">
                                ￥ <lightning:formattedNumber value="{! v.POInfo.ASI_MFM_CN_PO_Amount_RMB__c}" minimumFractionDigits="2"/>
                           </span>
                        </div>
                    </lightning:layoutItem>
					<lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Final_Date}</label><br/>
                        <div class="slds-border_bottom">
                            <span class="slds-form-element__static">
                                {! v.POInfo.ASI_MFM_PO_Final_Date__c}
                           </span>
                        </div>
                    </lightning:layoutItem>
				</lightning:layout>
                <lightning:layout class="slds-section__content" multipleRows="true">
                    <lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{! $Label.c.ASI_CTY_CN_Vendor_PO_PR_Number}</label><br/>
                        <div class="slds-border_bottom">
                            <span class="slds-form-element__static">
                                {! v.POInfo.ASI_CTY_CN_Vendor_Purchase_Request_Line__r.ASI_MFM_Purchase_Request__r.Name + '-' + v.POInfo.ASI_CTY_CN_Vendor_Purchase_Request_Line__r.Name}
                           </span>
                        </div>
                    </lightning:layoutItem>
                    <lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{!$Label.c.ASI_CTY_CN_Vendor_PO_Remark}</label><br/>
                        <div class="slds-border_bottom">
                            <span class="slds-form-element__static">
                                {! v.POInfo.ASI_MFM_Remarks__c}
                           </span>
                        </div>
                    </lightning:layoutItem>
                </lightning:layout>
                <lightning:layout class="slds-section__content" multipleRows="true">
                    <lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                        <label class="slds-form-element__label">{! $Label.c.ASI_CTY_CN_Vendor_Bidding_Number}</label><br/>
                        <div class="slds-border_bottom">
                            <span class="slds-form-element__static">
                                <a href="{! './biddingdetail?Id=' + v.QuotationInfo.ASI_CTY_CN_Vendor_Quotation__c }">{! v.QuotationInfo.ASI_CTY_CN_Vendor_Quotation__r.Name}</a>
                           </span>
                        </div>
                    </lightning:layoutItem>
                    <lightning:layoutItem size="8" smallDeviceSize="12" mediumDeviceSize="6" largeDeviceSize="6" padding="horizontal-small">
                    </lightning:layoutItem>
                </lightning:layout>
			</div>
		</div>

		<div class="{!v.itemGroupInfoExpanded ? 'slds-section slds-is-open' : 'slds-section'}">
			<h3 class="slds-section__title">
	            <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action btn-section" onclick="{!c.handleItemGroupInfoExpand}" style="background: lavender;">
	            	<lightning:icon alternativeText="Approved" iconName="{!v.itemGroupInfoExpanded?'utility:switch':'utility:chevronright'}" size="x-small"></lightning:icon>
	                <span class="slds-truncate slds-p-left_small" title="{!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Info}">{!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Info}</span>
	        	</button>
			</h3>

			<div aria-hidden="false" class="slds-section__content slds-m-right--large">
				<table id="orderTable" aria-multiselectable="true" class="slds-table slds-table_cell-buffer slds-table_resizable-cols orderTable" role="grid">
                    <thead>
                        <tr class="slds-line-height_reset">
                        	<th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Number}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Number}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Name}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Name}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Remark}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Remark}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PO_PPL_MinOrderQty}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PO_PPL_MinOrderQty}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Period_of_Validity}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_Period_of_Validity}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PODetail_Total_Quantity}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PODetail_Total_Quantity}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_WritedSIRQty}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_WritedSIRQty}
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <aura:if isTrue="{!(v.POInfo.ItemGroup != null)}">
                            <tr class="slds-hint-parent" role="row" >
                            	<td role="gridcell">{!v.POInfo.ItemGroup.ASI_MFM_Item_Group_Code__c}</td>
                                <td role="gridcell">{!v.POInfo.ItemGroup.Name}</td>
                                <td role="gridcell">{!v.POInfo.ItemGroup.ASI_MFM_Item_Group_Remark__c}</td>
                                <td role="gridcell">{!v.POInfo.MinimumQty}</td>
                                <td role="gridcell">{!v.POInfo.ItemGroup.ASI_MFM_Period_of_Validity__c}</td>
                                <td role="gridcell">{!v.POInfo.TotalQty}</td>
                                <td role="gridcell">{!v.POInfo.ActualQty}</td>
                            </tr>
                        </aura:if>
                        <aura:if isTrue="{!(v.POInfo.ItemGroup == null)}">
                            <tr class="ItemGroups"><td class="noItemGroup" colspan="9">{!$Label.c.ASI_CTY_CN_Vendor_PO_ItemGroup_NoRecords}</td></tr>
                        </aura:if>
                    </tbody>
                </table>
			</div>
		</div>
   
   		<div class="{!v.polineItemPosmExpanded ? 'slds-section slds-is-open' : 'slds-section'}">
			<h3 class="slds-section__title">
	            <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action btn-section" onclick="{!c.handlePolineItemPosmExpand}" style="background: lavender;">
	            	<lightning:icon alternativeText="Approved" iconName="{!v.polineItemPosmExpanded?'utility:switch':'utility:chevronright'}" size="x-small"></lightning:icon>
	                <span class="slds-truncate slds-p-left_small" title="{!$Label.c.ASI_CTY_CN_Vendor_PPL_Name}">{!$Label.c.ASI_CTY_CN_Vendor_PPL_Name}</span>
	        	</button>
			</h3>
			<div aria-hidden="false" class="slds-section__content slds-m-right--large">
				<table id="orderTable" aria-multiselectable="true" class="slds-table slds-table_cell-buffer slds-table_resizable-cols orderTable" role="grid">
                    <thead>
                        <tr class="slds-line-height_reset">
                        	<th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 50px;">
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 250px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Name}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Name}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 100px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_ItemGroup_UnitPrice}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_ItemGroup_UnitPrice}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 90px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PPL_Total_Quantity}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PPL_Total_Quantity}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 120px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PPL_Total_Amount}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PPL_Total_Amount}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 200px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_PPL_Address}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 90px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_WritedSIRQty}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_WritedSIRQty}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 90px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_POList_NoWritedSIRQty}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_POList_NoWritedSIRQty}
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col" style="width: 140px;">
                                <div class="slds-truncate" title="{!$Label.c.ASI_CTY_CN_Vendor_Operation}">
                                    {!$Label.c.ASI_CTY_CN_Vendor_Operation}
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <aura:if isTrue="{!(v.POInfo.PO_POSM_Lines__r.length > 0)}">
                            <aura:iteration var="posm" items="{! v.POInfo.PO_POSM_Lines__r }" indexVar="index">
                                <tr class="slds-hint-parent" role="row" >
                                    <td role="gridcell">
                                        <span class="slds-icon slds-icon-text-default details-control">
                                            <lightning:icon class="{!(posm.ShowSIR ? 'cos-rotate ' : '')}" iconName="utility:chevronright" size="x-small" alternativeText="down" onclick="{!c.controlSIR}" id="{!index}" />
                                        </span>
                                    </td>
                                    <td role="gridcell">
                                        {!posm.ASI_MFM_Item_Group__r.Name}
                                    </td>
                                    <td role="gridcell">￥ <lightning:formattedNumber value="{!posm.ASI_MFM_Unit_Price__c}" minimumFractionDigits="2"/></td>
                                    <td role="gridcell">{!posm.ASI_MFM_Quantity__c}</td>
                                    <td role="gridcell">￥ <lightning:formattedNumber value="{!posm.ASI_MFM_Total_Price_w_VAT__c}" minimumFractionDigits="2"/></td>
                                    <td role="gridcell" class="addressInfo">
                                        <div class="contentAutoOverFlow">
                                            <span>{!posm.ASI_MFM_Detail_Address__c}</span>
                                            
                                            <div id="addressInfo1">
                                                <table class="addressInfoTable">
                                                    <thead>
                                                        <tr>
                                                            <th width="60px"></th>
                                                            <th width="244px"></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <aura:if isTrue="{! posm.ASI_MFM_Delivery_Address_Outlet__r.Id != null &amp;&amp; posm.ASI_MFM_Delivery_Address_Warehouse__r.Id == null}">
                                                                <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Outlet}</td>
                                                                <td>{!posm.ASI_MFM_Delivery_Address_Outlet__r.Name}</td>
                                                            </aura:if>

                                                            <aura:if isTrue="{! posm.ASI_MFM_Delivery_Address_Warehouse__r.Id != null &amp;&amp; posm.ASI_MFM_Delivery_Address_Outlet__r.Id == null}">
                                                                <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Outlet}</td>
                                                                <td>{!posm.ASI_MFM_Delivery_Address_Warehouse__r.Name}</td>
                                                            </aura:if>
                                                        </tr>
                                                        <tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Province}</td>
                                                            <td>{! posm.ASI_MFM_Province__c}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_City}</td>
                                                            <td>{! posm.ASI_MFM_City__c}</td>
                                                        </tr><tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_FullInfo}</td>
                                                            <td>{! posm.ASI_MFM_Detail_Address__c}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Contact}</td>
                                                            <td>{! posm.ASI_MFM_Contact_Person__c}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Contact_Phone}</td>
                                                            <td>{! posm.ASI_MFM_Phone_Number__c}</td>
                                                        </tr>
                                                        <tr>
                                                            <td>{!$Label.c.ASI_CTY_CN_Vendor_PPL_Address_Contact_Email}</td>
                                                            <td>{! posm.ASI_MFM_Email__c}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </td>
                                    <td role="gridcell">{!posm.ActualQty}</td>
                                    <td role="gridcell">{!posm.ASI_MFM_Quantity__c - posm.ActualQty}</td>
                                    <td role="gridcell">
                                        <div class="slds-button-group" role="group" style="{! 'display:' + ((posm.ASI_MFM_Quantity__c == posm.ActualQty || posm.ASI_MFM_Detail_Address__c == $Label.c.ASI_CTY_CN_Vendor_PPL_NoDelivery_Address) ? 'none' : 'block')}">
                                            <input type="button" class="slds-button slds-button--neutral slds-not-selected" value="{!$Label.c.ASI_CTY_CN_Vendor_PPL_WritedSIR}" onclick="{! c.writeSIR}" id="{!index}" />
                                        </div>
                                    </td>
                                </tr>

                                <aura:if isTrue="{!posm.ShowSIR}">
                                    <aura:if isTrue="{!posm.sirsInfo.length > 0}">
                                        <tr class="ItemGroups">
                                            <td style="padding: 0px;" colspan="11">
                                                <table class="slds-table slds-table_bordered slds-border_bottom slds-border_left slds-border_right slds-border_top subTable borderAliceblue">
                                                    <thead>
                                                        <tr class="slds-line-height_reset">
                                                            <th scope="col" class="bgAliceblue" style="width: 170px;text-align: center;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Number}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 85px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Approval_Status}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 80px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_TIV_Number}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 60px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Lot_Number}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 75px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_UnitWeight}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 75px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Size}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 120px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_MinUnitPrice}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 80px;">{!$Label.c.ASI_CTY_CN_Vendor_POList_WritedSIRQty}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 120px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Qty_Per_Bag_Box}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 90px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Number_Of_Box}</th>
                                                            <th scope="col" class="bgAliceblue" style="width: 120px;">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Delivery_Date}</th>
                                                        </tr>
                                                    </thead>

                                                    <tbody>
                                                        <aura:iteration indexVar="indexSIR" items="{!posm.sirsInfo}" var="sir">
                                                            <tr class="slds-hint-parent ItemGroupInfo">
                                                                <td>
                                                                    <a class="ItemGroupDetails" id="{! indexSIR}" name="{!index}" onclick="{! c.updateSIR}">
                                                                        {! sir.Name}
                                                                        <aura:if isTrue="{! (sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == 'Rejected' || sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == $Label.c.ASI_CTY_CN_Vendor_Rejected) ? 'true' : 'false'}">
                                                                            <lightning:icon iconName="action:edit" size="xx-small" class="iconCursor" />
                                                                        </aura:if>
                                                                    </a>
                                                                    <aura:if isTrue="{! (sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == 'Pending Confirm' || sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == $Label.c.ASI_CTY_CN_Vendor_Pending_Confirm) ? 'true' : 'false'}">
                                                                        <a id="{! indexSIR}" name="{!index}" onclick="{! c.recallSIRInfo}">
                                                                            <lightning:icon iconName="action:back" size="xx-small" class="iconCursor" />
                                                                        </a>
                                                                    </aura:if>
                                                                </td>
                                                                <td class="sirRejected">
                                                                <span style="{! 'color:' + ((sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == 'Rejected' || sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == $Label.c.ASI_CTY_CN_Vendor_Rejected) ? 'red' : '')}">{! sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c}</span>
                                                                <aura:if isTrue="{! (sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == 'Rejected' || sir.ASI_CTY_CN_Vendor_SIR_Approval_Status__c == $Label.c.ASI_CTY_CN_Vendor_Rejected)}">
                                                                    <aura:if isTrue="{! sir.comments != ''}">
                                                                        <div class="sirApproval">
                                                                            <lightning:formattedRichText value="{! sir.comments}"></lightning:formattedRichText>
                                                                        </div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{! sir.comments == ''}">
                                                                        <div class="sirApproval" style="width: 100px;height: 30px;">
                                                                        </div>
                                                                    </aura:if>
                                                                </aura:if>
                                                                </td>
                                                                <td>
                                                                    <a id="{! indexSIR}" name="{!index}" onclick="{! c.openTIVPDF}" target="_blank" href="{! v.TIVPDFUrl}">
                                                                        {! sir.ASI_MFM_TIV_Number__c}
                                                                    </a>
                                                                </td>
                                                                <td>{! sir.ASI_MFM_Lot_Number__c}</td>
                                                                <td>{! sir.ASI_MFM_Net_Weight__c}</td>
                                                                <td>{! sir.ASI_MFM_Box_Size_M3__c}</td>
                                                                <td>￥ <lightning:formattedNumber value="{! sir.ASI_MFM_Min_Unit_Price__c}" minimumFractionDigits="2"/>
                                                                </td>
                                                                <td>{! sir.ASI_MFM_Lot_Quantity__c}</td>
                                                                <td>{! sir.ASI_MFM_Qty_Per_Bag_Box__c}</td>
                                                                <td>{! sir.ASI_MFM_Total_Number_Of_Box__c}</td>
                                                                <td>{! sir.ASI_Delivery_Date__c}</td>
                                                            </tr>
                                                        </aura:iteration>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>

                                        <aura:set attribute="else">
                                            <tr class="ItemGroups"><td class="noItemGroup" colspan="11">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_NoRecords}</td></tr>
                                        </aura:set>
                                    </aura:if>
                                </aura:if>
                            </aura:iteration>
                        </aura:if>
                        <aura:if isTrue="{!(v.POInfo.PO_POSM_Lines__r == null) || (v.POInfo.PO_POSM_Lines__r.length == 0)}">
                            <tr class="ItemGroups"><td class="noItemGroup" colspan="9">{!$Label.c.ASI_CTY_CN_Vendor_PPL_NoRecords}</td></tr>
                        </aura:if>
                    </tbody>
                </table>
            </div>
		</div>

        <div class="{!v.polineItemExpanded ? 'slds-section slds-is-open' : 'slds-section'}">
            <h3 class="slds-section__title">
                <button aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action btn-section" onclick="{!c.handlePolineItemExpand}" style="background: lavender;">
                    <lightning:icon alternativeText="Approved" iconName="{!v.itemGroupInfoExpanded?'utility:switch':'utility:chevronright'}" size="x-small"></lightning:icon>
                    <span class="slds-truncate slds-p-left_small" title="合同子项信息">合同子项信息</span>
                </button>
            </h3>

            <div aria-hidden="false" class="slds-section__content slds-m-right--large">
                <table aria-multiselectable="true" class="slds-table slds-table_cell-buffer slds-table_resizable-cols" role="grid">
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="产品名称">
                                    产品名称
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="数量">
                                    数量
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="单价">
                                    单价
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="总价">
                                    总价
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="已申请付款金额">
                                    已申请付款金额
                                </div>
                            </th>
                            <th aria-label="" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                                <div class="slds-truncate" title="待申请付款金额">
                                    待申请付款金额
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <aura:if isTrue="{!(v.POInfo.PO_Line_Items__r != null)}">
                            <aura:iteration items="{! v.POInfo.PO_Line_Items__r}" var="item">
                                <tr class="slds-hint-parent" role="row" >
                                    <td role="gridcell">{! item.ASI_MFM_List_Item_Description__c}</td>
                                    <td role="gridcell">{! item.ASI_MFM_Quantity__c}</td>
                                    <td role="gridcell">
                                        <aura:if isTrue="{! item.ASI_MFM_Unit_Price__c == null || item.ASI_MFM_Unit_Price__c == ''}">
                                            ￥ 0
                                            <aura:set attribute="else">
                                                ￥ <lightning:formattedNumber value="{! item.ASI_MFM_Unit_Price__c}" minimumFractionDigits="2"/>
                                            </aura:set>
                                        </aura:if>
                                    </td>
                                    <td role="gridcell">￥ <lightning:formattedNumber value="{! item.ASI_MFM_Amount__c}" minimumFractionDigits="2"/></td>
                                    <td role="gridcell">￥ <lightning:formattedNumber value="{! item.ASI_MFM_CN_Paid_Amount__c}" minimumFractionDigits="2"/></td>
                                    <td role="gridcell">￥ <lightning:formattedNumber value="{! item.ASI_MFM_Remaining_Balance__c}" minimumFractionDigits="2"/></td>
                                </tr>
                            </aura:iteration>
                        </aura:if>
                        <aura:if isTrue="{!(v.POInfo.PO_Line_Items__r == null)}">
                            <tr class="ItemGroups"><td class="noItemGroup" colspan="9">暂无产品付款信息</td></tr>
                        </aura:if>
                    </tbody>
                </table>
            </div>
        </div>
    </div> 

    <aura:if isTrue="{!v.isShowModal}">
        <section role="dialog" tabindex="-1" class="slds-modal slds-backdrop_open slds-modal_small" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" style="outline: none;border: none;width: 100%;
        height: 100%;position: fixed;background: rgba(126, 140, 153, 0.8);z-index: 9000;">
            <div class="slds-modal__container">
                <header class="slds-modal__header model-header">
                    <lightning:icon iconName="action:edit_relationship" />
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Info}</h2>
                    <div>
                        <div class="text_right">
                            {!$Label.c.ASI_CTY_CN_Vendor_POList_ItemGroup_Name + ' : '} <label>{! v.SIRInfo.ItemGroupName}</label>
                        </div>
                        <div class="text_right">
                            {!$Label.c.ASI_CTY_CN_Vendor_POList_SIR_PPL_Total_Quantity + ' : '}<label style="margin-right: 15px;">{! v.SIRInfo.ASI_MFM_Total_Quantity__c}</label> {!$Label.c.ASI_CTY_CN_Vendor_POList_NoWritedSIRQty + ' : '}<span> {! v.SIRInfo.UpdateActualQty}</span>
                        </div>
                    </div>
                </header>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <lightning:layout multipleRows="true" horizontalAlign="center" pullToBoundary="small">
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_UnitWeight}" value="{!v.SIRInfo.ASI_MFM_Net_Weight__c}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_UnitWeight_Tips}" required="true" disabled="{! v.isDisabled}" aura:id="Net_Weight" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_UnitWeight_Tips}" class="describe" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Length}" value="{!v.SIRInfo.ASI_MFM_Length__c}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Length_Tips}" required="true" disabled="{! v.isDisabled}" aura:id="Length" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Length_Tips}" class="describe" onchange="{! c.calculateBoxVolume}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Net_Weight}" value="{!v.SIRInfo.ASI_MFM_Box_Net_Weight__c}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Net_Weight_Tips}" required="true" disabled="{! v.isDisabled}" aura:id="Box_Net_Weight" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Net_Weight_Tips}" class="describe" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Width}" value="{!v.SIRInfo.ASI_MFM_Width__c}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Width_Tips}" required="true" disabled="{! v.isDisabled}" aura:id="Width" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Width_Tips}" class="describe" onchange="{! c.calculateBoxVolume}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Qty_Per_Bag_Box}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Qty_Per_Bag_Box_Tips}" value="{!v.SIRInfo.ASI_MFM_Total_Qty_Per_Bag_Box__c}" class="describe" required="true" disabled="{! v.isDisabled}" aura:id="Total_Qty_Per_Bag_Box" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Qty_Per_Bag_Box_Tips}" onchange="{! c.calculateLotQuantity}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error2}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Height}" value="{!v.SIRInfo.ASI_MFM_Height__c}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Height_Tips}" required="true" disabled="{! v.isDisabled}" class="describe" aura:id="Height" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Height_Tips}" onchange="{! c.calculateBoxVolume}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Qty_Per_Box}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Qty_Per_Box_Tips}" value="{!v.SIRInfo.ASI_MFM_Qty_Per_Box__c}" class="describe"  required="true" disabled="{! v.isDisabled}" aura:id="Qty_Per_Box" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Qty_Per_Box_Tips}" onchange="{! c.calculateLotQuantity}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error2}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Fraction_Qty}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Fraction_Qty_Tips}" value="{!v.SIRInfo.ASI_MFM_Fraction_Qty__c}" class="describe" required="true" disabled="{! v.isDisabled}" aura:id="Fraction_Qty" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Fraction_Qty_Tips}" onchange="{! c.calculateLotQuantity}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error2}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Number_Of_Box}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Number_Of_Box_Tips}" value="{!v.SIRInfo.ASI_MFM_Total_Number_Of_Box__c}" class="describe" required="true" disabled="{! v.isDisabled}" aura:id="Total_Number_Of_Box" onchange="{! c.calculateLotQuantity}" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Total_Number_Of_Box_Tips}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error2}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Date" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Delivery_Date}" placeholder="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Delivery_Date_Tips}" value="{!v.SIRInfo.ASI_Delivery_Date__c}" class="describe" required="true" disabled="{! v.isDisabled}" aura:id="Delivery_Date" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Delivery_Date_Tips}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Lot_Quantity}" value="{!v.SIRInfo.ASI_MFM_Lot_Quantity__c}" class="describe" required="true" disabled="true" aura:id="Qty_Per_Bag_Box" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Lot_Quantity_Tips}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error2}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input variant="standard" type="Number" step=".001" label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Size}" value="{!v.SIRInfo.ASI_MFM_Box_Size_M3__c}" required="true" disabled="true" class="describe" aura:id="Box_Size_M3" messageWhenValueMissing="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Box_Size_Tips}" messageWhenStepMismatch="{!$Label.c.ASI_CTY_CN_Vendor_Input_Number_Error1}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <lightning:input name="fileUploader"
                                label="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Upload_Image}"
                                type="file" 
                                accept="{!v.filetype}"
                                multiple="{!v.multiple}" 
                                onchange="{!c.handleUploadFinished }"
                                disabled="{! v.isDisabled}" />
                        </lightning:layoutItem>
                        <lightning:layoutItem flexibility="auto" size="6" padding="horizontal-small">
                            <div>
                                {!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Upload_Files}
                                <ul class="fileList">
                                    <aura:if isTrue="{! v.fileList.length > 0}">
                                        <li>
                                            <lightning:layout multipleRows="true" horizontalAlign="left" pullToBoundary="small" verticalAlign="center">
                                                <lightning:layoutItem>
                                                    <lightning:icon iconName="doctype:image" alternativeText="{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Upload_Files_List}" class="fileListImageIcon"/>
                                                </lightning:layoutItem>
                                                <lightning:layoutItem>
                                                    <div class="page-section page-header" onclick="{! c.openImage}" style="cursor: pointer;">
                                                        <h1 class="slds-text-heading--label">{! v.fileList[0].name}</h1>
                                                        <h1 class="slds-text-heading--medium">{! v.fileList[0].size} B</h1>
                                                    </div>
                                                </lightning:layoutItem>
                                            </lightning:layout>
                                        </li>
                                    </aura:if>
                                    <aura:if isTrue="{! v.fileList.length == 0}">
                                        <li>{!$Label.c.ASI_CTY_CN_Vendor_PPL_SIR_Upload_NoFiles}</li>
                                    </aura:if>
                                </ul>
                            </div>
                        </lightning:layoutItem>
                    </lightning:layout>
                </div>
                <footer class="slds-modal__footer model-footer">
                    <button type="button" name="inhouse" class="slds-button slds-button_neutral" onclick="{!c.submitWriteSIR}">{!$Label.c.ASI_CTY_CN_Vendor_Comfirm}</button>
                    <button type="button" name="inhouse" class="slds-button slds-button_neutral" onclick="{!c.cancelWriteSIR}">{!$Label.c.ASI_CTY_CN_Vendor_Cancel}</button>
                </footer>
            </div>
        </section>
    </aura:if>

    <aura:if isTrue="{!v.isShowImageModal}">
        <div class="SIRImageModel" onmouseover="{! c.mouseoverImageModel}" onmouseout="{! c.mouseoutImageModel}" style="position: fixed;left: 0;right: 0;top: 0;bottom: 0;padding: 0;margin: 0;background-color: rgba(0,0,0,.8);z-index: 9200;">
            <div class="out">
                <div class="{! v.outClass + ' SIRImageModelHeader'}">
                    <lightning:layout horizontalAlign="left" pullToBoundary="small" verticalAlign="center" class="outImageHeader">
                        <lightning:layoutItem class="outImageIcon">
                            <lightning:icon iconName="doctype:image" class="fileListImageIcon"/>
                        </lightning:layoutItem>
                        <lightning:layoutItem padding="horizontal-medium" size="10">
                            <div class="page-section page-header">
                                <h1 class="slds-text-heading--label" style="color:white;">{! v.fileList[0].name}</h1>
                                <h1 class="slds-text-heading--medium">{! v.fileList[0].size} B</h1>
                            </div>
                        </lightning:layoutItem>
                        <lightning:layoutItem padding="around-small" class="outCloseIcon">
                             <lightning:icon iconName="action:download" alternativeText="{!$Label.c.ASI_CTY_CN_Vendor_Download}" size="x-small" class="imageIcon"  onclick="{! c.downloadSIRImage}"/>
                             <lightning:icon iconName="action:close" alternativeText="{!$Label.c.ASI_CTY_CN_Vendor_Close}" size="x-small" class="imageIcon"  onclick="{! c.closeSIRImageModel}"/>
                        </lightning:layoutItem>
                    </lightning:layout>
                </div>
            </div>

            <div class="outImage" id="outImage">
                <img src="{! v.fileList[0].content}" id="SIRImagePrew" />
            </div>
        </div>
    </aura:if>
</aura:component>