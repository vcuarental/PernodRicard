<apex:page controller="EUR_ISP_CustomAccountLookupController" title="Search" showHeader="false" sideBar="false" tabStyle="EUR_CRM_Account__c" id="pg">
<apex:form >
	<apex:outputPanel id="page" layout="block" style="margin:5px;padding:10px;padding-top:2px;">
		<apex:tabPanel switchType="client" selectedTab="name1" id="tabbedPanel">

			<!-- SEARCH TAB -->
			<apex:tab label="Search" name="tab1" id="tabOne">
				<apex:actionRegion >  
					<apex:outputPanel id="top" layout="block" style="margin:5px;padding:10px;padding-top:2px;">
						<apex:outputLabel value="Search" style="font-weight:bold;padding-right:10px;" for="txtSearch"/>
						<apex:inputText id="txtSearch" value="{!searchString}" onkeypress="return noenter(event);"/>
						<span style="padding-left:5px">
							<apex:commandButton id="btnGo" value=" Search " action="{!Search}" rerender="searchResults"></apex:commandButton>
						</span>
					</apex:outputPanel>

					<apex:outputPanel id="pnlSearchResults" style="margin:10px;height:350px;overflow-Y:auto;" layout="block">
						<apex:pageBlock id="searchResults"> 
							<apex:pageBlockTable value="{!results}" var="a" id="tblResults">
								<apex:column >
									<apex:facet name="header">
										<apex:outputPanel >Name</apex:outputPanel>
									</apex:facet>
									 <apex:outputLink value="javascript:top.window.opener.lookupPick2('{!FormTag}','{!TextBox}_lkid','{!JSENCODE(TextBox)}','{!a.Id}','{!JSENCODE(a.Name)}', false)" rendered="{!NOT(ISNULL(a.Id))}">{!a.Name}</apex:outputLink>     
								</apex:column>
								<apex:column >
									<apex:facet name="header">
										<apex:outputPanel >Company name</apex:outputPanel>
									</apex:facet>
									<apex:outputLink value="javascript:top.window.opener.lookupPick2('{!FormTag}','{!TextBox}_lkid','{!JSENCODE(TextBox)}','{!a.Id}','{!JSENCODE(a.EUR_CRM_Company_Name__c)}', false)" rendered="{!NOT(ISNULL(a.Id))}">{!a.EUR_CRM_Company_Name__c}</apex:outputLink>
								</apex:column>
								<apex:column >
									<apex:facet name="header">
										<apex:outputPanel >City</apex:outputPanel>
									</apex:facet>
									<apex:outputLink value="javascript:top.window.opener.lookupPick2('{!FormTag}','{!TextBox}_lkid','{!JSENCODE(TextBox)}','{!a.Id}','{!JSENCODE(a.EUR_CRM_City__c)}', false)" rendered="{!NOT(ISNULL(a.Id))}">{!a.EUR_CRM_City__c}</apex:outputLink>
								</apex:column>
								<apex:column >
									<apex:facet name="header">
										<apex:outputPanel >Street</apex:outputPanel>
									</apex:facet>
									<apex:outputLink value="javascript:top.window.opener.lookupPick2('{!FormTag}','{!TextBox}_lkid','{!JSENCODE(TextBox)}','{!a.Id}','{!JSENCODE(a.EUR_CRM_Street__c)}', false)" rendered="{!NOT(ISNULL(a.Id))}">{!a.EUR_CRM_Street__c}</apex:outputLink>
								</apex:column>
								<apex:column >
									<apex:facet name="header">
										<apex:outputPanel >Postal Code</apex:outputPanel>
									</apex:facet>
									<apex:outputLink value="javascript:top.window.opener.lookupPick2('{!FormTag}','{!TextBox}_lkid','{!JSENCODE(TextBox)}','{!a.Id}','{!JSENCODE(a.EUR_CRM_Postal_Code__c)}', false)" rendered="{!NOT(ISNULL(a.Id))}">{!a.EUR_CRM_Postal_Code__c}</apex:outputLink>
								</apex:column>

							</apex:pageBlockTable>
						</apex:pageBlock>
					</apex:outputPanel>
				</apex:actionRegion>
			</apex:tab>

			<!-- NEW ACCOUNT TAB -->
			<!-- <apex:tab label="New Account" name="tab2" id="tabTwo">

				<apex:pageBlock id="newAccount" title="New Account" >

					<apex:pageBlockButtons >
						<apex:commandButton action="{!saveAccount}" value="Save"/>
					</apex:pageBlockButtons>
					<apex:pageMessages />

					<apex:pageBlockSection columns="2">
						<apex:repeat value="{!$ObjectType.Account.FieldSets.CustomAccountLookup}" var="f">
							<apex:inputField value="{!Account[f]}"/>
						</apex:repeat>
					</apex:pageBlockSection> 
				</apex:pageBlock>

			</apex:tab> -->
		</apex:tabPanel>
	</apex:outputPanel>

<apex:actionFunction name="Search" action="{!Search}" />
</apex:form>
<script type='text/javascript'>
	function noenter(ev)  {
		if (window.event && window.event.keyCode == 13 || ev.which == 13) {
			Search();
			return false;
		} else {
			return true;
		}
	}
</script>
</apex:page>