<!--
/*********************************************************************************
 * Name: ASI_CRM_PH_ContractSummary
 * Description: Display Contract Summary in PDF
 *
 * Version History
 * Date             Developer               Comments
 * ---------------  --------------------    --------------------------------------------------------------------------------
 * 2018-11-27		Wilken Lee				Create
 */
-->
<apex:page renderAs="Pdf"
           standardController="ASI_TH_CRM_Contract__c"
           extensions="ASI_CRM_PH_ContractSummaryCtrl"
           action="{!init}"
           Title="PH Contract Summary"
           showHeader="false" applyHtmlTag="false" applyBodyTag="false" docType="html-5.0">
	<html>
    <head>
        <style>
            @page {
                @top-center {
                    content: element(header);
                }
                @bottom-right {
                    content: element(footer);
                } 
                size: A4 landscape;
                margin: 1cm;
                //margin to be set here on later stages.
            }
            div.header {
                padding: 10px;
                position: running(header);
            }
            div.footer {
                display: block;
                padding: 15px;
                position: running(footer);
            }
            .pagenumber:before {
                content: counter(page);
                font-weight: bold;
                background-color: #C0C0C0;
            }
            .pagecount:before {
                content: counter(pages);
                font-weight: bold;
                background-color: #C0C0C0;
            }
            body {
                font-family: Arial, Helvetica,sans-serif;
                font-size: 12px;
                line-height: 130%;
            }
            sup {
                font-weight: normal;
                font-size: 91%;
            }
            span {
            	font-family: Arial Unicode MS;
            }
            .heading {
                text-align : center !important;
                font-weight: bold;
                text-decoration: underline;
            }
            .wholesaler {
                border-collapse: collapse;
                border-width: 1px;
                border-color: #111;
                width: 75%;
            }
            .internalHeading {
                font-weight: bold;
                text-decoration: underline;
            }
            .bodyText {
                text-align : justify !important;
            }
            .boldText {
                vertical-align: text-top;
                font-weight: bold;
            }
            tr.border-bottom-header td{
            	border-bottom:2pt solid black;
            }
            tr.border-bottom-field td{
            	border-bottom:1px solid #EDEAE9;
            }
            tr.border-field td{
            	border:1px solid #EDEAE9;
            }
            tr.border-field th{
            	border:1px solid #EDEAE9;
            }
            .text-right{
                text-align: right;
            }
        </style>
    </head>
    <body>
		<apex:form >
        <table style="width:100%; padding:15px; " cellpadding="5">
            <colgroup>
                <col span="1" style="width: 15%;padding-left:5px;"/>
                <col span="1" style="width: 35%;padding-left:5px;"/>
                <col span="1" style="width: 15%;padding-left:5px;"/>
                <col span="1" style="width: 35%;padding-right:5px;"/>
            </colgroup>
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="4">Contract Detail</td>
                </tr>
                <tr class="border-bottom-field">
                	<td class="boldText">Customer</td>
                    <td>{!Contract.ASI_CRM_CN_Outlet_WS__r.name}</td>
                	<td class="boldText">Contract No.</td>
                    <td>{!Contract.name}</td>
                </tr>
                <tr class="border-bottom-field">
                	<td class="boldText">Owner</td>
                    <td>{!Contract.owner.firstname} {!Contract.owner.lastname}</td>
                	<td class="boldText">Approval Status</td>
                    <td>{!Contract.ASI_CRM_CN_Approval_Status__c}</td>
                </tr>
                <tr class="border-bottom-field">
                	<td class="boldText">Objective</td>
                    <td>{!Contract.ASI_CRM_VN_Objective__c}</td>
                	<td class="boldText">Start Date</td>
                    <td>
						<apex:outputtext value="{0,date,dd/MM/YYYY}"> 
                        <apex:param value="{!Contract.ASI_TH_CRM_Start_Date__c}" />
                        </apex:outputText>
					</td>
                </tr>
				<tr class="border-bottom-field">
                	<td class="boldText">Revision/Extension Remarks</td>
                    <td>{!Contract.ASI_CRM_Revision_Extension_Remarks__c}</td>
                	<td class="boldText">End Date</td>
                    <td>
						<apex:outputtext value="{0,date,dd/MM/YYYY}"> 
                        <apex:param value="{!Contract.ASI_TH_CRM_End_Date__c}" />
                        </apex:outputText>		
					</td>
                </tr>
                <tr class="border-bottom-field">
                	<td class="boldText">Special Contract</td>
                    <td>{!if(Contract.ASI_CRM_Special_Contract__c,'Yes','No')}</td>
                	<td class="boldText">Duty Free/Duty Paid</td>
                    <td>{!Contract.ASI_CRM_DF_DP__c}</td>
                </tr>
            </tbody>
        </table>
        
        <!-- Budget Information -->
        <table style="width:100%; padding:15px; " cellpadding="5">
            <colgroup>
                <col span="1" style="width: 15%;padding-left:5px;"/>
                <col span="1" style="width: 85%;padding-left:5px;"/>
            </colgroup>
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="2">Budget Information</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Over Budget Details</td>
                    <td><apex:outputField value="{!Contract.ASI_CRM_Over_Budget_Details__c}"/></td>
                </tr>
            </tbody>
        </table>
        
        <!-- Support -->
        <table style="width:100%; padding:15px; " cellpadding="5">
            <colgroup>
                <col span="1" style="width: 15%;padding-left:5px;"/>
                <col span="1" style="width: 35%;padding-left:5px;"/>
                <col span="1" style="width: 15%;padding-left:5px;"/>
                <col span="1" style="width: 35%;padding-right:5px;"/>
            </colgroup>
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="4">Support</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Currency</td>
                    <td>{!Contract.ASI_CRM_CN_Currency__c}</td>
                    <td class="boldText">Total Support Amount.</td>
                    <td>{!Contract.ASI_CRM_Total_Support_Amount__c}</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Contract Fund Amount</td>
                    <td>{!Contract.ASI_CRM_Contract_Fund_Amount__c}</td>
                    <td class="boldText">Marketing Support Fund (FOC) Amount</td>
                    <td>{!Contract.ASI_CRM_Marketing_Support_Fund_Amount__c}</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Activation Fund Amount</td>
                    <td>{!Contract.ASI_CRM_Activation_Fund_Amount__c}</td>
                    <td class="boldText">Merchandise Amount</td>
                    <td>{!Contract.ASI_CRM_Merchandise_Amount__c}</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Purchase Incentive Amount</td>
                    <td>{!Contract.ASI_CRM_Purchase_Incentive_Amount__c}</td>
                    <td class="boldText">Staff Incentive Amount</td>
                    <td>{!Contract.ASI_CRM_Staff_Incentive_Amount__c}</td>
                </tr>
                <tr class="border-bottom-field">
                    <td class="boldText">Bottle Rebate Amount</td>
                    <td>{!Contract.ASI_CRM_Bottle_Rebate_Amount__c}</td>
                    <td class="boldText"></td>
                    <td class="boldText"></td>
                </tr>
            </tbody>
        </table>
        
        <!-- SKU tab -->
        <table style="width:100%; padding:15px;" cellpadding="5">
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="4">Contract Target - SKU</td>
                </tr>
            </tbody>
        </table>
        <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
            <thead>
                <tr class="border-bottom-field">
					<th style="">Approved</th>
                    <th style="">SKU</th>
                    <th style="">Sub-Brand</th>
                    <th style="" align="right">Target (Bottles)</th>
					<th style="" align="right">Bottle Rebate (Amt/Bottle)</th>
					<th style="" align="right">Total Bottle Rebate (Amt)</th>
					<th style="" align="right">Staff Incentive (Amt/Bottle)</th>
					<th style="" align="right">Total Staff Incentive (Amt)</th>
                </tr>
            </thead>
            <tbody>
                <apex:repeat value="{!ContractTarget}" var="data">
                    <tr class="border-field">            
						<td style="">
							{!if(data.ASI_CRM_Approved__c,'Yes','No')}
						</td>
                        <td style="">{!data.ASI_CRM_SKU__r.Name}</td>
                        <td style="">{!data.ASI_CRM_SKU__r.ASI_MFM_Sub_brand__r.Name}</td>
                        <td style="" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_TargetCase__c}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!if(external,'display:none;','')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_Bottle_Rebate__c}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!if(external,'display:none;','')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_Total_Bottle_Rebate__c}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!if(external,'display:none;','')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_Staff_Incentive__c}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!if(external,'display:none;','')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_Total_Staff_Incentive__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                </apex:repeat>
            </tbody>
        </table>


            <!-- Monthly Target tab -->
        <table style="width:100%; padding:15px;" cellpadding="5">
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="4">Monthly Target</td>
                </tr>
            </tbody>
        </table>
        <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
            <thead>
                <tr class="border-bottom-field">
                    <th style="">Approved</th>
                    <th style="">SKU</th>
                    <th style="">Sub-Brand</th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=1}">{!contractMonths[0]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=2}">{!contractMonths[1]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=3}">{!contractMonths[2]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=4}">{!contractMonths[3]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=5}">{!contractMonths[4]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=6}">{!contractMonths[5]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=7}">{!contractMonths[6]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=8}">{!contractMonths[7]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=9}">{!contractMonths[8]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=10}">{!contractMonths[9]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=11}">{!contractMonths[10]}</apex:outputPanel></th>
                    <th style="" align="right"><apex:outputPanel rendered="{!contractMonths.size>=12}">{!contractMonths[11]}</apex:outputPanel></th>
                </tr>
            </thead>
            <tbody>
                <apex:repeat value="{!monthlyWrap}" var="data">
                    <tr class="border-field">            
                        <td style="">
                            {!if(data.target.ASI_CRM_Approved__c,'Yes','No')}
                        </td>
                        <td style="">{!data.target.ASI_CRM_SKU__r.Name}</td>
                        <td style="">{!data.target.ASI_CRM_SKU__r.ASI_MFM_Sub_brand__r.Name}</td>
                        <td style="{!IF(ISBLANK(data.M1), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M1))}">
                                <apex:param value="{!data.M1}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M2), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M2))}">
                                <apex:param value="{!data.M2}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M3), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M3))}">
                                <apex:param value="{!data.M3}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M4), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M4))}">
                                <apex:param value="{!data.M4}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M5), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M5))}">
                                <apex:param value="{!data.M5}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M6), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M6))}">
                                <apex:param value="{!data.M6}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M7), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M7))}">
                                <apex:param value="{!data.M7}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M8), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M8))}">
                                <apex:param value="{!data.M8}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M9), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M9))}">
                                <apex:param value="{!data.M9}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M10), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M10))}">
                                <apex:param value="{!data.M10}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M11), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M11))}">
                                <apex:param value="{!data.M11}"/>
                            </apex:outputText>
                        </td>
                        <td style="{!IF(ISBLANK(data.M12), 'display: none;', '')}" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}" rendered="{!NOT(ISBLANK(data.M12))}">
                                <apex:param value="{!data.M12}"/>
                            </apex:outputText>
                        </td>                            
                    </tr>
                </apex:repeat>
            </tbody>
        </table>

        <!-- FOC tab -->
        <table style="width:100%; padding:15px;" cellpadding="5">
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="4">FOC</td>
                </tr>
            </tbody>
        </table>
        <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
            <thead>
                <tr class="border-bottom-field">
                    <th style="">Approved</th>
                    <th style="">SKU</th>
                    <th style="">Sub-Brand</th>
                    <th style="" align="right">FOC</th>
                </tr>
            </thead>
            <tbody>
                <apex:repeat value="{!ContractTarget}" var="data">
                    <tr class="border-field">            
                        <td style="">
                            {!if(data.ASI_CRM_Approved__c,'Yes','No')}
                        </td>
                        <td style="">{!data.ASI_CRM_SKU__r.Name}</td>
                        <td style="">{!data.ASI_CRM_SKU__r.ASI_MFM_Sub_brand__r.Name}</td>
                        <td style="" align="right">
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!data.ASI_CRM_FOC__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                </apex:repeat>
            </tbody>
        </table>

        <!-- Support tab -->
        <table style="width:100%; padding:15px;" cellpadding="5">
            <tbody>
                <tr class="border-bottom-header">
                    <td class="boldText" style="font-size:18px" colspan="7">Support</td>
                </tr>
            </tbody>
        </table>
        <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
            <thead>
                <tr class="border-bottom-field">
                    <th style="">Support Type</th>
                    <th style="">Support Amount</th>
                    <th style="">A&nbsp;P Segment</th>
                    <th style="" align="right">Payment/FOC Amount</th>
                    <th style="" align="right">Entitled Amount</th>
                    <th style="" align="right">Remaining Entitled Amount</th>
                    <th style="" align="right">Remaining Balance (Amt)</th>
                </tr>
            </thead>
            <tbody>
<!--Contract Fund-->                
                    <tr class="border-field">            
                        <td class="boldText">Contract Fund</td>
                        <td>{!Contract.ASI_CRM_Contract_Fund_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP2130 - Customer - Customer Development & Trade, A&P - Other trade A&P')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!contractFundPayment}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!contractFundEntitle}"/>
                            </apex:outputText>
                        </td>  
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!contractFundRemain}"/>
                            </apex:outputText>
                        </td>          
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!contractFundBal}"/>
                            </apex:outputText>
                        </td>                                    
                    </tr>

<!--Marketing Support Fund-->                    
                    <tr class="border-field">            
                        <td class="boldText">Marketing Support Fund (FOC)</td>
                        <td>{!Contract.ASI_CRM_Marketing_Support_Fund_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP1420 - Consumer - Activation - On-trade activation')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!marketingFundPayment}"/>
                            </apex:outputText>
                        </td>
                        <td>{!Contract.ASI_CRM_Marketing_Support_Fund_Amount__c}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!marketingFundRemain}"/>
                            </apex:outputText>                            
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!marketingFundBal}"/>
                            </apex:outputText>                        
                        </td>                        
                    </tr>

<!--Activation Fund-->                    
                    <tr class="border-field">            
                        <td class="boldText">Activation Fund</td>
                        <td>{!Contract.ASI_CRM_Activation_Fund_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP2130 - Customer - Customer Development & Trade, A&P - Other trade A&P')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!activationFundPayment}"/>
                            </apex:outputText>
                        </td>
                        <td>{!Contract.ASI_CRM_Activation_Fund_Amount__c}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!activationFundRemain}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!activationFundBal}"/>
                            </apex:outputText>
                        </td>
                    </tr>

<!--Merchandise-->  
                    <tr class="border-field">            
                        <td class="boldText">Merchandise</td>
                        <td>{!Contract.ASI_CRM_Merchandise_Amount__c}</td>
                        <td>AP2110 - Customer - Customer Development &nbsp; Trade, A&nbsp;P - Merchandising costs</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!merchandisePayment}"/>
                            </apex:outputText>
                        </td>
                        <td>{!Contract.ASI_CRM_Merchandise_Amount__c}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!merchandiseRemain}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!merchandiseBal}"/>
                            </apex:outputText>
                        </td>
                    </tr>

<!--Purchase Incentive-->  
                    <tr class="border-field">            
                        <td class="boldText">Purchase Incentive</td>
                        <td>{!Contract.ASI_CRM_Purchase_Incentive_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP2310 - Customer - Other growth')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!pIncentivePayment}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!pIncentiveEntitle}"/>
                            </apex:outputText>
                        </td>                        
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!pIncentiveRemain}"/>
                            </apex:outputText>
                        </td>      
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!pIncentiveBal}"/>
                            </apex:outputText>
                        </td>
                    </tr>

<!--Bottle Rebate--> 
                    <tr class="border-field">            
                        <td class="boldText">Bottle Rebate</td>
                        <td>{!Contract.ASI_CRM_Bottle_Rebate_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP2310 - Customer - Other growth')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!bottleRebatePayment}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!bottleRebateEntitle}"/>
                            </apex:outputText>                            
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!bottleRebateRemain}"/>
                            </apex:outputText>                       
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!bottleRebateBal}"/>
                            </apex:outputText>                            
                        </td>
                    </tr>

<!--Staff Incentive-->
                    <tr class="border-field">            
                        <td class="boldText">Staff Incentive</td>
                        <td>{!Contract.ASI_CRM_Staff_Incentive_Amount__c}</td>
                        <td>{!if(Contract.ASI_CRM_DF_DP__c="Duty Free",'','AP2310 - Customer - Other growth')}</td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!staffIncentivePayment}"/>
                            </apex:outputText>
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!staffIncentiveEntitle}"/>
                            </apex:outputText>                            
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!staffIncentiveRemain}"/>
                            </apex:outputText>                         
                        </td>
                        <td>
                            <apex:outputText value="{0,number, ###,##0.00}">
                                <apex:param value="{!staffIncentiveBal}"/>
                            </apex:outputText>                           
                        </td>
                    </tr>
            </tbody>
        </table>

        <!-- Contract Fund Schemem tab: Date Type -->
        <apex:outputPanel rendered="{!contractFundSchemeType='Date'}">
            <table style="width:100%; padding:15px;" cellpadding="5">
                <tbody>
                    <tr class="border-bottom-header">
                        <td class="boldText" style="font-size:18px" colspan="4">Contract Fund Scheme - Target Type: Date</td>
                    </tr>
                </tbody>
            </table>
            <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
                <thead>
                    <tr class="border-bottom-field">
                        <th style="">Target(Date)</th>
                        <th style="">Fund Amount</th>
                        <th style="">Achieved?</th>
                    </tr>
                </thead>
                <tbody>
                    <apex:repeat value="{!contractFundSchemeList}" var="data">
                        <tr class="border-field">            
                            <td style="">
                                <apex:outputtext value="{0,date,dd/MM/YYYY}"> 
                                <apex:param value="{!data.ASI_CRM_Schedule_Date__c}" />
                                </apex:outputText>
                            </td>
                            <td style="" align="right">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.ASI_CRM_Sponsorship__c}"/>
                                </apex:outputText>
                            </td>
                            <td style="">{!if(data.ASI_CRM_Achieved__c,'Yes','No')}</td>
                        </tr>
                    </apex:repeat>
                </tbody>
            </table>
        </apex:outputPanel>


        <!-- Contract Fund Schemem tab: Value Type -->
        <apex:outputPanel rendered="{!contractFundSchemeType='Value'}">
            <table style="width:100%; padding:15px;" cellpadding="5">
                <tbody>
                    <tr class="border-bottom-header">
                        <td class="boldText" style="font-size:18px" colspan="4">Contract Fund Scheme - Target Type: Value</td>
                    </tr>
                </tbody>
            </table>
            <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
                <thead>
                    <tr class="border-bottom-field">
                        <th style="">Target(Value)</th>
                        <th style="">Fund Amount</th>
                        <th style="">Achieved?</th>
                    </tr>
                </thead>
                <tbody>
                    <apex:repeat value="{!contractFundSchemeList}" var="data">
                        <tr class="border-field">            
                            <td style="">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.ASI_CRM_Target_Achievement_Amount__c}"/>
                                </apex:outputText>                               
                            </td>
                            <td style="" align="right">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.ASI_CRM_Sponsorship__c}"/>
                                </apex:outputText>
                            </td>
                            <td style="">{!if(data.ASI_CRM_Achieved__c,'Yes','No')}</td>
                        </tr>
                    </apex:repeat>
                </tbody>
            </table>
        </apex:outputPanel>

        <!-- Contract Fund Schemem tab: Bottle Type -->
        <apex:outputPanel rendered="{!contractFundSchemeType='Bottle'}">
            <table style="width:100%; padding:15px;" cellpadding="5">
                <tbody>
                    <tr class="border-bottom-header">
                        <td class="boldText" style="font-size:18px" colspan="4">Contract Fund Scheme - Target Type: Bottle</td>
                    </tr>
                </tbody>
            </table>
            <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
                <thead>
                    <tr class="border-bottom-field">
                        <th style="">Target(Bottle)</th>
                        <th style="">Fund Amount</th>
                        <th style="">Achieved?</th>
                    </tr>
                </thead>
                <tbody>
                    <apex:repeat value="{!contractFundSchemeList}" var="data">
                        <tr class="border-field">            
                            <td style="">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.ASI_CRM_Target_Bottle__c}"/>
                                </apex:outputText>                               
                            </td>
                            <td style="" align="right">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.ASI_CRM_Sponsorship__c}"/>
                                </apex:outputText>
                            </td>
                            <td style="">{!if(data.ASI_CRM_Achieved__c,'Yes','No')}</td>
                        </tr>
                    </apex:repeat>
                </tbody>
            </table>
        </apex:outputPanel>        


        <!-- Purchase Incentive Scheme tab -->
        <apex:outputPanel >
            <table style="width:100%; padding:15px;" cellpadding="5">
                <tbody>
                    <tr class="border-bottom-header">
                        <td class="boldText" style="font-size:18px" colspan="4">Purchase Incentive Scheme</td>
                    </tr>
                </tbody>
            </table>
            <apex:repeat value="{!purchaseSchemeMap}" var="data">
            <table style="width:100%; padding:15px;" cellpadding="5" cellspacing="0">
                
                    
                        <thead>
                            <tr class="border-bottom-field">
                                <th style="">Target Start date</th>
                                <th style="">Target End date</th>
                                <th style="">Incentive Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr class="border-field">   
                            <td style="">
                                <apex:outputtext value="{0,date,dd/MM/YYYY}"> 
                                <apex:param value="{!data.parent.ASI_CRM_Target_Start_Date__c}" />
                                </apex:outputText>                          
                            </td>
                            <td style="">
                                <apex:outputtext value="{0,date,dd/MM/YYYY}"> 
                                <apex:param value="{!data.parent.ASI_CRM_Target_End_Date__c}" />
                                </apex:outputText>                          
                            </td>                            
                            <td style="" align="right">
                                <apex:outputText value="{0,number, ###,##0.00}">
                                    <apex:param value="{!data.parent.ASI_CRM_Sponsorship__c}"/>
                                </apex:outputText>
                            </td>
                        </tr>
                        <tr/>
                        <tr class="border-bottom-field">
                            <th style="">Target Purchase Amount - From</th>
                            <th style="">Target Purchase Amount - To</th>
                            <th style="">Incentive % to Issue</th>
                            <th style="">Payout Amount</th>
                            <th style="">Achieved</th>
                        </tr>
                        <apex:repeat value="{!data.pIncentiveDetailList}" var="dataDetail">
                            <tr class="border-field">          
                                <td style="">
                                    <apex:outputText value="{0,number, ###,##0.00}">
                                        <apex:param value="{!dataDetail.ASI_CRM_Target_Purchase_Amount_From__c}"/>
                                    </apex:outputText>                        
                                </td>
                                <td style="">
                                    <apex:outputText value="{0,number, ###,##0.00}">
                                        <apex:param value="{!dataDetail.ASI_CRM_Target_Purchase_Amount_To__c}"/>
                                    </apex:outputText>                        
                                </td>                            
                                <td style="" align="right">
                                    <apex:outputText value="{0,number, ###,##0.00}">
                                        <apex:param value="{!dataDetail.ASI_CRM_Incentive_to_issue__c}"/>
                                    </apex:outputText>
                                </td>          
                                <td style="" align="right">
                                    <apex:outputText value="{0,number, ###,##0.00}">
                                        <apex:param value="{!dataDetail.ASI_CRM_Payout_Amount__c}"/>
                                    </apex:outputText>
                                </td>                      
                                <td style="" align="right">
                                    {!if(dataDetail.ASI_CRM_Achieved__c,'Yes','No')}
                                </td>                                                
                            </tr>
                        </apex:repeat>
                        <p/>
                    </tbody>
                </table>
            </apex:repeat>
        </apex:outputPanel>        
        </apex:form>
    </body>
</html>
</apex:page>