<!--<apex:page doctype="HTML-5.0" showHeader="false" sidebar="false" controller="ASI_MFM_CN_POSMCatalog_CTRL" extensions="ASI_MFM_CN_POSMCatalog_Upload_EXT" standardStylesheets="false" cache="false">-->
<apex:page doctype="HTML-5.0" showHeader="false" sidebar="false" controller="ASI_MFM_CN_POSMCatalog_CTRL" extensions="ASI_MFM_CN_POSMCatalog_Upload_EXT,ASI_MFM_CN_POSMCatalog_UserAssi_EXT" standardStylesheets="false" cache="false">
    <html dir="ltr" lang="en-US">
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <title>Pernod Ricard China</title>
            <meta name="description" content=""/>
            <meta name="viewport" content="width=device-width, initial-scale=1"/>
            <meta name="google" content="notranslate"/>
            <script type='text/javascript' src='/soap/ajax/30.0/connection.js'></script>
            <script type='text/javascript' src='/soap/ajax/30.0/apex.js'></script>
            
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/all.min.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/html5reset-1.6.1.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/perfect-scrollbar.min.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/magnify.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/common.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/bottom.css')}" />
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/css/jquery.fancybox.css')}" />
            <!--<style>.lens-mobile {position:fixed;top:0;left:0;width:100%;height:100%;background:#ccc;display:none;overflow:scroll;-webkit-overflow-scrolling:touch;z-index:9999;}.magnify-mobile>.close {position:fixed;top:10px;right:10px;width:32px;height:32px;background:#333;border-radius:16px;color:#fff;display:inline-block;font:normal bold 20px/32px sans-serif;letter-spacing:0;opacity:0.8;text-align:center;text-shadow:none;z-index:9999;}@media only screen and (min-device-width:320px) and (max-device-width:773px) {/* Assume QHD (1440 x 2560) is highest mobile resolution */.lens-mobile { display:block; }}</style>-->
            <apex:stylesheet value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/jquery-ui-1.12.1/jquery-ui.css')}" />
            
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery-2.2.4.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/jquery-ui-1.12.1/jquery-ui.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.easing.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/modernizr.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.mousewheel.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.em.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/browserdetect.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.tile.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/perfect-scrollbar.jquery.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.bxslider.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.magnify.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.fancybox.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/imagesloaded.pkgd.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/jquery.loading.block.js')}" />
            

            
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/angular.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/angular-route.min.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/angular-animate.min.js')}" />
            
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/he.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/moment.js')}" />
            
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/common.js')}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_CN_PapaParse)}" />
            <apex:includeScript value="{!URLFOR($Resource.ASI_CN_JQuery_Outside)}" />

            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/ctrlUpload.js')}" />           
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/ctrlUserAssignment.js')}" /> 
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/js/app.js')}" /> 
<!--
            <apex:includeScript value="{!URLFOR($Resource.ASI_CN_POSM_CTRL_UPLOAD)}" />   
            <apex:includeScript value="{!URLFOR($Resource.ASI_MFM_CN_POSMCatalog_UserAssi)}" /> 
            <apex:includeScript value="{!URLFOR($Resource.ASI_CN_POSM_Test2)}" />  
-->


            
            <style>
                .element-show-hide {
                transition: all linear 0.5s;
                }
                .element-show-hide.ng-hide {
                opacity: 0;
                }
                .ui-autocomplete { position: absolute; cursor: default;z-index:111 !important;}
                
                input:disabled,
                input[disabled]{
                border: 1px solid #DDDDDD;
                background-color: #DDDDDD;
                }
#div1-1 {
  z-index: 2000;
  position: absolute;
  left: 0px;
  width: 0px;
  height: 0px;
  top: 0px;
  background-color: red;
}

.tabContent {
    padding: 0px;
    line-height: 20px;
}

div.scrollmenu {
  text-align: center;
  background-color: #7ea5d0;
  overflow: auto;
  white-space: nowrap;
}
                
div.scrollmenu a:hover {
  background-color: #023466;
  cursor: pointer;
}

div.scrollmenu a {
  display: inline-block;
  color: white;
  text-align: center;
  padding: 14px;
  text-decoration: none;
}


.js .input-file {
    display:none;
}

table.upload-preview  {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}
table.upload-preview tr:hover {
    background-color: #ffff99;
}
table.upload-preview th{ background: lightgray; }
table.upload-preview td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
    vertical-align: top;
}

table.upload-preview tr.child td{
  background-color: #eee;
  text-align: right;
  padding: 2px;
}
               
table.upload-preview tr td.validation {
  text-align: center;
  color: green;
}
.ui-autocomplete {
    position:absolute;
    z-index: 9999 !important;
}
    
<!--
table.upload-preview tr.child td.validation span{
    display: none;
}-->
                
i.success, i.fail, i.ready, i.caution { display: none; }
                

                
table.upload-summary  {
  border-collapse: collapse;
  width: 100%;
}
table.upload-summary tr td.td-label {
  width: 15%;
}
table.upload-summary tr td.td-value {
  width: 35%;
  font-weight: bold;
}


table.fixed_header{
    table-layout: fixed;
    border-collapse: collapse;
    //border: 1px solid #dddddd;
    width: 100%;
}

table.fixed_header tbody{
  display:block;
  width: 100%;
  overflow-y: scroll;       //overflow: auto;
  max-height: 300px;
}

table.fixed_header thead tr {
   display: block;
}
table.fixed_header tr:nth-child(even) {background: #f7f7f7}
table.fixed_header tbody tr:hover {
    background-color: #ffff99;
}
table.fixed_header tbody tr.selected {
    background-color: #f5f540;
}

table.fixed_header thead th{
  background: lightgray ;
}

table.fixed_header th, table.fixed_header td {
  padding: 8px 12px;
  text-align: left;
}
table.fixed_header th.validation, table.fixed_header td.validation {
  text-align: center;
}
table.fixed_header td {
    border: 1px solid #dddddd;
}
                

label.csv-upload-label, table.fixed_header tr {
  cursor: pointer;
}
         

<!--
div.scrollmenu a:hover {
  background-color: #777;
}
<!--
::-webkit-search-cancel-button {
    height: 10px;
    width: 10px;
    display: inline-block;
    background: blue;
}
input {
    -webkit-appearance: searchfield;
}

::-webkit-search-cancel-button {
    -webkit-appearance: searchfield-cancel-button;
                }-->
            </style>
            
        </head>
        <body id="body" ng-app="AngularngtemplateApp">
        <div ng-controller="appCtrl" style="background-color: #f9f9f9;">
            <header class="" style="position:fixed;">
                <img id="DUMMY_IMG" style="display:none" src="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog, '/img/Pernod-Ricard.jpg')}"/>
                <img id="BACKGROUNDIMAGE" style="display:none" src="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog, '/img/whiteBackground.png')}"/>
                <img id="LOADINGIMAGE" style="display:none" src="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/img/default.svg')}"/>
                <div id="header">
                <div class="container inner s-box">
                    <h1 class="">
                        <a class="logo obtn" href="/" ng-click="obj.closeAdvSearchPannel()"><img src="{!URLFOR($Resource.ASI_MFM_CN_POSM_Catalog_P2, '/img/logo.jpg')}" alt="Pernod Ricard China"/></a>
                    </h1>
                    <form class="narrow-none">
                        <input id="itemname" class="header-search transit-05 easy_search" type="search" ng-keydown="$event.keyCode === 13 && searchItem()" ng-model="search.itemName" name="search" placeholder="模糊查找" style="border: none;"/>
                        <i class="fa fa-search" aria-hidden="true"></i>
                    </form>
                    <a class="expand obtn narrow-none" id="advancedSearch" href="#/" style="opacity: 1;"><i class="fa fa-angle-down transit-02" aria-hidden="true"></i>高级查找</a>
                    <div class="utilities narrow-none">
                        <a class="shopping-cart obtn" href="#!/cart"><i class="fa fa-shopping-cart" aria-hidden="true" ng-click="obj.closeAdvSearchPannel()"></i>&nbsp;<span>{{totalItem()}}</span></a>
                        <a class="obtn" href="#!/history" ng-click="obj.closeAdvSearchPannel()"><i class="fa fa-clipboard" aria-hidden="true"></i></a>
                        <a class="obtn" href="#!/upload" ng-click="obj.closeAdvSearchPannel()"><i class="fa fa-file" aria-hidden="true"></i></a>
                        <a class="obtn" href="#!/home" ng-click="obj.closeAdvSearchPannel()"><i class="fas fa-home"></i></a>       
                    </div>
                </div>

<div class="tabContent">
<div style="border-bottom: 1px solid #cccccc;">
<div class="scrollmenu">
<a ng-repeat="x in tabBrand track by $index" href="" ng-click="obj.quickSearchBrand(x.id)">{{x.name}}</a> 
</div>
</div>
</div>
    

                </div>
            </header>
                
            <div id="slideSearch" class="slideSearch transit-05 ready" style="top: -406px;" >
                <div class="inner">
                    <form class="form top-box wide-none">
                        <input id="itemname" class="header-search transit-05 easy_search" type="search" ng-keydown="$event.keyCode === 13 && searchItem()" ng-model="search.itemName" name="search" placeholder="模糊查找"/>
                        <a href="">
                        <i class="fa fa-search" aria-hidden="true"></i>
                        </a>
                    </form>
                    
                    <div class="expand-box wide-none">
                        <a href="" ng-click="searchItem()" class="btn btn-style01" style="width: 44%;">查找</a>
                        <a href="" ng-click="clearAndSearchItem()" class="btn btn-style01" style="width: 44%;">清空条件查找</a>
                        <br/>
                        <a class="expand-mobile obtn" href="">
                        高级查找
                        <i class="fa fa-angle-down transit-02" aria-hidden="true"></i>
                        </a>
                        
                    </div>
                    <form class="form scrollbox always-visible transit-05 ps ps--theme_default" data-ps-id="62b58366-54de-eef4-d328-ec91811bf1e6">
                        <div class="form-cont-wrap">
                            <div id="select" class="checkbox-wrap checkbox-wrapStyle02 ready active open transit-02" ng-show="false">
                                <p class="form-ttl expand-bottom">选择 :<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                    <div class="expand-content">
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="brand" ng-checked="search.allBrand" ng-model="search.allBrand" id='allBrand' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allBrand'><span class="label-text checkbox-txt">所有品牌</span></label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="subBrand" ng-checked="search.allSubBrand" ng-model="search.allSubBrand" id='allSubBrand' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allSubBrand'><span class="label-text checkbox-txt">所有子品牌</span></label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="cat01" ng-checked="search.allCate01" ng-model="search.allCate01" id='allCate01' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate01'><span class="label-text checkbox-txt">所有物料类别一</span></label>
                                    </p>
                                    <p>
                                        <input type="checkbox" name="plan[]" value="cat02" ng-checked="search.allCate02" ng-model="search.allCate02" id='allCate02' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate02'><span class="label-text checkbox-txt">所有物料类别二</span></label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="cat03" ng-checked="search.allCate03" ng-model="search.allCate03" id='allCate03' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate03'><span class="label-text checkbox-txt">所有物料类别三</span></label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="channel" ng-checked="search.allChannel" ng-model="search.allChannel" id='allChannel' class="checkAll c-form-plan form-control checkbox"/>
                                        <label for='allChannel'><span class="label-text checkbox-txt">所有使用渠道</span></label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" ng-checked="search.hasInv" ng-model="search.hasInv" id='hasInv' class="c-form-plan form-control checkbox"/>
                                        <label for='hasInv'><span class="label-text checkbox-txt">有存货</span></label>
                                    </p>
                                </div>
                            </div>
                            <div style="height:50px;"></div>
                            <div id="warehouse" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <div class="txt-area-wrap">
                                    <p class="form-ttl expand-bottom">仓库<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                    <div class="expand-content">
                                        <select class="c-form-remarks form-control" ng-model="selectedWH" name="Status" ng-change="selectWarehouse()" ng-options="warehouse.label for warehouse in availableWHList">
</select>
<!--
                                        <input type="search" name="remarks" placeholder="" class="c-form-remarks form-control" id="c-form-remarks" autocomplete="off"/>
-->
                                    </div>
                                </div>
                            </div>
                            <div id="brand" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">品牌名称 :<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <p ng-repeat="x in brand track by $index" class="ib">
                                        <input type="checkbox" name="plan[]" value="brand" id='{{"brand-"+x.id}}' class="checkSelecter checkBrand checkFilter c-form-plan form-control checkbox"/>
                                        <label for='{{"brand-"+x.id}}'>
                                        <span class="label-text checkbox-txt">{{x.name}}</span>       
                                        </label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="brand" ng-checked="search.allBrand" ng-model="search.allBrand" id='allBrand' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                        <label for='allBrand'><span class="label-text checkbox-txt">全选</span></label>
                                    </p>
                                </div>
                            </div>
                            <div id="brand" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02" ng-show="false">
                                <p class="form-ttl expand-bottom">子品牌名称 :<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <div ng-repeat="(key ,value) in subbrand">
                                        <div id="{{key}}" class="dependentList">
                                            <p class="form-ttl">{{value.label}}</p>
                                            <p ng-repeat="x in value.list track by $index" class="ib">
                                                <input type="checkbox" name="plan[]" value="subBrand" id='{{"subbrand-"+x.Id}}' class="checkSelecter checkSubBrand checkFilter c-form-plan form-control checkbox"/>
                                                <label for='{{"subbrand-"+x.Id}}'>
                                                <span class="label-text checkbox-txt">{{x.Name}}</span>       
                                                </label>
                                            </p>
                                            <p class="ib">
                                                <input type="checkbox" name="plan[]" value="subBrand" ng-checked="search.allSubBrand" ng-model="search.allSubBrand" id='allSubBrand' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                                <label for='allSubBrand'><span class="label-text checkbox-txt">全选</span></label>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="cat01" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">物料类别一 :<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <p ng-repeat="(key, value) in cat01" class="ib">
                                        <input type="checkbox" name="plan[]" value="cat01" id='{{key}}' class="checkSelecter checkCat01 checkFilter c-form-plan form-control checkbox"/>
                                        <label for='{{key}}'>
                                        <span class="label-text checkbox-txt">{{value.Name}}</span>       
                                        </label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="cat01" ng-checked="search.allCate01" ng-model="search.allCate01" id='allCate01' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate01'><span class="label-text checkbox-txt">全选</span></label>
                                    </p>
                                </div>
                            </div>
                            <div id="cat02" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02" ng-show="true" >
                                <p class="form-ttl expand-bottom">物料类别二 :<i class="fas fa-angle-right transit-02" aria-hidden="false"></i></p>
                                <div class="expand-content">
                                    <span ng-repeat="(key, value) in cat02">
                                        <p class="dependentList ib" id="{{key}}">
                                            <input type="checkbox" name="plan[]" value="cat02" id='{{"cat02"+key}}' class="checkSelecter checkCat02 checkFilter c-form-plan form-control checkbox"/>
                                            <label for='{{"cat02"+key}}'>
                                            <span class="label-text checkbox-txt">{{value.Name}}</span>       
                                            </label>
                                        </p>
                                    </span>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="cat02" ng-checked="search.allCate02" ng-model="search.allCate02" id='allCate02' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate02'><span class="label-text checkbox-txt">全选</span></label>
                                    </p>
                                </div>
                            </div>
                            <div id="cat03" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02" ng-show="true">
                                <p class="form-ttl expand-bottom">物料类别三 :<i class="fas fa-angle-right transit-02" aria-hidden="false"></i></p>
                                <div class="expand-content">
                                    <span ng-repeat="(key, value) in cat03">
                                        <p class="dependentList ib" id="{{key}}">
                                            <input type="checkbox" name="plan[]" value="cat03" id='{{"cat03"+key}}' class="checkSelecter checkCat03 checkFilter c-form-plan form-control checkbox"/>
                                            <label for='{{"cat03"+key}}'>
                                            <span class="label-text checkbox-txt">{{value.Name}}</span>      
                                            </label>
                                        </p>
                                    </span>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="cat03" ng-checked="search.allCate03" ng-model="search.allCate03" id='allCate03' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                        <label for='allCate03'><span class="label-text checkbox-txt">全选</span></label>
                                    </p>
                                </div>
                            </div>
                            <div id="channel" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">建议使用渠道 :<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    
                                    <p ng-repeat="value in channel" class="ib">
                                        <input type="checkbox" name="plan[]" value="channel" id='{{value.key}}' class="checkSelecter checkChannel checkFilter c-form-plan form-control checkbox"/>
                                        <label for='{{value.key}}'>
                                        <span class="label-text checkbox-txt">{{value.Name}}</span>       
                                        </label>
                                    </p>
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" value="channel" ng-checked="search.allChannel" ng-model="search.allChannel" id='allChannel' class="checkSelecter checkAll c-form-plan form-control checkbox"/>
                                        <label for='allChannel'><span class="label-text checkbox-txt">全选</span></label>
                                    </p>
                                </div>
                            </div>
                            
                            
                            <div id="age" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">库龄<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <p class="ib">
                                        <select class="form-control searchSelect" ng-model="search.age" name="Flow Item" style="width:200px">
                                            <option value="Any">-</option>
                                            <option value="0,183">6个月以下</option>
                                            <option value="183,365">6个月 - 1年</option>
                                            <option value="365,730">1年 - 2年</option>
                                            <option value="730,">2年以上</option>
                                        </select>
                                    </p>
                                </div>
                            </div>
                            
                            <div id="Flow Item" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">是否属于公司采购目录：是/否<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <p class="ib">    
                                        <select class="form-control searchSelect" ng-model="search.flowItem" name="Flow Item" style="width:200px">
                                            <option value="Any">-</option>
                                            <option value="YES">是</option>
                                            <option value="NO">否</option>
                                        </select>
                                    </p>
                                    
                                </div>
                            </div>
                            <div id="OneTimeItem" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                <p class="form-ttl expand-bottom">是否为一次性物料：是/否<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                <div class="expand-content">
                                    <p class="ib">    
                                        <select class="form-control searchSelect" ng-model="search.oneTime" name="OneTimeItem" style="width:200px">
                                            <option value="Any">-</option>
                                            <option value="YES">是</option>
                                            <option value="NO">否</option>
                                        </select>
                                    </p>
                                    
                                </div>
                            </div>
                            <div id="select" class="checkbox-wrap checkbox-wrapStyle02 ready active open transit-02">
                                <div class="">
                                    <p class="ib">
                                        <input type="checkbox" name="plan[]" ng-checked="search.hasInv" ng-model="search.hasInv" id='hasInv' class="c-form-plan form-control checkbox"/>
                                        <label for='hasInv'><span class="label-text checkbox-txt">有存货</span></label>
                                    </p>
                                </div>
                            </div>
<!--
                            <div class="checkbox-wrapStyle02 s-box active ready transit-02">
                                <div class="txt-area-wrap l-box">
                                    <p class="form-ttl expand-bottom">Item Group Description<i class="fas fa-angle-right transit-02" aria-hidden="true"></i></p>
                                    <div class="expand-content">
                                        <textarea name="remarks" placeholder="" class="c-form-remarks form-control" id="c-form-remarks" autocomplete="off"></textarea>
                                    </div>
                                </div>
                            </div>
-->
                            <a href="" ng-click="searchItem()" class="btn btn-style01" id="SearchBtn">查找</a>
                            <a href="" ng-click="clearAndSearchItem()" class="btn btn-style01" id="SearchBtn2">清空条件查找</a>
                            <!-- <button type="submit" class="btn btn-style01 transit-02">Search</button> -->
                        </div>
                        <div class="ps__scrollbar-x-rail" style="left: 0px; bottom: 0px;">
                            <div class="ps__scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                        </div>
                        <div class="ps__scrollbar-y-rail" style="top: 0px; right: 0px;">
                            <div class="ps__scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="content"></div>
            <div id="tabSpace" class="tabSpace"></div>
            <ng-view id='mainView'>
            </ng-view>
            <div class="div" id="div1-1" ng-click="obj.closeAdvSearchPannel()">
            </div>
            <footer class="narrow-none">
                <div class="container inner">
                    <i class="fa fa-copyright" aria-hidden="true"></i> Pernod Ricard China {{currentYear()}}. All Rights Reserved. 
                </div>
            </footer>
            <div class="bottom-icon" >
                <a href="#!/home" id="icon-home" class="f-icon current" ng-click="obj.closeAdvSearchPannel()">
                <i class="fa fa-list" aria-hidden="true"></i>
                </a>
                <a href="" id="icon-search" class="f-icon search-m-expand">
                <i class="fa fa-search" aria-hidden="true"></i>
                </a>
                <a href="#!/history" id="icon-history" class="f-icon " ng-click="obj.closeAdvSearchPannel()">
                <i class="fa fa-clipboard" aria-hidden="true"></i>
                </a>
                <a href="#!/cart" id="icon-cart" class="f-icon " ng-click="obj.closeAdvSearchPannel()">
                <span class="notification"></span>
                <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </body>
        
        
    <script type="text/ng-template" id="home.html">
        <div id="wrap">
               <div class="">
                  <div class="styleWrap02">
                     <section class="product-list" data-section-name="">
                        <div class="inner">
                           <div class="grid tile">
                               <div ng-show="obj.itemCount == 0"><p>没有查找结果</p></div>
                              <article ng-repeat="(key, item) in obj.itemMap track by $index" class="grid-item transit-05">
                                 <div class="product-cont">
                                    <div class="img-wrap img-container" style="background-color: white;">
                                        <div style="width:100%;padding-top: 75%;position: relative;">
                                            <a href="#!/detail" ng-click="openItem(item)" ><img class="img-center" style="   position:  absolute;" src={{item.imgs[0]}} alt={{item.name}}></a>
                                        </div>
                                        
                                    </div> 
                                    <div class="product-box transit-05 tile-box">
                                       <p class="brand">{{item.ASI_MFM_Sub_brand__r.ASI_MFM_Brand__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                       <p class="sub-brand">{{item.ASI_MFM_Sub_brand__r.ASI_CRM_CN_CHI_NAME_C__c}}</p>
                                       <a href="#!/detail/" ng-click="openItem(item)"><p class="ttl">{{item.ASI_CRM_CN_Chinese_Name__c}}</p></a>
                                       <a href="#!/detail/" ng-click="openItem(item)"><p class="des">英文名称: {{item.ASI_CRM_CN_Eng_Name__c}}</p></a>
                                       <!--<p class="des">Size (L*W*H): {{item.size}} <p>-->
                                       <p class="des">物料类别: {{item.ASI_MFM_Category_Level_1__r.ASI_CRM_CN_Chinese_Name__c}}-{{item.ASI_MFM_Category_Level_2__r.ASI_CRM_CN_Chinese_Name__c}}-{{item.ASI_MFM_Category_Level_3__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                       <a href="#!/detail/" ng-click="openItem(item)" class="f-detail wide-none">立即订购 <i class="fa fa-chevron-right" aria-hidden="true"></i></a>
                                    </div>
                                    <div class="product-box-btns s-box narrow-none transit-05">
                                       <a href="#!/detail" ng-click="openItem(item)" class="quick-link transit-05" style="vertical-align: top;">立即订购</a>
                                       <a href="{{'/'+key}}" target="_blank" class="detail-link transit-05">详细</a>
                                    </div>
                                 </div>
                              </article>
                              
                           </div>
                        </div>
                     </section>
                  </div>
                  </br></br>
                  <section class="pagination-wrap">
                     <div class="inner">
                        <div class="pagination" ng-show="obj.totalPage>0">
                            <a href="" ng-click="pageChange(-1)"><i class="fas fa-angle-left"></i></a>
                            <form class="form">
                              <input type="text" class="" ng-model="search.currPage" ng-blur="pageChange()">
                              <span class="">of</span>
                              <span class="">{{obj.totalPage}}</span>
                           </form>
                          <a href="" ng-click="pageChange(1)"><i class="fas fa-angle-right"></i></a>
                        </div>
                     </div>
                  </section>
               </div>
            </div>
    </script>




    <script type="text/ng-template" id="detail.html">

        <div id="userassign" style="z-index:121;" > 
            <div style="position:absolute;top:50%;left:50%" ng-show="!obj.userAssign.show"><i class="fas fa-circle-notch fa-spin fa-3x" style="color:cornflowerblue;"></i></div>
            
            <div class="" style="width:100%; height:100%" ng-show="obj.userAssign.show">
                <p class="brand">物品总数: {{totalLineQty()}}</p></br>
                <div><a href="" ng-click="addUserLine()" class="fas fa-plus" style="margin-left:10px; padding-bottom:20px;"> 添加新行</a></div>

                <div style="height:calc(100% - 30px); overflow:scroll">
                    <table class="upload-preview">
                        <tr ng-repeat="userAssi in obj.userAssign.users track by $index" >
                            <td style="width:20px"><div style="display:inline-block;text-align:center;width:100%;"><a href="" ng-click="removeLine(userAssi)" class="fas fa-times"></a></div></td>
                            <td style="width:15px"><div style="display:inline-block;text-align:center;width:100%;">{{$index+1}}</div></td>
                            <td><input id={{userAssi.id}} style="width:100%" ng-value="userAssi.user" ng-model="userAssi.user"></input></td>
                            <td style="width:60px"><input type="number" min="0" ng-change="numChange(userAssi)" style="width:100%" ng-value="userAssi.qty"ng-model="userAssi.qty"></input></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div id="wrap">
        <div class="content">
        <section class="breadcrumbs" data-section-name="">
            <div class="inner">
                <a href="#!/home" class="obtn" ng-click="obj.closeAdvSearchPannel()">
                首页
                <i class="fa fa-angle-right" aria-hidden="true"></i>            
                </a>
                <span>{{currentItem.ASI_CRM_CN_Chinese_Name__c}}</span>
            </div>
        </section>
        <section class="" data-section-name="">
            <div class="inner">
            <div class="grid tile">
                <article id="" class="product-detail">
                    <div class="product-cont">
                        <div class="s-box">
                            <div class="slider-side l-box">
                                <div class="slider slider-detail">
                                    <div ng-repeat="prodImg in currentItem.imgs track by $index" class="">
                                        <img src={{prodImg}} alt="" class="zoom" data-magnify-src={{prodImg}}>
                                    </div>
                                </div>
                                <div class="gallery-thumbs-container narrow-none">
                                    <ul id="gallery-thumbs" class="gallery-thumbs-list">
                                        <li ng-repeat="prodImg in currentItem.imgs track by $index" class="thumb-item">
                                            <div class="thumb pager-active transit-02">
                                                <a href="#"><img src={{prodImg}} alt=""></a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="product-box transit-05 l-box">
                                <p class="brand">{{currentItem.ASI_MFM_Sub_brand__r.ASI_MFM_Brand__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                <!--<p class="sub-brand">{{currentItem.ASI_MFM_Sub_brand__r.ASI_CRM_CN_CHI_NAME_C__c}}</p>-->
                                <p class="ttl">{{currentItem.ASI_CRM_CN_Chinese_Name__c}}</p>
                                <p class="item-no">{{currentItem.ASI_MFM_Item_Group_Code__c}}</p>
                                <div class="top-box">
                                    <p class="des">英文名称: {{currentItem.ASI_CRM_CN_Eng_Name__c}}</p>
                                    <!--<p class="des">体积: {{currentItem.ASI_MFM_Size__c}}</p>-->
                                    <p class="des">物料类别: {{currentItem.ASI_MFM_Category_Level_1__r.ASI_CRM_CN_Chinese_Name__c}}-{{currentItem.ASI_MFM_Category_Level_2__r.ASI_CRM_CN_Chinese_Name__c}}-{{currentItem.ASI_MFM_Category_Level_3__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                    <!--<p class="des">使用状态 : {{currentItem.ASI_MFM_Utilization_Status__c}}</p>-->
                                    <p class="des">主要使用渠道: {{currentItem.ASI_MFM_Main_Channel__c}}</p>
                                    <p class="des">BU : {{currentItem.ASI_MFM_Usage__c}}</p>
                                    <p class="des">备注 : {{currentItem.ASI_MFM_Item_Group_Remark__c}}</p>
                                    <p class="des">集合物料 : {{currentItem.ASI_MFM_Bundle_Item_Group__c ? '是' : '否'}}</p>
                                    <p class="des">单个物料体积 : {{currentItem.ASI_MFM_Size__c}} {{currentItem.ASI_MFM_Unit__c}}</p>
                                    <p class="des">单个物料重量 : {{currentItem.ASI_MFM_Weight__c}} Kg</p>
                                    <p class="des">进口 : {{currentItem.ASI_MFM_Importation__c}}</p>
                                    <!--<p class="des">最近订单数量 : {{currentItem.orderedQty}}</p>-->
                                    <!-- <p class="des">参考单价 : {{currentItem.ASI_MFM_Reference_Unit_Price__c}}</p> -->
                                </div>
                                <div class="f-detail-box">
                                    <div class="d-box">
                                        <nobr><a href="" ng-click="openItemSFDC(currentItem.Id)"><p class="f-detail">查看物料详细資訊</p></a></nobr>
                                    </div>
                                    <div class="chevron">
                                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="product-detail-btm" ng-show="currentItem.invs.length > 0">
                            <form>
                                <div class="c-form-plan c-form-btm from" ng-show="currentItem.message">
                                    <span class="message" style="background:#92D400">{{currentItem.message}}</span>
                                </div>
                                <div class="c-form-plan c-form-btm form" ng-show="currentItem.error">
                                    <span class="error">
                                        <p>Failed to add the item.</p>
                                        <p>Detailed error message:<br/>{{currentItem.error}}</p>
                                    </span>
                                </div>
                                <div class="flex-btm narrow-none ttl-box s-box">
                                    <div style="width:calc(100% - 10px)">
                                        <div class="btm-box">
                                            <p class="split adj">
                                                <span class="">仓库</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">库存编号</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">SKU</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">单价</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">批号</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">库存</span>
                                            </p>
                                            <p class="split adj">
                                                <span class="">最小发货单位</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div ng-repeat="inv in currentItem.invs track by $index"  ng-show="inv.aviqty>0 && ($index<2 || !showAll)" class="flex-btm element-show-hide">
                                    <div style="width:calc(100% - 10px); float:left;">
                                        <div class="btm-box">
                                            <p class="split">
                                                <span class="col01">仓库</span>
                                                <span class="col02">{{inv.location}}</span>
                                            </p>
                                            <p class="split">
                                                <span class="col01">库存编号</span>
                                                <span class="col02">{{inv.invnumber}}</span>
                                            </p>
                                            <p class="split">
                                                <span class="col01">SKU</span>
                                                <span class="col02">{{inv.sku}}</span>
                                            </p>
                                            <p class="split">
                                                <span class="col01">单价</span>
                                                <span class="col02">{{inv.unitCost}}</span>
                                            </p>                                      
                                            <p class="split">
                                                <span class="col01">批号</span>
                                                <span class="col02">{{inv.lot}}</span> <span ng-show="inv.owner!=null && inv.owner!=''">({{inv.owner}})</span>
                                            </p>
                                            <p class="split">
                                                <span class="col01">库存</span>
                                                <span class="col02">{{inv.aviqty}}</span>
                                            </p>
                                            <p class="split">
                                                <span class="col01">最小发货单位</span>
                                                <span class="col02">{{inv.packagesizeDisplay}}</span>
                                            </p>
                                        </div>
                                        <div class="form">
                                            <div class="product-details-quantity-container l-box" ng-disabled="true">
                                                <button type="button" ng-click="updateQty(inv, -1)" ng-disabled="inv.zeroOrder || !currentItem.available || !inv.warehouseAvailable" class="product-details-quantity-remove">-</button>
                                                <input  type="number" ng-change="updateQty(inv)" ng-disabled="!currentItem.available || !inv.warehouseAvailable" ng-model="inv.orderqty"  min="0">
                                                <button type="button" ng-click="updateQty(inv, 1)" ng-disabled="inv.maxOrder || !currentItem.available || !inv.warehouseAvailable" class="product-details-quantity-add" data-value="+1">+</button>
                                            </div>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                    <div style="width:10px;float:right;transform:translateY(50%);" ng-show="windowWidth > 767">
                                        <a href="" id="openUserAssigLink" ng-click="openUserAssign($event, inv)" class="fas fa-bars" style="margin-left:10px;" ></a>
                                    </div>
                                    <div style="clear:both;"></div>

                                </div>
                                <p class="des">若库存不足，请联系采购部门订购</p>
                                <p class="expand-detail s-box" ng-show="invCount>2 && showAll">
                                    <a ng-click="expandInv()"><span class="s-more">显示更多</span><i class="fa fa-plus" ></i></a>
                                </p>
                                <div class="o-box transit-05 element-show-hide" ng-show="!currentItem.update&&currentItem.available&&totalItem()>0">
                                    <div class="item-wrap">
                                        <div class="item">订单总件数</div>
                                        <div class="item-num" >{{totalItem()}}</div>
                                    </div>
                                    <div class="add">
                                        <div class="form">                  
                                            <button type="submit" class="btn btn-style01 transit-02" ng-click="addToCart(currentItem)" ng-show="!currentItem.update">添加到购物车</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="o-box transit-05 element-show-hide" ng-show="currentItem.update&&currentItem.available">
                                    <div class="item-wrap">
                                        <div class="item">在订单中<br>总项目数</div>
                                        <div class="item-num" >{{totalItem()}}</div>
                                    </div>
                                    <div class="add">
                                        <div class="form">                  
                                            <button type="submit" class="btn btn-style01 transit-02" ng-click="addToCart(currentItem)" ng-show="totalItem()>0">更新</button>
                                            <button type="submit" class="btn btn-style01 transit-02" ng-click="removeFromCart(currentItem)" ng-show="currentItem.update">删除项目</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div ng-show="currentItem.invs.length == 0">
                        </div>
                </article>
                </div>
            </div>
        </section>
    </script>

    <script type="text/ng-template" id="history.html">
        <div id="wrap"><div class="content">
        <section class="breadcrumbs" data-section-name="">
          <div class="inner">
              <a href="#!/home" class="obtn" ng-click="obj.closeAdvSearchPannel()">
                  首页
                  <i class="fa fa-angle-right" aria-hidden="true"></i>            
              </a>
              <span>我的订单</span>
          </div>
        </section>  
        <div class="styleWrap">
            <section class="" data-section-name="">
                <div class="inner">
                  <article id="">
                      <div class="s-box sub-sec-ttl-style03">
                          <form class="form transit-05">
                              <div class="form-cont-wrap">
                                  <p style="width:35%;float:left;">我的订单</p>
                                  <select class="c-form-remarks form-control" ng-model="obj.history.filterType" name="Status" ng-change="historyFilterChanged()" style="width:65%;float:right;">
                                      <option value="" disabled selected>查询订单状态</option>
                                      <option value="Final" >Final</option>
                                      <option value="Pending" >Pending Approval</option>
                                  </select>
                              </div>
                          </form>
                      </div>
                          
                  </article>
                <div>
                <article ng-repeat="order in orderHistory" class="my-order-conts"> 
                    <div class="s-box item-hdr">
                    </div>
                </article>
                <article id="" ng-repeat="(key, order) in obj.history.datas" class="my-order-conts">
                    <div class="item-hdr s-box">
                        <div style="width:75%">
                            <p class="my-order-part" style="width:100%;"><span class="ttl">订单号</span><span class="cont">{{order.Name}}</span></p>
                            <p class="my-order-part" style="width:100%;margin-top: 10px;"><span class="status blue" style="margin-left:0px;">{{order.ASI_FOC_Request_Status__c}}</span></p>
                        </div>
                        <!--
                        <p class="my-order-part" style="width:75%;"><span class="ttl">订单号</span><span class="cont">{{order.Name}}</span>
                            <span class="status blue">{{order.ASI_FOC_Request_Status__c}}</span>
                            <span class="status yellow" ng-show="order.ASI_FOC_Request_Status__c  =='Submitted'">Submitted</span>
                            <span class="status red" ng-show="order.ASI_FOC_Request_Status__c  =='Final'">Final</span>
                            <span class="status green" ng-show="order.ASI_FOC_Request_Status__c  =='Complete'">Complete</span>
                            <span class="status black" ng-show="order.ASI_FOC_Request_Status__c  =='Voided'">Voided</span> 
                        </p>
                        -->
                        <div class="btns-col02 s-box narrow-none" style="width:25%;">
                            <!-- <button type="submit" class="btn btn-style01 transit-02" ng-show="false">Add to Cart</button> -->
                            <a href="#!/cart" ng-click="cloneOrder(order)" type="submit" class="btn btn-style01 var02 transit-02" style="width:100%;">再来一单</a>
                            <!--  <button type="submit" class="btn btn-style01 transit-02">复制 &amp; 结算</button> -->
                        </div>
                    </div>
                    <div class="item-cont">
                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">审批者</span><span class="cont">{{order.ASI_FOC_Approver_1__r.Name}}</span></p>
                        <p class="my-order-part layoutStyle02 bdrStyle s-box"><span class="ttl">摘要</span><span class="cont">{{order.products}} 个产品 {{order.productItems}} 个物品</span></p>
                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">收货地址</span></p>
                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">发往仓库/现场</span><span class="cont">{{order.ASI_FOC_To_Regional_Warehouse__r.Name}}</span></p>
                        <p class="my-order-part layoutStyle02 s-box" ng-show="order.ASI_CRM_Outlet__c!=null && order.ASI_CRM_Outlet__c!=''"><span class="ttl">客户名</span><span class="cont">{{order.ASI_CRM_Outlet__r.Name}}</span></p>
                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">省份</span><span class="cont">{{order.ASI_MFM_City__r.ASI_CRM_CN_Province__r.ASI_CRM_Chinese_Name__c}}</span></p>
                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">城市</span><span class="cont">{{order.ASI_MFM_City__r.Name}}</span></p>
                        <p class="my-order-part layoutStyle02 bdrStyle s-box"><span class="ttl">地址</span><span class="cont">{{order.ASI_MFM_DetailAddress__c}}</span></p>

                        <p class="my-order-part layoutStyle02 s-box"><span class="ttl">要求到货日期</span><span class="cont">{{order.ASI_FOC_Date_of_Delivery__c | date:'dd/MM/yyyy'}}</span></p>
                        <!--<p class="my-order-part layoutStyle02 bdrStyle s-box"><span class="ttl">要求到货时间</span><span class="cont">{{order.ASI_MFM_DeliveryTime__c}}</span></p>-->
                        <p class="my-order-part layoutStyle02 s-box" ng-show="order.ASI_FOC_ETA_Date__c!=null && order.ASI_FOC_ETA_Date__c!=''"><span class="ttl">预计到货日期</span><span class="cont">{{order.ASI_FOC_ETA_Date__c | date:'dd/MM/yyyy'}}</span></p>
                    </div>
                    <div class="product-list">
                        <div class="grid tile">
                            <article ng-repeat="(key, item) in order.itemgroup track by $index" ng-show="$index<1 || !order.showAll" class="grid-item transit-05">
                                <div class="product-cont">
                                    <div class="img-wrap">
                                        <div class="item-bor">
                                           <img src={{item.imgurl}} alt="">
                                        </div>
                                    </div>
                                    <div class="product-box transit-05">
                                        <p class="brand">{{item.detail.ASI_MFM_Sub_brand__r.ASI_MFM_Brand__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                        <p class="sub-brand">{{item.detail.ASI_MFM_Sub_brand__r.ASI_CRM_CN_CHI_NAME_C__c}}</p>
                                        <p class="ttl">{{item.detail.ASI_CRM_CN_Chinese_Name__c}}</p>
                                        <p class="item-des">{{item.detail.ASI_CRM_CN_Eng_Name__c}}</p>
                                        <p class="item-des" style="padding-bottom:10px;">总数 : {{item.itemcount}}</p>
                                        <div ng-repeat="(key, v) in item.reqitem  track by $index" >
                                            <p class="item-des" ng-show="v.ASI_FOC_Brand_Director_Approval_Required__c">{{v.ASI_FOC_Brand_Approver__r.Name}} - {{v.ASI_FOC_Brand_Director_Approval_Status__c}}</p>
                                        </div>
                                    </div>
                                </div>
                            </article>
                        </div>
                        <div class="expand-detail-m s-box" ng-show="order.showAll">
                            <span class="s-more" ng-click="showAllItemGroup(order)">显示更多</span><i class="fa fa-plus" aria-hidden="true"></i>
                        </div>
                        <div class="btns-col02 s-box wide-none">
                            <button type="submit" class="btn btn-style01 transit-02" ng-show="false">添加到购物车</button>
                            <a href="#!/cart" ng-click="cloneOrder(order)" type="submit" class="btn btn-style01 var02 transit-02">再来一单</a>
                           <!--  <button type="submit" class="btn btn-style01 transit-02">再来一单</button> -->
                        </div>
                    </div>
                    
                </article>
                </div>
              </div>
            </section>
            <section class="pagination-wrap">
             <div class="inner">
                <div class="pagination" ng-show="obj.totalPage>0">
                    <a href="" ng-click="pageChange(-1)"><i class="fas fa-angle-left"></i></a>
                    <form class="form">
                      <input type="text" class="" ng-model="obj.history.currPage" ng-blur="pageChange()">
                      <span class="">of</span>
                      <span class="">{{obj.history.totalPage}}</span>
                   </form>
                  <a href="" ng-click="pageChange(1)"><i class="fas fa-angle-right"></i></a>
                </div>
             </div>
            </section>
        </div>
    </script>
    <script type="text/ng-template" id="cart.html">

        <div id="userassign" style="z-index:121;" > 
            <div style="position:absolute;top:50%;left:50%" ng-show="!obj.userAssign.show"><i class="fas fa-circle-notch fa-spin fa-3x" style="color:cornflowerblue;"></i></div>
            
            <div class="" style="width:100%; height:100%" ng-show="obj.userAssign.show">
                <p class="brand">物品总数: {{totalLineQty()}}</p></br>
                <div><a href="" ng-click="addUserLine()" class="fas fa-plus" style="margin-left:10px; padding-bottom:20px;"> 添加新行</a></div>

                <div style="height:calc(100% - 30px); overflow:scroll">
                    <table class="upload-preview">
                        <tr ng-repeat="userAssi in obj.userAssign.users track by $index" >
                            <td style="width:20px"><div style="display:inline-block;text-align:center;width:100%;"><a href="" ng-click="removeLine(userAssi)" class="fas fa-times"></a></div></td>
                            <td style="width:15px"><div style="display:inline-block;text-align:center;width:100%;">{{$index+1}}</div></td>
                            <td><input id={{userAssi.id}} style="width:100%" ng-value="userAssi.user" ng-model="userAssi.user"></input></td>
                            <td style="width:60px"><input type="number" min="0" ng-change="numChange(userAssi)" style="width:100%" ng-value="userAssi.qty"ng-model="userAssi.qty"></input></td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <div id="wrap"><div class="content">
        <section class="breadcrumbs" data-section-name="">
          <div class="inner">
              <a href="#!/home" class="obtn">
                  首页
                  <i class="fa fa-angle-right" aria-hidden="true"></i>            
              </a>
              <span>我的订单</span>
          </div>
        </section>  
        <div class="styleWrap">
            <section class="" data-section-name="">
              <div class="inner">
                  <article id="">
                      <div class="s-box sub-sec-ttl-style02">
                          <p>结算</p>
                          <div class="sub-lead s-box">
                            <p>{{numProducts()}} 个产品 {{numItems()}} 个物品</p>
                            <a href="#!/cart" class="plink" ng-click="clearAll()">全部清除</a>
                          </div>
                      </div>
                  </article>
                  <div class="grid">
                      <article id="" class="checkout-conts">
                    <div class="item-list product-list">
                        <div class="info-item">
                            <div class="info-ttl s-box">
                                <div class="sub-sec-ttl-style03 bdr-btm adj">
                                
                                  <p style="float:left;">订单摘要</p></br></br>                        
                                  
                                  <!-- 20200713 edit by Leo Jing BLS start :  Shopping cart total amount display.-->
                                  <p style="float:left; margin-left:10px;font-size:10px; color:#888888;" >合计总价：</p>
                                  <p style="margin-left:10px;font-size:10px; color:#888888;" >{{numCost()}}</p>
                                  <p style="float:left; margin-left:10px;font-size:10px; color:#888888;" >毛重(KG)：</p>
                                  <p style="margin-left:10px;font-size:10px; color:#888888;" >{{weight()}}</p>
                                  <p style="float:left; margin-left:10px;font-size:10px; color:#888888;" >毛重(含包装物 KG)：</p>
                                  <p style="margin-left:10px;font-size:10px; color:#888888;" >{{andWeight()}}</p>
                                 
                                  <!-- 20200713 edit by Leo Jing BLS end -->
                                </div>
                            </div>
                        </div>
                        <div class="grid">
                            <div ng-repeat="(key,item) in cartItems track by $index"  ng-show="$index<2 || !showAllItem" class="flex-btm element-show-hide">
                                <article class="grid-item transit-05">
                                    <div class="product-cont">
                                        <div class="img-wrap" style="height:160px">
                                               <img class="img-center" style="width:auto;" src={{item.imgs[0]}} alt={{item.name}}>
                                        </div>
                                        <div class="product-box transit-05">
                                            <p class="brand">{{item.ASI_MFM_Sub_brand__r.ASI_MFM_Brand__r.ASI_CRM_CN_Chinese_Name__c}}</p>
                                            <p class="sub-brand">{{item.ASI_MFM_Sub_brand__r.ASI_CRM_CN_CHI_NAME_C__c}}</p>
                                            <p class="ttl">{{item.ASI_CRM_CN_Chinese_Name__c}}</p>
                                            <p class="ttl-s">{{item.ASI_CRM_CN_Eng_Name__c}}</p>
                                            <p class="item-no">Item Code. {{item.ASI_MFM_Item_Group_Code__c}}</p>
                                            <div class="total-wrap s-box">
                                                <p class="large" style="color:{{totalItem(item)>0?'black':'red'}}">{{totalItem(item)}}</p>
                                                <p class="small">在订单中<br>总项目数</p>

<!--    <a href="" id="openUserAssigLink" ng-click="openUserAssiList($event, item)" class="fas fa-bars" style="margin-left:10px; transform:translateY(50%);" ></a>-->

                                            </div>

<!--                                            <nobr><a class="plink" href="" ng-click="openUserAssiList($event, item)">分配<i class="fas fa-bars" aria-hidden="true"></i></a></nobr>-->
                                            <nobr><a class="plink" href="#!/detail" ng-click="openItem(item)">编辑<i class="fa fa-angle-right" aria-hidden="true"></i></a></nobr>
                                            <nobr><a class="plink" href="#!/cart" ng-click="removeFromCart(item)">删除<i class="fa fa-angle-right" aria-hidden="true"></i></a></nobr>
                                        </div>
                                    </div>
                                </article>
                            </div>
                        </div>
                        <p class="expand-detail s-box" ng-show="cart.numProducts>2 && !showAllItems">
                            <a ng-click="expandItem()"><span class="s-more">显示更多</span><i class="fa fa-plus" ></i></a>
                        </p>
                        <div class="expand-conts transit-05 show ready">
                        </div>
                    </div>
                        
                    <div class="checkout-info transit-05 r-box tile-box">
                        <div class="info-item">
                            <div class="info-ttl s-box">
                                <div class="sub-sec-ttl-style03 bdr-btm"><p>收货信息</p></div>
                            </div>
                        </div>
                        <form class="form transit-05">
                            <div class="form-cont-wrap">

                                <div id="req_category" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">一级目录</p>
                                        <select class="c-form-remarks form-control" ng-change="onCategoryChanged()" ng-model="request.category" name="Purpose">
                                            <option value="" disabled>请选择</option>
                                            <option ng-repeat="category in categoryList" value="{{category.value}}">{{category.label}}</option>
                                        </select>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.category">
                                        <span class="error">{{request.error.category}}</span>
                                    </div>
                                </div>
                                <div id="tooffice" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">区域办公室</p>
                                        <select class="c-form-remarks form-control" ng-model="request.toOffice" id="toOffice" name="To Warehouse" ng-change="onOfficeChanged()">
                                            <option value="" disabled>请选择</option>
                                            <option ng-repeat="office in officeList" value="{{office.label}}">{{office.label}}</option>
                                        </select>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.toOffice">
                                        <span class="error">{{request.error.toOffice}}</span>
                                    </div>
                                </div>
                                <div id="towarehouse" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">发往仓库/现场</p>
                                        <select class="c-form-remarks form-control" ng-model="request.toWarehouse" id="toWarehouse" name="To Warehouse" ng-change="onWarehouseChanged()">
                                            <option value="" disabled>请选择</option>
                                            <option ng-repeat="warehouse in warehouseList" value="{{warehouse.label}}">{{warehouse.label}}</option>
                                        </select>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.toWarehouse">
                                        <span class="error">{{request.error.toWarehouse}}</span>
                                    </div>
                                </div>
                                <div id="agent" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02"><!-- ng-show="request.directDelivery==true">-->
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">供应商名称</p>
                                        
                                        <input class="c-form-remarks form-control" id="agencyField" type="search" name="search" placeholder="搜索供应商" ng-model="request.agency"><!-- ng-disabled="request.directDelivery==false"/>-->
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.agency">
                                        <span class="error">{{request.error.agency}}</span>
                                    </div>
                                </div>
                                <div id="purpose" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">目的</p>
                                        <select class="c-form-remarks form-control" ng-model="request.purpose" name="Purpose" ng-options="purpose.label for purpose in purposeList">
                                            <option value="" disabled selected>请选择</option>
                                        </select>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.purpose">
                                        <span class="error">{{request.error.purpose}}</span>
                                    </div>
                                </div>
                                <div id="ponum" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02"><!-- ng-show="request.directDelivery==true">-->
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">PO号 <i class="fa fa-check" style="color: green;" ng-show="request.isPoValide"></i></p>
                                        <input class="c-form-remarks form-control" id="poField" type="number" name="ponum" placeholder="PO号" ng-model="request.ponum">
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.ponum">
                                        <span class="error">{{request.error.ponum}}</span>
                                    </div>
                                </div>
                                <div id="outlet" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02"><!-- ng-show="request.directDelivery==true">-->
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">客户名</p>
                                        
                                        <input class="c-form-remarks form-control" id="outletField" type="search" name="search" placeholder="搜索客户名" ng-model="request.outlet"><!-- ng-disabled="request.directDelivery==false"/>-->
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.outlet">
                                        <span class="error">{{request.error.outlet}}</span>
                                    </div>
                                </div>
                                <div id="address" class="checkbox-wrap checkbox-wrapStyle02 multiple-lines ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">收货地址</p>
                                        <p class="form-ttl"><small>省份 : {{request.province}}</small></p>
                                        <input type="search" name="remarks" id="cityField" ng-model="request.city" placeholder="城市" class="c-form-remarks form-control" id="c-form-remarks" ng-disabled="request.directDelivery==false">
                                        <input type="text" maxlength="30" name="remarks" ng-model="request.address1" placeholder="详细地址 01" class="c-form-remarks form-control" id="c-form-remarks" ng-disabled="request.directDelivery==false">
                                        <input type="text" maxlength="30" name="remarks" ng-model="request.address2" placeholder="详细地址 02" class="c-form-remarks form-control" id="c-form-remarks" ng-disabled="request.directDelivery==false">

                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.address">
                                        <span class="error">{{request.error.address}}</span>
                                    </div>
                                </div>
                                <div id="contact-information" class="checkbox-wrap checkbox-wrapStyle02 multiple-lines ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">收货人信息</p>
                                        <input type="text" name="remarks" placeholder="收货人姓名" class="c-form-remarks form-control" id="c-form-remarks" ng-model="request.contactName">
                                        <div class="c-form-plan c-form-btm" ng-show="request.error.contactName">
                                            <span class="error">{{request.error.contactName}}</span>
                                        </div>
                                        <input type="text" name="remarks" placeholder="收货人电话" class="c-form-remarks form-control" id="c-form-remarks" ng-model="request.contactTel">
                                        <div class="c-form-plan c-form-btm" ng-show="request.error.contactTel">
                                            <span class="error">{{request.error.contactTel}}</span>
                                        </div>
                                        <div ng-show="request.directDelivery==true">
                                            <input type="email" name="remarks" placeholder="收货人电邮" class="c-form-remarks form-control" id="c-form-remarks" ng-model="request.contactMail">
                                            <div class="c-form-plan c-form-btm" ng-show="request.error.contactMail">
                                                <span class="error">{{request.error.contactMail}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="expected-delivery-date" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">期望到货日期<small>提前期 : {{request.leadTime}} 天</small></p>
                                        <input type="date" id="expected-delivery-date-calendar" data-leadday="4" name="expected-delivery-date-calendar" min="{{request.minDeliveryDate}}" class="filled" ng-model="request.expectedDeliveryDate">                      
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.expectedDeliveryDate">
                                        <span class="error">{{request.error.expectedDeliveryDate}}</span>
                                    </div>
                                </div>

                                <div id="expected-delivery-time" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02" ng-show="false">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">要求到货时间</p>

                                        <select class="c-form-remarks form-control" ng-model="request.expectedDeliveryTime" name="Expected Delivery Time" ng-options="time for time in timeList">
                                            <option value="" disabled selected>请选择</option>
                                        </select>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.expectedDeliveryTime">
                                        <span class="error">{{request.error.expectedDeliveryTime}}</span>
                                    </div>
                                </div>
                                <div id="remarks" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02 element-show-hide" ng-show="request.expectedDeliveryTime == '18:00-24:00（夜间急配）'">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">要求到货时间原因</p>
                                        <textarea id="" class="textarea" name="" placeholder="Please Enter the reason of choosing this time slot" ng-model="request.reasonForTime" autocomplete="off"></textarea>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.reasonForTime">
                                        <span class="error">{{request.error.reasonForTime}}</span>
                                    </div>
                                </div>

                                <div id="add-value-service" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">增值服务</p>
                                        
                                        <!-- <select class="c-form-remarks form-control" ng-model="request.addValueService" selected-model="request.addValueService" name="Add Value Service" ng-options="addValueService.label for addValueService in addValueServiceList" multiple="multiple" size="5">
                                            <option value="" disabled selected>请选择</option>
                                        </select> -->


                                        <select ng-model="request.addValueService" required multiple="multiple" size="5">
                                            <option value="" disabled selected>请选择</option>
                                            <option ng-repeat="addValueService in addValueServiceList" value="{{addValueService.id}}" ng-selected="addValueService.id == request.addValueService.id">{{addValueService.label}}</option>
                                        </select>

                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.addValueService">
                                        <span class="error">{{request.error.addValueService}}</span>
                                    </div>
                                </div>
                                
                                <div id="remarks" class="checkbox-wrap checkbox-wrapStyle02 ready active transit-02">
                                    <div class="txt-area-wrap">
                                        <p class="form-ttl">此交付的任何特定要求?</p>
                                        <textarea id="" class="textarea" name="" placeholder="" autocomplete="off" ng-model="request.deliveryInstruction"></textarea>
                                    </div>
                                    <div class="c-form-plan c-form-btm" ng-show="request.error.requirement">
                                        <span class="error">{{request.error.requirement}}</span>
                                    </div>
                                </div>
                                <div ng-show="allowSubmit">
                                    <a ng-click="saveCart()" class="btn btn-style01 transit-02" style="width:190px">保存</a>
                                    <a ng-click="submitCart()" class="btn btn-style01 transit-02" style="width:190px">提交</a>
                                </div>
                                <div class="c-form-plan c-form-btm" ng-show="request.error">
                                    <span class="error">请查看表格中的错误</span>
                                </div>
                            </div>
                        </form>
                        <div class="bg-wrap" ng-show="false">
                            <p class="ttl">温馨提示 :</p>
                            <p>{{cart.ASI_CRM_CN_Purpose_Description__c}}</p>
                        </div>
                    </div>
                </article>
                </div>
              </div>
            </section>
        </div>
    </script>

    <script type="text/ng-template" id="upload.html">
        <div id="wrap">
            <div class="content">
                <section class="breadcrumbs" data-section-name="">
                  <div class="inner">
                      <a href="#!/home" class="obtn" ng-click="obj.closeAdvSearchPannel()">
                          首页
                          <i class="fa fa-angle-right" aria-hidden="true"></i>            
                      </a>
                      <span>CSV上载</span>
                  </div>
                </section>  
                <div class="styleWrap">
                    <section class="" data-section-name="">
                        <div class="inner">
                            <article id="">
                                <div class="s-box sub-sec-ttl-style03">

                                    <p style="width:35%;float:left;">CSV上载</p>
                                    <form action="#">
                                        <div class="input-file-container" style="float:right;">
                                            <a href="" ng-click="downloadTemplate()" class="fas fa-paperclip fa-2x" style="margin-right:10px;"></a>
                                            <input class="input-file" id="csv-file" type="file" accept=".csv">
                                            <label tabindex="0" for="csv-file" class="btn-style01 csv-upload-label"  style="background-color: #7ea5d0;"><i id='csv-select' class="fa fa-file" aria-hidden="true"> 选择文件...</i></label>
                                            <a href="" ng-click="uploadCSV()" class="btn btn-style01 transit-02" style="width:190px">检视</a>          
                                        </div>
                                    </form>

                                </div>
                            </article>

                            <div class="my-order-conts"ng-show="upload.show">
                                <!--<p class="my-order-part layoutStyle02 bdrStyle s-box" style="margin:20px 0px;"><span style="font-size:20px;">我的訂單</span>  总数: {{batchCount}} 个订单</p>-->

                                <div class="s-box sub-sec-ttl-style02">
                                    <p>整体上载</p>
                                    <div class="sub-lead s-box">
                                        <p>总数: {{batchCount}} 个订单</p>
                                    </div>
                                    <!-- 202009 add by Leo Jing BLS start -->
                                    <div style="float:left" class="validation" ng-show="flag.reportBtnShow">
                                        
                                        <a href="" ng-click="batchSubmitCheck()" style="color:blue;" ng-show="showBatch==false"><u>批量提交审批</u></a>
                                        <a href="" ng-click="batchSubmitCancel()" style="color:blue;" ng-show="showBatch==true"><u>取消批量提交审批</u></a> 
                                        <i class="fa fa-check" style="color: green;" ng-show="showBatch==true"></i>
                                        <i class="fas fa-times" style="color: red;" ng-show="showBatch==false"></i>
                                    </div>
                                    <!-- 202009 add by Leo Jing BLS end -->
                                    <div style="float:right">
                                        <a href="" ng-click="downloadFailReport()" style="color:blue; cursor: pointer;" ng-show="flag.reportBtnShow"><u>汇出失败项目</u></a>
                                        <a href="" ng-click="downloadAllResultReport()" style="color:blue; cursor: pointer;margin-right:10px;" ng-show="flag.reportBtnShow"><u>汇出所有项目</u></a>
                                    </div>
                                </div><br/>

                                <div class="" >
                                    <table class="fixed_header">
                                        <thead><tr>
                                                <!-- <th style="width:15px;" >#</th> -->
                                                <!-- <th style="width:15px;" ><input style="width: 15px;height: 15px;background: #eee7e7;" name="Fruit" type="checkbox" /></th> -->
                                                <th style="width:15px;" ><input type="checkbox" ng-model="checkbox.allChoose"></th>
                                                <th style="width:50px;" >一级目录</th>
                                                <th style="width:100px;" >仓库/办公室</th>
                                                <th style="width:120px;" >客户/Agency</th>
                                                <th style="width:110px;" >收货人</th>
                                                <th style="width:110px;" >收货人電話</th>
                                                <th style="width:110px;" >FG Number</th>
                                                <th style="width:110px;" class="validation" ><a href="" ng-click="submitAll()" ng-show="flag.batchSubmitReady" style="color:blue;"><u>全部提交</u></a>  <a href="" class="fas fa-chevron-up" style='color:red;' ng-click="fixedTable_ScrollUp()" ></a> <a href="" class="fas fa-chevron-down" style='color:green;' ng-click="fixedTable_ScrollDown()" ></a></th>
                                        </tr></thead>
                                                
                                      <tbody id="fixed_header_tbody" ><tr ng-repeat="order in uploadBatchs track by $index" ng-click="selectHeader($index)" class="{{order.selected}}">
                                        <td>{{order.index}}</td>
                                        <td>{{order.category}}</td>
                                        <td>{{order.towarehouse}}</td>
                                        <td>{{order.outlet}}</td>
                                        <td>{{order.receipt}}</td>
                                        <td>{{order.phone}}</td>
                                        <td>{{order.docnum}}</td>
                                        <td class="validation" >
                                            <i class="{{order.status}} fas fa-circle-notch fa-spin"></i>
                                            <i class="fas fa-exclamation-triangle" style="color: orange;" ng-show="order.status=='caution'"></i>
                                            <i class="fa fa-check" style="color: green;" ng-show="order.status=='success'"></i>
                                            <i class="fas fa-times" style="color: red;" ng-show="order.status=='fail'" data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{order.error}}"></i>
                                            <a href="" ng-click="submitOrder($index)" style="color:blue;" ng-show="order.status=='ready' && flag.batchSubmitReady"><u>提交</u></a>
                                            <!--
                                             | <a href="" ng-click="selectHeader($index)" style="color:blue;"><u>检视</u></a>
                                            <!--
                                            <a href="" ng-click="selectHeader($index)" style="color:blue;"><u>检视</u></a> |  
                                            <i class="{{order.status}} fas fa-circle-notch fa-spin"></i>
                                            <i class="fa fa-check" style="color: green;" ng-show="order.status=='success'"></i>
                                            <i class="fas fa-times" style="color: red;" ng-show="order.status=='fail'"></i>
                                            <a href="" ng-click="submitOrder($index)" style="color:blue;" ng-show="order.status=='ready'"><u>提交</u></a>
                                            -->
                                        </td>
                                        </tr></tbody>

                                    </table>
                                    <!--<a href="" ng-click="fixedTable_ScrollUp()" >UP</a> <a href="" ng-click="fixedTable_ScrollDown()" >DOWN</a>-->
                                </div>
                                                
                                <!--<p class="my-order-part layoutStyle02 bdrStyle s-box" style="margin:20px 0px;"><span style="font-size:20px;">收貨信息</span></p>-->
                                <!--
                                <div class="item-cont">
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">#</span><span class="cont">{{upload.index}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">目的</span><span class="cont">{{upload.purpose}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">发往仓库/现场</span><span class="cont">{{upload.towarehouse}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box" ng-show="upload.outlet!=null && upload.outlet!=''"><span class="ttl">客户</span><span class="cont">{{upload.outlet}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">城市</span><span class="cont">{{upload.city}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">详细地址1</span><span class="cont">{{upload.address1}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">详细地址2</span><span class="cont">{{upload.address2}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">收货人</span><span class="cont">{{upload.receipt}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">收货人電話</span><span class="cont">{{upload.phone}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">收货人電邮</span><span class="cont">{{upload.email}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">期望到货日期</span><span class="cont">{{upload.recdate | date:'dd/MM/yyyy'}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">增值服务</span><span class="cont">{{upload.vas}}</span></p>
                                    <p class="my-order-part layoutStyle02 s-box"><span class="ttl">特定要求</span><span class="cont">{{upload.spreq}}</span></p>
                                </div>
                                -->

                                <br/><br/><br/>
                                <div class="s-box sub-sec-ttl-style02">
                                    <p>收货信息</p>
                                    <div class="sub-lead s-box">
                                        <p>&#35;{{upload.index}}</p> 
                                        <p style="color: red;">{{upload.errorMap.SubmitError}}</p> 
                                    </div>                             
                                </div>
                                
                                <div class="item-cont">
                                    <table class="upload-summary">
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >一级目录</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.category}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.category != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.category}}"></i> </td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >PO号</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.ponum}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.ponum != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.ponum}}"></i> </td></td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >目的</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.purpose}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.purpose != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.purpose}}"></i> </td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >收货人</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.receipt}}
                                              <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.receipt != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.receipt}}"></i>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >发往仓库/办公室</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.towarehouse}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.towarehouse != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.towarehouse}}"></i> </td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >收货人電話</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.phone}} 
                                              <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.phone != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.phone}}"></i>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >客户/Agency</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.outlet}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.outlet != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.outlet}}"></i> </td>                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >收货人電邮</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.email}}</td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >城市</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.city}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.city != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.city}}"></i> </td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >期望到货日期</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.recdate | date:'yyyy-MM-dd'}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.recdate != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.recdate}}"></i> </td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >详细地址1</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.address1}}
                                              <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.address1 != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.address1}}"></i>
                                            </td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >增值服务</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.vas}} <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="upload.errorMap.vas != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.errorMap.vas}}"></i> </td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >详细地址2</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.address2}}</td>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >特定要求</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.spreq}}</td>
                                        </tr>
                                        <tr>
                                            <td class="my-order-part layoutStyle02 s-box ttl td-label" >交货说明</td>
                                            <td class="my-order-part layoutStyle02 s-box cont td-value" >{{upload.spreq=='N/A'?'':upload.spreq+';'}} {{upload.vas}} ;
                                                <i class="fas fa-exclamation-triangle" style="color: orange;" ng-show="upload.vas_claimError != ''"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{upload.vas_claimError}}"></i>  
                                            </td>
                                        </tr>
                                        
                                    </table>
                                </div>
              
                                <!--<p class="my-order-part layoutStyle02 bdrStyle s-box" style="margin:20px 0px;"><span style="font-size:20px;">訂單摘要</span></p>-->

                                <br/><br/>
                                <div class="s-box sub-sec-ttl-style02">
                                    <p>订单摘要</p>
                                    <div class="sub-lead s-box">
                                        <p>&#35;{{upload.index}}</p>
                                    </div>
                                </div>
                                <br/>
                                
                                <div class="" >
                                    <table class="upload-preview">
                                        <tr>
                                            <th width="30%" >SKU</th>
                                            <th width="30%" >库存编号</th>
                                            <th width="20%" >
                                                <div style='float:left; text-align:left; width:100%;'>批号(Owner)</div>
                                                <div style='float:right; text-align:right; width:100%;'>Assigned User</div>
                                            </th>
                                            <th width="10%" >数量</th>
                                            <th width="10%" >检测</th>
                                        </tr>
                                        <tr ng-repeat="item in upload.items track by $index" class="{{item.class}}">
                                            <td>{{item.sku}}</td>
                                            <td>{{item.ib}}</td>
                                            <td ng-show="item.child != null">{{item.lot}}({{item.displayOwner}})</td>
                                            <td ng-show="item.child == null">{{item.lot}}</td>    
                                            <td>{{item.qty}}</td>
                                            <td class="validation">
                                                <i class="fas fa-exclamation-triangle" style="color: red;" ng-show="item.error != null"  data-placement="bottom" data-html="true" data-toggle="tooltip" title="{{item.error}}"></i>
                                                <span class="fa fa-check" ng-show="item.success != false" ></span>

                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </div>
                        </div>
                    </section>
                    </br>
                </div>
                
                                
            </div>
        </div>
    </script> 
    <script type="text/javascript">
        Visualforce.remoting.timeout = 120000; // Set timeout at page level
    </script>    
    </html>
</apex:page>