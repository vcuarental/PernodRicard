<apex:page controller="PJ_ByFor_Clients" applyHtmlTag="false" applyBodyTag="false" docType="html-5.0" showHeader="false" sidebar="false" standardStylesheets="false" action="{!init}">
	<apex:composition template="PJ_ByFor_Template">
        <apex:define name="BodyValue">
        	<div class="wrapper-central wrapper-projects wrapper-contacts">
			    <div class="container-central">
			        <h1>{!$Label.PJ_ByFor_Client_Contact}</h1>
            
			        <apex:form >
			        	<!-- search and filter  section -->
				        <div class="top-projects">
				            <div class="search">  
				                <div class="form-group">
				                   
				                    <apex:inputText value="{!accountNameParam}" styleClass="form-control" html-placeholder="{!$Label.PJ_ByFor_Client_Look_for_a_contact}" onkeypress="handleKeyPress(event);"/>
									<button type="submit">
									<img class="img-responsive" alt="" src="{!URLFOR($Resource.PJ_ByFor, 'PJ_ByFor/images/search.svg')}" onclick="doSearch()"/>
									</button>
				                </div>
				            </div>
				         </div>
				         <div class="filters">
			                <ul class="alphabet">
			                
			               
							    <li>
							    <apex:commandLink action="{!doSearch}" value="A"  reRender="clients_list"> 
							    <apex:param name=""
							                value="A"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="B"  reRender="clients_list"> 
							    <apex:param name=""
							                value="B"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="C"  reRender="clients_list"> 
							    <apex:param name=""
							                value="C"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="D"  reRender="clients_list"> 
							    <apex:param name=""
							                value="D"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="E"  reRender="clients_list"> 
							    <apex:param name=""
							                value="E"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="F"  reRender="clients_list"> 
							    <apex:param name=""
							                value="F"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="G"  reRender="clients_list"> 
							    <apex:param name=""
							                value="G"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="H"  reRender="clients_list"> 
							    <apex:param name=""
							                value="H"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="I"  reRender="clients_list"> 
							    <apex:param name=""
							                value="I"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="J"  reRender="clients_list"> 
							    <apex:param name=""
							                value="J"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="K"  reRender="clients_list"> 
							    <apex:param name=""
							                value="K"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="L"  reRender="clients_list"> 
							    <apex:param name=""
							                value="L"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="M"  reRender="clients_list"> 
							    <apex:param name=""
							                value="M"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="N"  reRender="clients_list"> 
							    <apex:param name=""
							                value="N"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="O"  reRender="clients_list"> 
							    <apex:param name=""
							                value="O"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="P"  reRender="clients_list"> 
							    <apex:param name=""
							                value="P"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="Q"  reRender="clients_list"> 
							    <apex:param name=""
							                value="Q"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="R"  reRender="clients_list"> 
							    <apex:param name=""
							                value="R"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="S"  reRender="clients_list"> 
							    <apex:param name=""
							                value="S"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="T"  reRender="clients_list"> 
							    <apex:param name=""
							                value="T"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="U"  reRender="clients_list"> 
							    <apex:param name=""
							                value="U"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="V"  reRender="clients_list"> 
							    <apex:param name=""
							                value="V"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="W"  reRender="clients_list"> 
							    <apex:param name=""
							                value="W"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="X"  reRender="clients_list"> 
							    <apex:param name=""
							                value="X"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="Y"  reRender="clients_list"> 
							    <apex:param name=""
							                value="Y"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="Z"  reRender="clients_list"> 
							    <apex:param name=""
							                value="Z"
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
							    <li>
							    <apex:commandLink action="{!doSearch}" value="{!$Label.PJ_ByFor_Client_All}"  reRender="clients_list"> 
							    <apex:param name=""
							                value=""
							                assignTo="{!accountNamePrefixParam}"/>
							    </apex:commandLink>
							    </li>
							    
			                </ul>
			            </div>
				         <!-- Define the table frame -->
				           
	 
	 
	 
				         <apex:outputPanel id="clients_list">
					         <table class="table table-fixed table-striped table-contacts">
	            				<thead>
					                <tr>
					                    <th class="td-25">
					                    <apex:commandLink action="{!sortByName}" reRender="clients_list">{!$Label.PJ_ByFor_Client_Full_Name}
							    		</apex:commandLink>
							    		</th>
							    
                        
                        				<th class="td-20">
					                    <apex:commandLink action="{!sortByContactDate}" reRender="clients_list">{!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Subsidiary__c.Label}
					                    <!-- {!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Subsidiary__c.Label} -->
							    		</apex:commandLink>
							    		</th>
							    
							    
						    
							    
							    <th class="td-30">
					                    <apex:commandLink action="{!sortByCountryOfresidence}" reRender="clients_list"> {!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Latest_Situation_Update__c.Label}
					                    <!-- {!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Phone_del__c.Label} -->
							    		</apex:commandLink>
							    		</th>
							    
							    
							    
							    <th class="td-25">
					                    <apex:commandLink action="{!sortByLastSituationUpdate}" reRender="clients_list"> {!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Email__c.Label}
					                    <!-- {!$ObjectType.PJ_ByFor_Client__c.fields.PJ_ByFor_Email__c.Label}  -->
							    		</apex:commandLink>
							    		</th>
					                </tr>
					            </thead>
					            <tbody>
					                <apex:repeat value="{!clients}" var="c" >
						                <tr onclick="window.location.href = '{!$Site.BaseUrl}/apex/PJ_ByFor_ClientDetail?Id={!c.Id}';" style="cursor:pointer">
						                    <td class="td-25">
						                        <a href="{!$Site.BaseUrl}/apex/PJ_ByFor_ClientDetail?Id={!c.Id}" class="link-line"></a>
						                        <div class="{!IF(c.PJ_ByFor_Status__c == 'Prospect','type prospect','type client')}"></div>
						                        {!c.PJ_ByFor_Salutation__c} {!c.PJ_ByFor_First_name__c} {!c.Name} 
						                    </td>    
						                    
						                    
						                    <td class="td-20">{!c.PJ_ByFor_Subsidiary__c}</td>
						                    <td class="td-30">{!c.PJ_ByFor_Latest_Situation_Update__c}{!IF(NOT(ISBLANK(c.PJ_ByFor_Latest_Situation_Update__c) ), ' - ', ' ' )}<apex:outputText value="{0, date, dd/MM/yy}"><apex:param value="{!c.PJ_ByFor_Latest_Situation_Update_Date__c}" /></apex:outputText></td>
						                    <td class="td-25">{!c.PJ_ByFor_Email__c}</td>
 						                </tr>
									</apex:repeat>
						           </tbody>
			        		</table>
		        		</apex:outputPanel>
		        		
		        		
		        		<div class="legend-table">
				            <div class="type client">
				                <span></span> {!$Label.PJ_ByFor_Client_Client}
				            </div>
				            <div class="type prospect">
				                <span></span> {!$Label.PJ_ByFor_Client_Prospect}
				            </div>
				        </div>
				        
				        
				        
				        	
						<div class="row">
				            <div class="col-xs-12">
				                <a href="{!$Site.BaseUrl}/apex/PJ_ByFor_ClientEdit" class="bouton-bottom" style="{!IF(NOT(userPermission.PermissionsCreate),'display:none','')}">{!$Label.PJ_ByFor_Client_Create_a_new_contact}</a>
				            </div>
				        </div>
				        
				        <apex:actionFunction name="doSearch" action="{!doSearchName}" reRender="clients_list"/>
				        
				        <script type="text/javascript">
					        function handleKeyPress(e){
					          var key= 0;
					          if(window.event){
					            key= e.keyCode;
					            }else if(e.which){
					           key= e.which;
					          }
					            if(key==13){
					            	doSearch();
					            }
					        }
					    </script>
			        </apex:form>
			    </div>
			</div>
        </apex:define>
	</apex:composition>
</apex:page>