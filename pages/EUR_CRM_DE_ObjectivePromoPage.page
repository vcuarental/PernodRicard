<apex:page standardController="EUR_CRM_ObjPromo__c" extensions="EUR_CRM_ObjectivePromoPageController" action="{!redirect}">
<apex:includeScript value="{!URLFOR($Resource.EUR_CRM_jQuery_Lib, '/libs/jquery/js/jquery-1.9.1.min.js')}" />
<apex:includeScript value="{!URLFOR($Resource.EUR_CRM_jQuery_Lib, '/libs/jquery/js/jquery-ui-1.10.3.custom.min.js')}" />
<style> 
    .innerTableHeader{
        padding: 0 0 0 12px !important;
        font-size: 1.05em !important;
    }
    .hide{
        display:none;
    }
    .regionalRow{
     background: #e5f0a8; 
     display:none
 }
 .objectiveRow{
    background: #b4c16d;
}
</style>
<script>
    $(document).ready(
        function(){
            console.log('init' +'{!isEditAll}'); 
            
            if( {!!isAdmin} ){ 
                $('.actionColumn').hide();
            }
            $("input[name='eur_crm_notify_tm_kam']").hide();
            $("input[name='eur_crm_notify_sales_manager']").hide();

            if({!!isEditAll && !isNational}){
                $("input[name='eur_crm_publish']").css('display','none');
                $("input[name='eur_crm_za_deactivate_o_p']").css('display','none');
                //$("input[name='edit']").css('display','none');
                $("input[name='del']").css('display','none');
                $("input[name='clone']").css('display','none');
            } 
            console.log('op status: ' + '{!EUR_CRM_ObjPromo__c.EUR_CRM_Status__c}');
            var status =  '{!EUR_CRM_ObjPromo__c.EUR_CRM_Status__c}';
            var recordType = '{!EUR_CRM_ObjPromo__c.RecordType.Developername}';
            

            if(status == 'Draft'){            
                $("input[name='eur_crm_za_deactivate_o_p']").css('display','none');
            }else if(status == 'Active'){
                $("input[name='eur_crm_publish']").css('display','none');
                $("input[name='edit']").css('display', 'none');
                $("input[name='del']").css('display', 'none');
            }else if(status == 'In Preparation'){
                $("input[name='eur_crm_publish']").css('display','none');
                //$("input[name='edit']").css('display', 'none');
                $("input[name='del']").css('display', 'none');
            }else if(status == 'Published'){
                $("input[name='eur_crm_publish']").css('display','none');
                //$("input[name='edit']").css('display', 'none');
                $("input[name='del']").css('display', 'none');
            }else if(status == 'Deactivated' || status == 'Ended'){
                $("input[name='eur_crm_za_deactivate_o_p']").css('display','none');
                $("input[name='eur_crm_publish']").css('display','none');
                $("input[name='edit']").css('display', 'none');
                $("input[name='del']").css('display', 'none');
            }


            if({!isReadOnly}){
                $("input[name='eur_crm_manage_on_trade']").css('display','none');
                $("input[name='eur_crm_manage_bqs']").css('display','none');
                $("input[name='eur_crm_manage_secondary_placement']").css('display','none');
                $("input[name='eur_crm_manage_targets']").css('display','none');
                $("input[name='eur_crm_manage_trade_fair_targets']").css('display','none'); 
                $("input[name='eur_crm_manage_sku_bottles_targets']").css('display','none'); 
                $("input[name='eur_crm_de_managesalesdrive']").css('display','none'); 
                $("input[name='eur_crm_de_managewsobj']").css('display','none'); 
            }
            
            if(status == 'Draft'){
                if(({!isRegional} && !({!isEditAll}) )|| {!isNAtManagerPrestige}){
                    $("input[name='eur_crm_notify_tm_kam']").show();                
                }else if({!isNational} ||{!isEditAll} ||  {!isTMKT} || {!isKAM_Sub} || {!isTMKT_Sub} || {!isKAM_Specialized}){
                    $("input[name='eur_crm_notify_sales_manager']").show();                
                }else if({!isEditAll}){
                    $("input[name='eur_crm_notify_tm_kam']").show();  
                    $("input[name='eur_crm_notify_sales_manager']").show();  
                }
            }

            if(recordType == 'EUR_DE_Off_Trade_Leaflet_Campaign') {
                // Hide normal dates in the page layout
                var prepDate = $('.detailList td.labelCol:contains("{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Preparation_Start_Date__c.label}")');
                var startDate = $('.detailList td.labelCol:contains("{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Active_Start_Date__c.label}")');
                var endDate = $('.detailList td.labelCol:contains("{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Active_End_Date__c.label}")');

                prepDate.next().remove();
                prepDate.remove();
                startDate.next().remove();
                startDate.remove();
                endDate.next().remove();
                endDate.remove();
            }
        }
        

        );  

function showHide(x){
    var name = $(x).children('img').attr('id');
    var twistie = $(x).children('img').attr('class');
    console.log('twistie clicked: ' + name + ' ' + twistie);
    if(twistie == 'hideListButton'){
                //hide
                $('[class~='+name+']').each(function(index){  
                    console.log($(this).find('img'));
                    $(this).find('img[class="hideListButton"]').each(function(index){
                        $(this).attr('class','showListButton');
                        $(this).css('width','20px');
                        $(this).css('height','20px');
                    });                       

                    $(this).css('display','none');
                });
                $(x).children('img').attr('class','showListButton');
                $(x).children('img').css('background-image' ,"url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty.gif')})");
                $(x).children('img').css('width','20px');
                $(x).children('img').css('height','20px');
            }else{
                 //show
                 $('[class$='+name+']').each(function(index){     
                  $(this).css('display','table-row');  

              });
                 $(x).children('img').attr('class','hideListButton');
                 $(x).children('img').css('background-image' ,"url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty2.gif')})");
                 $(x).children('img').css('width','20px');
                 $(x).children('img').css('height','20px');

             }
         }
     </script>
     <apex:actionStatus id="idStatus" >
     <apex:facet name="start">
     <c:EUR_CRM_LoadingStatus BackColor="#ffffff" borderColor="#6B6B6B"   borderSize="1"   height="50px"   width="160px" margintop="-25px" marginleft="-60px" ImageUrl="{!$Resource.loadingStatus}"
     Message="{!$Label.EUR_CRM_Please_wait}..."/>
 </apex:facet>
</apex:actionStatus>
<apex:form > 
    <apex:detail subject="{!EUR_CRM_ObjPromo__c.id}" inlineEdit="false" relatedlist="false"/>
    <apex:variable var="recordType" value="{!EUR_CRM_ObjPromo__c.RecordType.Developername}"/>
    <apex:inputhidden value="{!EUR_CRM_ObjPromo__c.EUR_CRM_OP_Action_List_Template__c}"/>
    <apex:inputhidden value="{!EUR_CRM_ObjPromo__c.Id}"/>   
    <apex:inputhidden value="{!EUR_CRM_ObjPromo__c.EUR_CRM_ObjPromo_OnTrade_Variation__c}"/>
    <apex:inputhidden value="{!EUR_CRM_ObjPromo__c.EUR_CRM_Status__c}"/>
    <apex:inputhidden value="{!EUR_CRM_ObjPromo__c.OwnerId}"/>
    <apex:pageBlock mode="maindetail" rendered="{!recordType == 'EUR_DE_Off_Trade_Leaflet_Campaign'}">
        <apex:pageBlockButtons >
            <apex:commandButton action="{!saveObjPromoDetail}" id="saveButton" value="Save" style="display:none"/>
            <apex:commandButton onclick="resetInlineEdit()" id="cancelButton" value="Cancel" style="display:none"/>
        </apex:pageBlockButtons>
        <apex:pageBlockSection title="{!$Label.EUR_CRM_Date}" columns="2">
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Preparation_Start_Date__c.label}" />
                <apex:outputField value="{!EUR_CRM_ObjPromo__c.EUR_CRM_Preparation_Start_Date__c}" >
                    <apex:inlineEditSupport event="ondblclick" showOnEdit="saveButton, cancelButton" rendered="{!EUR_CRM_ObjPromo__c.EUR_CRM_Status__c != 'Active'}"/>
                </apex:outputField>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Active_Start_Date__c.label}" />
                <apex:outputField value="{!EUR_CRM_ObjPromo__c.EUR_CRM_Active_Start_Date__c}" />
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                <apex:outputLabel value="{!$ObjectType.EUR_CRM_ObjPromo__c.fields.EUR_CRM_Active_End_Date__c.label}" />
                <apex:outputField value="{!EUR_CRM_ObjPromo__c.EUR_CRM_Active_End_Date__c}" />
            </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
    </apex:pageBlock>
    <apex:pageMessages /><br/>
</apex:form>
<!-- ############################### ACTION SECTION ###################################################-->
<apex:pageBlock title="{!$Label.EUR_CRM_Actions}"> 
    <apex:pageBlockTable value="{!Actions}" var="act">
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.Name.Label}</apex:facet>
            <apex:outputField value="{!act.Name}"/>
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.EUR_CRM_Stage__c.Label}</apex:facet>
            <apex:outputField value="{!act.EUR_CRM_Stage__c}"/>
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.EUR_CRM_Stage_Sequence_Order__c.Label}</apex:facet>
            <apex:outputField value="{!act.EUR_CRM_Stage_Sequence_Order__c}"/>
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.EUR_CRM_OP_Sequence_Order__c.Label}</apex:facet>
            <apex:outputField value="{!act.EUR_CRM_OP_Sequence_Order__c}"/>
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.EUR_CRM_Can_Reoccur__c.Label}</apex:facet>
            <apex:outputField value="{!act.EUR_CRM_Can_Reoccur__c}"/>
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Action__c.fields.EUR_CRM_Entitle_Achievement__c.Label}</apex:facet>
            <apex:outputField value="{!act.EUR_CRM_Entitle_Achievement__c}"/>
        </apex:column>
    </apex:pageBlockTable> 
</apex:pageBlock>
<!-- ############################### END of ACTION SECTION ###################################################-->

<!-- ############################### OP VARIATIONS For ON TRADE ##############################################-->
<apex:pageBlock title="{!EUR_CRM_ObjPromo__c.EUR_CRM_ObjPromo_OnTrade_Variation__r.name}"   rendered="{!isPROSSegment  }"> 
    <apex:pageBlockTable value="{!VariationDetails}" var="target" >
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_OnTrade_Var_Detail__c.fields.EUR_CRM_Quality__c.Label}</apex:facet>
            <apex:outputField value="{!target.EUR_CRM_Quality__c}"/ > 
        </apex:column>
        <apex:column >
            <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_OnTrade_Var_Detail__c.fields.EUR_CRM_Description__c.Label}</apex:facet>
            <apex:outputField value="{!target.EUR_CRM_Description__c}"/ > 
        </apex:column>
    </apex:pageBlockTable>   
</apex:pageBlock> 
<!-- ############################### END of VARIATIONS For ON TRADE ##############################################-->

<!-- ############################### LEAFLET CAMPAIGNS ############ ##############################################-->
<apex:pageBlock title="{!$Label.EUR_CRM_SelectedProducts}" rendered="{!isLeafletCampaign || isTasting || isDistDrive || isWSPromoCampaign}">
    <apex:pageBlockSection columns="1" title="Products"  collapsible="true"> 
        <apex:pageblockTable value="{!targets}" var="target" id="targetTable"> 
            <apex:column width="20%">
                <apex:facet name="header"> {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.Name.Label}</apex:facet>                          
                <apex:outputLink value="/{! target.id}"> <apex:outputField value="{! target.name}"/> </apex:outputLink> 
            </apex:column> 
            <apex:column width="20%" rendered="{!isWSPromoCampaign}">
                <apex:facet name="header">{!$ObjectType.EUR_CRM_SKU__c.fields.Name.Label}</apex:facet> 
                <apex:outputField value="{!target.EUR_CRM_SKU__c }"/>
            </apex:column> 
            <apex:column width="20%">
                <apex:facet name="header">{!$ObjectType.EUR_CRM_Size__c.fields.Name.Label}</apex:facet> 
                <apex:outputField value="{!target.EUR_CRM_BQS__c }"/>
            </apex:column> 
            <apex:column >
                <apex:facet name="header"> {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Comments__c.Label}</apex:facet> 
                <apex:outputField value="{!target.EUR_CRM_Comments__c}" /> 
            </apex:column> 
        </apex:pageblockTable>
    </apex:pageBlockSection>
</apex:pageBlock>
<!-- ############################### End of LEAFLET CAMPAIGNS ####################################################-->

    <!-- ############################### TRADE FAIR ############ ##############################################-->
<apex:form >     
    <apex:pageBlock title="{!$Label.EUR_CRM_SelectedProducts}" rendered="{!isTradeFair}" id="targetArea" mode="edit" >            

        <apex:pageBlockButtons location="top" rendered="{!!isDraft && (isEditAll || isRegional || isKAA)}">
            <apex:commandButton action="{!editTargets}" value="{!$Label.EUR_CRM_Edit}" reRender="targetArea" status="idStatus" disabled="{!isEditTarget}"/>
            <apex:commandButton action="{!saveTarget}"   value="{!$Label.EUR_CRM_Save}" reRender="targetArea" status="idStatus"/>
            <apex:commandButton action="{!cancel}"  value="{!$Label.EUR_CRM_Cancel}" reRender="targetArea" status="idStatus"/>
        </apex:pageBlockButtons> 
        <apex:pageBlockSection columns="1" title="Products"  collapsible="true"> 
            <apex:pageBlockTable value="{!tradeFairTargets}" var="target" > 
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.Name.Label}</apex:facet>
                    <apex:outputLink value="/{!target.id}"> <apex:outputField value="{!target.name}"/> </apex:outputLink>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_SKU__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_SKU__c}"/>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Comments__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Comments__c}"/>
                </apex:column>
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Qty_Sell_in_Amount_Bottle__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/>
                </apex:column>   
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Actual_Volume_Bottles__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Actual_Volume_Bottles__c}" rendered="{!!isEditTarget || isKAA}">                    
                        <apex:inlineEditSupport event="ondblclick" resetFunction="resetInlineEdit" rendered="{!!isDraft && (isEditAll || isRegional) && !isKAA}"/>       
                    </apex:outputField> 
                    <apex:inputField value="{!target.EUR_CRM_Actual_Volume_Bottles__c}" rendered="{!isEditTarget && (isEditAll || isRegional) && !isKAA}"/>
                </apex:column>   
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Customer_Reported_Ordered_Qty__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Customer_Reported_Ordered_Qty__c}" rendered="{!!isEditTarget || isRegional}">                    
                        <apex:inlineEditSupport event="ondblclick" resetFunction="resetInlineEdit" rendered="{!!isDraft && (isEditAll || isKAA)}"/>      
                    </apex:outputField> 
                    <apex:inputField value="{!target.EUR_CRM_Customer_Reported_Ordered_Qty__c}" rendered="{!isEditTarget && (isEditAll || isKAA)}"/>
                </apex:column>   
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Percentage_Achieved__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Percentage_Achieved__c}"/>
                </apex:column>   
                <apex:column >
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Achieved__c.Label}</apex:facet>
                    <apex:outputField value="{!target.EUR_CRM_Achieved__c}"/>
                </apex:column>                
            </apex:pageBlockTable> 
        </apex:pageBlockSection>
        <apex:pageBlockSection columns="1" title="{!$Label.EUR_CRM_Trade_Fair_Participants}"  collapsible="true"> 
            <apex:pageblockTable value="{!tradeFairParticipants}" var="participant" id="participantTable"> 
                <apex:column width="30%">
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Trade_Fair_Participant__c.fields.Name.Label}</apex:facet>
                    <apex:outputLink value="/{!participant.id}">
                    <apex:outputField value="{!participant.name}"/>
                    </apex:outputLink>
                </apex:column> 
                <apex:column width="30%">
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Trade_Fair_Participant__c.fields.EUR_CRM_Sales_Manager__c.Label}</apex:facet> 
                    <apex:outputField value="{!participant.EUR_CRM_Sales_Manager__c}" />
                </apex:column> 
                <apex:column width="30%">
                    <apex:facet name="header">{!$ObjectType.EUR_CRM_ObjPromo_Trade_Fair_Participant__c.fields.EUR_CRM_Participant__c.Label}</apex:facet> 
                    <apex:outputField value="{!participant.EUR_CRM_Participant__c}" />
                </apex:column> 
            </apex:pageblockTable>
        </apex:pageBlockSection>
    </apex:pageBlock>
<!-- ############################### End of TRADE FAIR ####################################################-->


</apex:form>
<!-- ############################### SALES DRIVE / WS Objective ############ ##############################################-->
<apex:form rendered="{!isSalesDrive || isSalesDriveBottles || isSalesDriveDisplays || isWSObjectiveCampaign}" >
    <apex:pageBlock title="{!$Label.EUR_CRM_SKU_Targets}" id="targetArea" mode="edit" >
        <apex:pageBlockButtons location="top" rendered="{!!isDraft && (isEditAll  || isKAA)}">
            <apex:commandButton action="{!editTargets}" value="{!$Label.EUR_CRM_Edit}" reRender="targetArea" status="idStatus" disabled="{!isEditTarget}"/>
            <apex:commandButton action="{!saveTarget}"   value="{!$Label.EUR_CRM_Save}" reRender="targetArea" status="idStatus"/>
            <apex:commandButton action="{!cancel}"  value="{!$Label.EUR_CRM_Cancel}" reRender="targetArea" status="idStatus"/>
        </apex:pageBlockButtons> 

        <apex:pageBlockSection columns="1" title="{!$Label.EUR_CRM_Targets}" collapsible="true">
            <apex:outputPanel >
                <table class="deltaillist list" style="border:0 !important; border-spacing:0 !important"> 
                <thead class="rich-table-thead">
                    <tr class="headerRow"  >
                        <!--1:Header Row-->
                        <th class="headerRow"> </th>
                        <!--2:Target Name-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.Name.Label}</th>                         
                        <!--3:EUR_CRM_Article_no__c-->
                        <th>{!$ObjectType.EUR_CRM_SKU__c.fields.EUR_CRM_Article_no__c.Label}</th>
                        <!--4:EUR_CRM_SKU__c-->
                        <th>{!$ObjectType.EUR_CRM_SKU__c.fields.Name.Label}</th>
                        <!--5:EUR_CRM_BQS__c.Name-->
                        <apex:outputPanel layout="none" rendered="{!isWSObjectiveCampaign}">
                            <th>{!$ObjectType.EUR_CRM_Size__c.fields.Name.Label}</th>
                        </apex:outputPanel>
                        <!--6:Target Level-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Target_Level__c.Label} </th>
                        <!--7:Assignee-->
                        <th>{!$Label.EUR_CRM_Assignee}</th>
                        <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDriveBottles}">
                            <th>
                        <!--8:EUR_CRM_Unit_Type__c-->
                                <apex:outputText value="SKU {!$ObjectType.EUR_CRM_SKU__c.fields.EUR_CRM_Unit_Type__c.Label}" rendered="{!isSalesDriveDisplays}"/>
                        <!--9:EUR_CRM_Unit_of_Measure__c-->
                                <apex:outputText value="{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Unit_of_Measure__c.Label}" rendered="{!isSalesDriveBottles}"/> 
                            </th>
                            <th>
                        <!--10:EUR_CRM_Number_of_Bottles__c-->
                                <apex:outputText value="SKU {!$ObjectType.EUR_CRM_SKU__c.fields.EUR_CRM_Number_of_Bottles__c.Label}" rendered="{!isSalesDriveDisplays}"/>
                        <!--11:EUR_CRM_Grouping_Type__c-->
                                <apex:outputText value="{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Grouping_Type__c.Label}" rendered="{!isSalesDriveBottles}"/>                             
                            </th>
                        </apex:outputPanel>
                        <!--11:EUR_CRM_Qty_Sell_in_Amount_Bottle__c-->
                        <th>{!$Label.EUR_CRM_Target_Quantity}<br/></th>
                        <!--12:EUR_CRM_Actual_Volume_Bottles__c-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Actual_Volume_Bottles__c.Label}</th>
                        <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDrive}">
                        <!--14:EUR_CRM_Qty_Sell_in_Amount_Display__c-->
                            <th>{!$Label.EUR_CRM_Target_Display}<br/>({!$Label.EUR_CRM_Displays})</th>
                        <!--15:EUR_CRM_Actual_Volume_Displays__c-->
                            <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Actual_Volume_Displays__c.Label}</th>
                        </apex:outputPanel>
                        <apex:outputPanel layout="none" rendered="{!isSalesDrive}">
                        <!--16:EUR_CRM_Qty_Sell_in_Amount_Carton__c-->
                            <th>{!$Label.EUR_CRM_Target_Quantity}<br/>(Carton)</th>
                        <!--17:EUR_CRM_Actual_Volume_Cartons__c-->
                            <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Actual_Volume_Cartons__c.Label}</th>
                        </apex:outputPanel>
                        <!--18:EUR_CRM_Distance_to_Goal__c-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Distance_to_Goal__c.Label} <br/></th>
                        <!--19:EUR_CRM_Customer_Reported_Ordered_Qty__c-->
                        <th>Customer Reported <br/> Ordered Quantity</th>
                        <!--20:EUR_CRM_Percentage_Achieved__c-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Percentage_Achieved__c.Label}</th>
                        <!--21:EUR_CRM_Achieved__c-->
                        <th>{!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Achieved__c.Label}</th>
                    </tr>
                </thead>
                <tbody>
                    <apex:repeat value="{!targetWraps}" var="targetWrap">        
                        <tr class="objectiveRow" >
                            <!--1:Header Row-->
                            <td> 
                                <div class="{!if(targetWrap.hasChild,'','hide')}"  onClick="showHide(this)" style="width:30px; height:30px;">
                                    <img src="/s.gif" class="showListButton" id="{!targetWrap.target.name}"  style="width:20px;height:20px;background-image:url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty.gif')})" />
                                </div>
                            </td>
                            <!--2:Target Name-->
                            <td><apex:outputLink value="/{!targetWrap.target.id}"><apex:outputField value="{!targetWrap.target.name}"/></apex:outputLink></td>
                            <!--3:EUR_CRM_Article_no__c-->
                            <td><apex:outputField value="{!targetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Article_no__c}"/></td>
                            <!--4:EUR_CRM_SKU__c-->
                            <td><apex:outputField value="{!targetWrap.target.EUR_CRM_SKU__c}"/></td>
                            <!--5:EUR_CRM_BQS__c.Name-->
                            <apex:outputPanel layout="none" rendered="{!isWSObjectiveCampaign}">
                                <td><apex:outputField value="{!targetWrap.target.EUR_CRM_BQS__c}" /></td>
                            </apex:outputPanel>
                            <!--6:Target Level-->
                            <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Target_Level__c}"/></td>
                            <!--7:Assignee-->
                            <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Target_Owner__c}" /></td>
                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDriveBottles}">
                                <td>
                            <!--8:EUR_CRM_Unit_Type__c-->
                                    <apex:outputField value="{!targetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Unit_Type__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--9:EUR_CRM_Unit_of_Measure__c-->
                                    <apex:outputField value="{!targetWrap.target.EUR_CRM_Unit_of_Measure__c}" rendered="{!isSalesDriveBottles}"/> 
                                </td> 
                                <td>
                            <!--10:EUR_CRM_Grouping_Type__c-->
                                    <apex:outputField value="{!targetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Number_of_Bottles__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--11:EUR_CRM_Number_of_Bottles__c-->
                                    <apex:outputField value="{!targetWrap.target.EUR_CRM_Grouping_Type__c}"  rendered="{!isSalesDriveBottles}"/> 
                                    
                                </td>
                            </apex:outputPanel>
                            <!--12:EUR_CRM_Qty_Sell_in_Amount_Bottle__c-->
                            <td style="text-align: right;"><apex:outputField value="{!targetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/></td>
                            <!--13:EUR_CRM_Actual_Volume_Bottles__c-->
                            <td style="text-align: right;"><apex:outputField value="{!targetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /></td>

                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDrive}">
                            <!--14:EUR_CRM_Qty_Sell_in_Amount_Display__c-->
                                <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Display__c}"/></td>
                            <!--15:EUR_CRM_Actual_Volume_Displays__c-->
                                <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Actual_Volume_Displays__c}"/></td>
                            </apex:outputPanel>
                            <apex:outputPanel layout="none" rendered="{!isSalesDrive}">
                            <!--16:EUR_CRM_Qty_Sell_in_Amount_Carton__c-->
                                <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Carton__c}"/></td>
                            <!--17:EUR_CRM_Actual_Volume_Cartons__c-->
                                <td><apex:outputField value="{!targetWrap.target.EUR_CRM_Actual_Volume_Cartons__c}"/></td>
                            </apex:outputPanel>
                            <!--18:EUR_CRM_Distance_to_Goal__c-->
                            <td style="text-align: right;"><apex:outputField value="{!targetWrap.target.EUR_CRM_Distance_to_Goal__c}" /></td>
                            <!--19:EUR_CRM_Customer_Reported_Ordered_Qty__c-->
                            <td style="text-align: right;">
                                <apex:outputField value="{!targetWrap.target.EUR_CRM_Customer_Reported_Ordered_Qty__c}" rendered="{!!isEditTarget || isRegional}">                    
                                    <apex:inlineEditSupport event="ondblclick" resetFunction="resetInlineEdit" rendered="{!!isDraft && (isEditAll || isKAA)}"/>      
                                </apex:outputField> 
                                <apex:inputField value="{!targetWrap.target.EUR_CRM_Customer_Reported_Ordered_Qty__c}" rendered="{!isEditTarget && (isEditAll || isKAA)}"/>
                            </td>
                            <!--20:EUR_CRM_Percentage_Achieved__c-->
                            <td style="text-align: center;"><apex:outputField value="{!targetWrap.target.EUR_CRM_Percentage_Achieved__c}"/></td>
                            <!--21:EUR_CRM_Achieved__c-->
                            <td style="text-align: center;"><apex:outputField value="{!targetWrap.target.EUR_CRM_Achieved__c}"/></td>
                        </tr>

                <!--Sub Target / Regional Target-->
                    <apex:repeat value="{!targetWrap.subTargets}" var="regionalTargetWrap">        
                        <tr class="{!targetWrap.target.name}" style="background: #e5f0a8; display:none">

                            <!--1:Header Row-->
                            <td> 
                                <div class="{!if(regionalTargetWrap.hasChild,'','hide')}"  onClick="showHide(this)" style="width:30px; height:30px;">
                                <img src="/s.gif" class="showListButton" id="{!regionalTargetWrap.target.name}"  style="width:20px; height:20px; background-image:url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty.gif')})" />
                                </div>
                            </td>
                            <!--2:Target Name-->
                            <td><apex:outputLink value="/{!regionalTargetWrap.target.id}"> <apex:outputField value="{!regionalTargetWrap.target.name}"/> </apex:outputLink></td>
                            <!--3:EUR_CRM_Article_no__c-->
                            <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Article_no__c}"/></td>
                            <!--4:EUR_CRM_SKU__c-->
                            <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_SKU__c}"/></td>
                            <apex:outputPanel layout="none" rendered="{!isWSObjectiveCampaign}">
                            <!--5:EUR_CRM_BQS__c.Name-->
                                <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_BQS__c}"  /></td>
                            </apex:outputPanel>
                            <!--6:Target Level-->
                            <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Target_Level__c}"/></td>
                            <!--7:Assignee-->
                            <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Target_Owner__c}" /> </td>
                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDriveBottles}">
                                <td>
                            <!--8:EUR_CRM_Unit_Type__c-->
                                    <apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Unit_Type__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--9:EUR_CRM_Unit_of_Measure__c-->
                                    <apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Unit_of_Measure__c}" rendered="{!isSalesDriveBottles}"/> 
                                </td> 
                                <td>
                            <!--10:EUR_CRM_Grouping_Type__c-->
                                    <apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Number_of_Bottles__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--11:EUR_CRM_Number_of_Bottles__c-->
                                    <apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Grouping_Type__c}"  rendered="{!isSalesDriveBottles}"/>  
                                </td>
                            </apex:outputPanel>

                            <!--12:EUR_CRM_Qty_Sell_in_Amount_Bottle__c-->
                            <td style="text-align: right;"><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/></td>
                            <!--13:EUR_CRM_Actual_Volume_Bottles__c-->
                            <td style="text-align: right;"><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /></td>

                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDrive}">
                            <!--14:EUR_CRM_Qty_Sell_in_Amount_Display__c-->
                                <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Display__c}"/></td>
                            <!--15:EUR_CRM_Actual_Volume_Displays__c-->
                                <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Actual_Volume_Displays__c}"/></td>
                            </apex:outputPanel>
                            <apex:outputPanel layout="none" rendered="{!isSalesDrive}">
                            <!--16:EUR_CRM_Qty_Sell_in_Amount_Carton__c-->
                                <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Carton__c}"/></td>
                            <!--17:EUR_CRM_Actual_Volume_Cartons__c-->
                                <td><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Actual_Volume_Cartons__c}"/></td>
                            </apex:outputPanel>



                            <!--18:EUR_CRM_Distance_to_Goal__c-->
                            <td style="text-align:right"><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Distance_to_Goal__c}" /> </td>
                            <!--19:EUR_CRM_Customer_Reported_Ordered_Qty__c-->
                            <td style="text-align:right">&nbsp;</td>
                            <!--20:EUR_CRM_Percentage_Achieved__c-->
                            <td style="text-align:center"><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Percentage_Achieved__c}"/></td>
                            <!--21:EUR_CRM_Achieved__c-->
                            <td style="text-align:center"><apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Achieved__c}"/></td>
                        </tr>
                    <!--SR Target-->
                        <apex:repeat value="{!regionalTargetWrap.subTargets}" var="srTargetWrap">        
                            <tr class="{!targetWrap.target.name} {!regionalTargetWrap.target.name}" style="display:none">

                            <!--1:Header Row-->
                                <td>&nbsp;</td>
                            <!--2:Target Name-->
                                <td><apex:outputLink value="/{!srTargetWrap.target.id}"><apex:outputField value="{!srTargetWrap.target.name}"/></apex:outputLink></td>
                            <!--3:EUR_CRM_Article_no__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Article_no__c}"/></td>
                            <!--4:EUR_CRM_SKU__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__c}"/></td>
                                <apex:outputPanel layout="none" rendered="{!isWSObjectiveCampaign}">
                            <!--5:EUR_CRM_BQS__c.Name-->
                                    <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_BQS__c}"/></td>
                                </apex:outputPanel>
                            <!--6:Target Level-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Target_Level__c}"/></td>
                            <!--7:Assignee-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Target_Owner__c}" /></td>
                                
<!--
                                <td>
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_Unit_of_Measure__c}" rendered="{!isSalesDriveBottles}"/> 
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Unit_Type__c}" rendered="{!isSalesDriveDisplays}"/>
                                </td> 
                                <td>
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_Grouping_Type__c}"  rendered="{!isSalesDriveBottles}"/> 
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Number_of_Bottles__c}" rendered="{!isSalesDriveDisplays}"/>
                                </td>
                                <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays}">
                                    <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Display__c}" /></td>
                                </apex:outputPanel>
                                <td style="text-align: right;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/></td>
                                <td style="text-align: right;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /> </td>
                                -->
                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDriveBottles}">
                                <td>
                            <!--8:EUR_CRM_Unit_Type__c-->
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Unit_Type__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--9:EUR_CRM_Unit_of_Measure__c-->
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_Unit_of_Measure__c}" rendered="{!isSalesDriveBottles}"/> 
                                </td> 
                                <td>
                            <!--10:EUR_CRM_Grouping_Type__c-->
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_SKU__r.EUR_CRM_Number_of_Bottles__c}" rendered="{!isSalesDriveDisplays}"/> 
                            <!--11:EUR_CRM_Number_of_Bottles__c-->
                                    <apex:outputField value="{!srTargetWrap.target.EUR_CRM_Grouping_Type__c}"  rendered="{!isSalesDriveBottles}"/>  
                                </td>
                            </apex:outputPanel>

                            <!--12:EUR_CRM_Qty_Sell_in_Amount_Bottle__c-->
                            <td style="text-align: right;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/></td>
                            <!--13:EUR_CRM_Actual_Volume_Bottles__c-->
                            <td style="text-align: right;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /></td>

                            <apex:outputPanel layout="none" rendered="{!isSalesDriveDisplays||isSalesDrive}">
                            <!--14:EUR_CRM_Qty_Sell_in_Amount_Display__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Display__c}"/></td>
                            <!--15:EUR_CRM_Actual_Volume_Displays__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Actual_Volume_Displays__c}"/></td>
                            </apex:outputPanel>
                            <apex:outputPanel layout="none" rendered="{!isSalesDrive}">
                            <!--16:EUR_CRM_Qty_Sell_in_Amount_Carton__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Carton__c}"/></td>
                            <!--17:EUR_CRM_Actual_Volume_Cartons__c-->
                                <td><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Actual_Volume_Cartons__c}"/></td>
                            </apex:outputPanel>


                            <!--18:EUR_CRM_Distance_to_Goal__c-->
                                <td style="text-align: right;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Distance_to_Goal__c}" /> </td>
                            <!--19:EUR_CRM_Customer_Reported_Ordered_Qty__c-->
                                <td style="text-align: right;">&nbsp; </td>
                            <!--20:EUR_CRM_Percentage_Achieved__c-->
                                <td style="text-align: center;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Percentage_Achieved__c}"/></td>
                            <!--21:EUR_CRM_Achieved__c-->
                                <td style="text-align: center;"><apex:outputField value="{!srTargetWrap.target.EUR_CRM_Achieved__c}"/>
                                </td>
                            </tr>
                        </apex:repeat>
                    </apex:repeat>
                </apex:repeat>
                </tbody>
                </table>
            </apex:outputPanel>
        </apex:pageBlockSection> 
    </apex:pageBlock>
</apex:form>
<!-- ############################### End of  SALES DRIVE ###################################################-->

<!-- ############################### SECONDARY PLACEMENT #### ##############################################-->

<apex:pageBlock title="{!$Label.EUR_CRM_Secondary_Placement_Targets}" rendered="{!isSecondary}">
<apex:pageBlockSection columns="1" title="{!$Label.EUR_CRM_Targets}" collapsible="true">
<apex:outputPanel >
<table class="deltaillist list" style="border:0 !important; border-spacing:0 !important"> 
<thead  class="rich-table-thead">

 <tr  class="headerRow ">
                     <td > <!--
                         <apex:image url="{!URLFOR($Resource.eur_crm_twisties,
                          'eur_crm_twisties/twisty.gif')}" width="18" height="28"/>
                      -->
                  </td>
                  <td>
                   {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.Name.Label}
               </td>                         
               <td>
                {!$ObjectType.EUR_CRM_Size__c.fields.name.Label} 
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Comments__c.Label}
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Target_Level__c.Label} 
            </td>
            <td>
                {!$Label.EUR_CRM_Assignee}
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Qty_Sell_in_Amount_Bottle__c.Label} 
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Actual_Volume_Bottles__c.Label}
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Distance_to_Goal__c.Label}
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Percentage_Achieved__c.Label}
            </td>
            <td>
                {!$ObjectType.EUR_CRM_ObjPromo_Target__c.fields.EUR_CRM_Achieved__c.Label}
            </td>
        </tr>
    </thead>
    <tbody>
     <apex:repeat value="{!targetWraps}" var="targetWrap">        

     <tr class="objectiveRow" >
         <td > 
             <div class="{!if(targetWrap.hasChild,'','hide')}"  onClick="showHide(this)" style="width:30px; height:30px;">

                 <img src="/s.gif" class="showListButton" id="{!targetWrap.target.name}"  style="width:20px;height:20px;background-image:url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty.gif')})" />
             </div>
         </td>
         <td>
             <apex:outputLink value="/{!targetWrap.target.id}">
             <apex:outputField value="{!targetWrap.target.name}"/>
         </apex:outputLink>
     </td>
     <td> 
      <apex:outputField value="{!targetWrap.target.EUR_CRM_BQS__c}"/>
  </td>
  <td>
   <apex:outputField value="{!targetWrap.target.EUR_CRM_Comments__c}" /> 
</td>
<td>
<apex:outputField value="{!targetWrap.target.EUR_CRM_Target_Level__c}"/>
</td>
<td>
<!-- <apex:outputField value="{!EUR_CRM_ObjPromo__c.EUR_CRM_Customer_Taxonomy__c}" rendered="{!IF(targetWrap.target.EUR_CRM_Target_Level__c == 'Objective', false, false)}"/> -->
<apex:outputField value="{!targetWrap.target.EUR_CRM_Target_Owner__c}" /> 
</td>
<td style="text-align: right; " >
<apex:outputField value="{!targetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/>
</td>
<td style="text-align: right;"  >
<apex:outputField value="{!targetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /> 
</td> 
<td style="text-align: right;"  >
<apex:outputField value="{!targetWrap.target.EUR_CRM_Distance_to_Goal__c}" /> 
</td> 
<td style="text-align: center; " >
<apex:outputField value="{!targetWrap.target.EUR_CRM_Percentage_Achieved__c}"/>
</td>
<td style="text-align: center;  ">
<apex:outputField value="{!targetWrap.target.EUR_CRM_Achieved__c}"/>
</td>
</tr>
<apex:repeat value="{!targetWrap.subTargets}" var="regionalTargetWrap">        
<tr class="{!targetWrap.target.name}" style="background: #e5f0a8; display:none">
<td> 
 <div class="{!if(regionalTargetWrap.hasChild,'','hide')}"  onClick="showHide(this)" style="width:30px; height:30px;">
     <img src="/s.gif" class="showListButton" id="{!regionalTargetWrap.target.name}"  style="width:20px; height:20px; background-image:url({!URLFOR($Resource.EUR_CRM_Twisties,'eur_crm_twisties/twisty.gif')})" />
 </div>
</td>
<td>
 <apex:outputLink value="/{!regionalTargetWrap.target.id}">
 <apex:outputField value="{!regionalTargetWrap.target.name}"/>
</apex:outputLink>
</td>
<td>
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_BQS__c}"/>                               
</td>
<td>
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Comments__c}" /> 
</td>
<td>
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Target_Level__c}"/>
</td>
<td>
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Target_Owner__c}" /> 
</td>
<td style="text-align: right; ">
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}" />
</td>
<td style="text-align:right">
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /> 
</td> 
<td style="text-align:right">
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Distance_to_Goal__c}" /> 
</td> 
<td style="text-align:center">
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Percentage_Achieved__c}"/>
</td>
<td style="text-align:center">
<apex:outputField value="{!regionalTargetWrap.target.EUR_CRM_Achieved__c}"/>
</td>
</tr>
<apex:repeat value="{!regionalTargetWrap.subTargets}" var="srTargetWrap">        
<tr class="{!targetWrap.target.name} {!regionalTargetWrap.target.name}" style="display:none">

<td> 

</td>
<td>
 <apex:outputLink value="/{!srTargetWrap.target.id}">
 <apex:outputField value="{!srTargetWrap.target.name}"/>
</apex:outputLink>
</td>
<td>                                        
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_BQS__c}"/>
</td>
<td>
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Comments__c}" /> 
</td>
<td>
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Target_Level__c}"/>
</td>
<td>
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Target_Owner__c}" /> 
</td>
<td style="text-align: right;  ">
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Qty_Sell_in_Amount_Bottle__c}"/>
</td>
<td style="text-align: right;  ">
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Actual_Volume_Bottles__c}" /> 
</td>
<td style="text-align: right;  ">
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Distance_to_Goal__c}" /> 
</td> 
<td style="text-align: center; " >
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Percentage_Achieved__c}"/>
</td>
<td style="text-align: center; " >
<apex:outputField value="{!srTargetWrap.target.EUR_CRM_Achieved__c}"/>
</td>
</tr>
</apex:repeat>
</apex:repeat>
</apex:repeat>
</tbody>
</table>
</apex:outputPanel> 
</apex:pageBlockSection>
</apex:pageBlock>  
<!-- ############################### END of SECONDARY PLACEMENT ##################################################-->








<apex:relatedList list="EUR_CRM_Visit_Actions__r" rendered="{!!isTradeFair}"/>
<!-- 
    aug.7.2014 commented out
<apex:relatedList list="O_P_Achievements__r" rendered="{!!( isPROSSegment  || isLeafletCampaign || isDistDrive)}"/>
-->
<apex:relatedList list="EUR_CRM_O_P_Account_Mappings__r"/> 
<div class='TaxonomyTable'>
<apex:relatedList list="EUR_CRM_O_P_Customer_Taxonomy_Mappings__r" rendered="{!!isPROSSegment}"/> 
</div>
</apex:page>