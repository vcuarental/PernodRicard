<apex:page renderAs="PDF" standardController="EUR_CRM_Contract__c" extensions="EUR_CRM_ContractPDFController" applyhtmltag="false" showHeader="false">
<head>
<apex:stylesheet value="{!URLFOR($Resource.EUR_CRM_GB_ContractPDF_Resource, 'EUR_CRM_GB_ContractPDF.css')}"/>
<style type="text/css" media="print">
    .avoidInsideBreak{page-break-inside:avoid;}
</style>
</head>

<apex:variable var="contractHeader" value="{!contractWrapperObj.header.contractObj}"/>
<apex:variable var="housePouring" value="{!contractWrapperObj.housePouring}"/>
<apex:variable var="premiumPouring" value="{!contractWrapperObj.premiumPouring}"/>
<apex:variable var="mustStock" value="{!contractWrapperObj.mustStock}"/>
<apex:variable var="mayStock" value="{!contractWrapperObj.mayStock}"/>
<apex:variable var="champagne" value="{!contractWrapperObj.champagneMechanic}"/>
<apex:variable var="marketingAllowance" value="{!contractWrapperObj.marketingAllowance}"/>
<apex:variable var="retro" value="{!contractWrapperObj.retroMechanic}"/>
<apex:variable var="stockDeal" value="{!contractWrapperObj.stockDeal}"/>
<apex:variable var="stockAllowance" value="{!contractWrapperObj.stockAllowance}"/>
<apex:variable var="pos" value="{!contractWrapperObj.posMechanic}"/>
<apex:variable var="education" value="{!contractWrapperObj.educationMechanic}"/>
<apex:variable var="trips" value="{!contractWrapperObj.trainingMechanic}"/>

<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Contract_Approved_Date__c),true,false)}" layout="block">
<img src="{!URLFOR($Resource.EUR_CRM_GB_ContractPDF_Resource, 'Quote_Draft_Watermark.png')}" width="100%" height="100%" 
     style="position: fixed;background-repeat:repeat;left: 0cm; top:0cm; z-index:0"/>
</apex:outputPanel>

<div class="topCenter" style="margin-top:5mm; text-align:center">
    <apex:image id="topLogo" url="{!URLFOR($Resource.EUR_CRM_GB_ContractPDF_Resource, 'PR_Logo_Top.png')}"/>
</div>

<div class="bottomCenter" style="margin-bottom:5mm">
    <p>Building 12 Chiswick Park 566 Chiswick High Road London W4 5AN
    <br/>Tel:+44(0)20 8538 4484 - Fax:+44(0)20 8535 4004 - Web:www.pernod-ricard.com
    <br/>Registered in England no.1870414
    </p>
</div>

<div class="rightCenter" height="80%">
   <apex:image id="sideLogo" url="{!URLFOR($Resource.EUR_CRM_GB_ContractPDF_Resource, 'PR_Logo_Side_v3.png')}"/>
</div>

<div id="panel_Contract_Letter" style="page-break-after:always;">
<p class="capitalizeText">
{!contractHeader.EUR_CRM_Account__r.Name} <br/>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Contact__r.Name), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Contact__r.Name}, <br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Contact__r.EUR_CRM_Position_of_Contact__c), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Contact__r.EUR_CRM_Position_of_Contact__c}<br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Account__r.EUR_CRM_Street__c), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Account__r.EUR_CRM_Street__c}<br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Account__r.EUR_CRM_City__c), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Account__r.EUR_CRM_City__c}, {!contractHeader.EUR_CRM_Account__r.EUR_CRM_County__c}<br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Account__r.EUR_CRM_Country__c), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Account__r.EUR_CRM_Country__c}<br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.EUR_CRM_Account__r.EUR_CRM_Postal_Code__c), false, true)}" styleClass="capitalizeText">{!contractHeader.EUR_CRM_Account__r.EUR_CRM_Postal_Code__c}<br/></apex:outputPanel>
</p>
<br/>
<p>
<apex:outputText value="{!dateFormat}" escape="false"/>
</p>
<br/>
<p class="capitalizeText">
Dear {!contractHeader.EUR_CRM_Contact__r.Salutation} {!contractHeader.EUR_CRM_Contact__r.FirstName} {!contractHeader.EUR_CRM_Contact__r.LastName},
</p>
<p>
Further to our recent discussions, I have pleasure in confirming the following agreement between {!contractHeader.EUR_CRM_Account__r.Name} and Pernod Ricard UK. If you have any questions please don’t hesitate to contact me. 
I look forward to hearing from you.
</p>
<br/>
<br/>
<p>
Yours sincerely, <br/>
{!contractHeader.CreatedBy.Name} <br/>
{!contractHeader.CreatedBy.Title}<br/>
Pernod Ricard UK
</p>
<p>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.CreatedBy.MobilePhone), false, true)}">T - {!contractHeader.CreatedBy.MobilePhone}<br/></apex:outputPanel>
<apex:outputPanel rendered="{!IF(ISBLANK(contractHeader.CreatedBy.Email), false, true)}">E - {!contractHeader.CreatedBy.Email}</apex:outputPanel>
</p>
</div>

<div id="panel_Contract_Details" style="page-break-after:always;">
    <!--<apex:outputPanel id="panel_detail_HousePouring" layout="block" rendered="{!IF(housePouring.isAvailable, true, false)}">-->
        <div id="panel_detail_HousePouring_Header">
        <h2 class="centeredText">House Pouring Agreement for {!contractHeader.EUR_CRM_Account__r.Name}</h2>
        <p>
            The following agreement is the final agreement and supersedes any previous arrangements, written or otherwise.
        </p>
        </div>
        
        <apex:outputPanel id="panel_detail_HousePouring_Spirits" layout="block" rendered="{!IF(housePouring.isAvailable, true, false)}">
        <h2>House Pouring Spirits:</h2>
            <p>
                The below products must be listed as sole speed rail brands in their respective categories within each bar and outlet(s). 
            </p>
            <apex:outputPanel styleclass="span_text_Cocktail" layout="block">
                <p>
                    <apex:outputText rendered="{!IF(AND(contractHeader.EUR_CRM_Cocktail_Percent__c!=null && contractHeader.EUR_CRM_Cocktail_Percent__c>0), true, false)}">House pouring brands must feature as the most prominent brands on the back bar and cocktail list within each product sector and are to be represented by name on {!contractHeader.EUR_CRM_Cocktail_Percent__c}%  of the category cocktails on all cocktail lists and menus.</apex:outputText>
                    <apex:outputText rendered="{!IF(AND(contractHeader.EUR_CRM_Cocktail_Percent__c!=null && contractHeader.EUR_CRM_Cocktail_Percent__c>0), false, true)}">House pouring brands must feature as the most prominent brands on the back bar and cocktail list within each product sector.</apex:outputText>
                </p>
            </apex:outputPanel>
            
            <div id="panel_detail_HousePouring_Spirit_BQList">
                <apex:repeat var="housePouringItem" value="{!housePouring.bqList}">
                    <p>
                        <span class="span_text_title">{!housePouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</span> is to be stocked as <span class="boldText">“{!housePouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Mechanic_Name__c}"</span> in all bars and outlets. 
                        <apex:outputPanel styleclass="span_text_Cocktail" rendered="{!IF(AND(housePouringItem.hasCocktail=true, housePouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c!=null, housePouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>0), true, false)}">
                            {!housePouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in a minimum of &nbsp;
                            <apex:outputText value="{0, number,###,###,##0}">
                                <apex:param value="{!housePouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c}"/>
                            </apex:outputText> cocktail<apex:outputText value="s" rendered="{!IF(housePouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>1, true, false)}"/>.
                        </apex:outputPanel>
                        <apex:outputPanel Styleclass="span_text_Cocktail" rendered="{!housePouringItem.hasCocktail}"> 
                            <apex:repeat value="{!housePouringItem.cocktailNames}" var="cocktailName">
                            {!housePouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in {!cocktailName} cocktail on all cocktail / drinks lists.
                            </apex:repeat>
                        </apex:outputPanel> 
                        <apex:outputPanel rendered="{!IF(AND(housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c!=null, housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c>0), true, false)}">
                            <span class="boldText">Minimum {!housePouringItem.contractLineItemObj.EUR_CRM_Category_Name__c} purchases of
                            &nbsp;
                            <apex:outputText value="{0, number,###,###,##0}" rendered="{!IF(MOD(housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) == 0, true, false)}">
                                <apex:param value="{!housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                            </apex:outputText>
                            <apex:outputText value="{0, number,###,###,##0.0}" rendered="{!IF(MOD(housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) != 0, true, false)}">
                                <apex:param value="{!housePouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                            </apex:outputText>
                            
                            x 9 Litre cases per annum.</span>
                        </apex:outputPanel>
                    </p>
                </apex:repeat>
            </div>
           
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_detail_HousePouring_Premium" layout="block" rendered="{!IF(premiumPouring.isAvailable, true, false)}" styleClass="avoidInsideBreak">
        <h2>Premium House Pouring Spirits:</h2>
            <apex:outputPanel styleclass="span_text_Cocktail" layout="block" rendered="{!IF(housePouring.isAvailable, false, true)}">
                <p>
                    House Premium pouring brands must feature as the most prominent brands on the back bar and cocktail list within each product sector and are to be represented by name on {!contractHeader.EUR_CRM_Cocktail_Percent__c}% of the category cocktails on all cocktail lists and menus. House Premium Brands should be offered as an upsell where possible.
                </p>
            </apex:outputPanel>
        
            <div id="panel_detail_HousePouring_Premium_BQList">
                <apex:repeat var="premiumPouringItem" value="{!premiumPouring.bqList}">
                    <p>
                        <span class="span_text_title">{!premiumPouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</span> is to be stocked as <span class="boldText">“{!premiumPouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Mechanic_Name__c}"</span> in all bars and outlets. 
                        <apex:outputPanel styleclass="span_text_Cocktail" rendered="{!IF(AND(premiumPouringItem.hasCocktail=true, premiumPouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c!=null, premiumPouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>0), true, false)}">
                            {!premiumPouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in a minimum of &nbsp;
                            <apex:outputText value="{0, number,###,###,##0}">
                                <apex:param value="{!premiumPouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c}"/>
                            </apex:outputText> cocktail<apex:outputText value="s" rendered="{!IF(premiumPouringItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>1, true, false)}"/>.
                        </apex:outputPanel>
                        <apex:outputPanel Styleclass="span_text_Cocktail" rendered="{!premiumPouringItem.hasCocktail}"> 
                            <apex:repeat value="{!premiumPouringItem.cocktailNames}" var="cocktailName">
                            {!premiumPouringItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in {!cocktailName} cocktail on all cocktail / drinks lists.
                            </apex:repeat>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!IF(AND(premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c!=null, premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c>0), true, false)}">
                            <span class="boldText">Minimum {!premiumPouringItem.contractLineItemObj.EUR_CRM_Category_Name__c} purchases of
                            &nbsp;
                            <apex:outputText value="{0, number,###,###,##0}" rendered="{!IF(MOD(premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) == 0, true, false)}">
                                <apex:param value="{!premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                            </apex:outputText>
                            <apex:outputText value="{0, number,###,###,##0.0}" rendered="{!IF(MOD(premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) != 0, true, false)}">
                                <apex:param value="{!premiumPouringItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                            </apex:outputText>
                            x 9 Litre Cases per annum.</span>
                        </apex:outputPanel>
                    </p>
                </apex:repeat>
            </div>
        </apex:outputPanel>
        
        <!--<apex:outputPanel id="panel_detail_HousePouring_MustStock" layout="block" rendered="{!IF(mustStock.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Must Stock Back Bar Brands:</h2>
            <apex:outputPanel id="panel_HousePouring_MustStock">
                <p>
                    In this Agreement, “Must Stock” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>
            <apex:outputPanel id="panel_HousePouring_MustStock_BQList">
                <apex:variable value="{!1}" var="ctrMust"/>
                <apex:variable value="{!0}" var="must1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(mustStock.bqList.size, 2) == 0, mustStock.bqList.size / 2, (mustStock.bqList.size / 2) + 1))}" var="must2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;">
                    <tr>
                        <apex:repeat var="mustStockItem" value="{!mustStock.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMust, 2) != 0, true, false)}">
                                    <apex:outputText value="{!mustStock.bqList[must1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="must1stColStart" value="{!must1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMust, 2) == 0, true, false)}">
                                    <apex:outputText value="{!mustStock.bqList[must2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="must2ndColStart" value="{!must2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMust, 2) == 0), (ctrMust < mustStock.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMust" value="{!ctrMust + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_detail_HousePouring_MayStock" layout="block" rendered="{!IF(mayStock.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>May Stock Back Bar Brands:</h2>
            <apex:outputPanel id="panel_HousePouring_MayStock">
                <p>
                    In this Agreement, “May Stock” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>
            
            <apex:outputPanel id="panel_HousePouring_MayStock_BQList">
                <apex:variable value="{!1}" var="ctrMay"/>
                <apex:variable value="{!0}" var="may1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(mayStock.bqList.size, 2) == 0, mayStock.bqList.size / 2, (mayStock.bqList.size / 2) + 1))}" var="may2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;">
                    <tr>
                        <apex:repeat var="mayStockItem" value="{!mayStock.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) != 0, true, false)}">
                                    <apex:outputText value="{!mayStock.bqList[may1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may1stColStart" value="{!may1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) == 0, true, false)}">
                                    <apex:outputText value="{!mayStock.bqList[may2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may2ndColStart" value="{!may2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMay, 2) == 0), (ctrMay < mayStock.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMay" value="{!ctrMay + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:outputPanel>-->
        
        <apex:outputPanel id="panel_detail_HousePouring_Champagne" layout="block" rendered="{!IF(champagne.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Champagne:</h2>
            <p>
                House pouring Champagnes to be made available by the bottle, by the glass (as detailed below) and mentioned by name on all menus/ drinks lists throughout the course of the agreement. House Pouring Champagnes to be prominently displayed in outlet.
            </p>
            
            <div id="panel_detail_HousePouring_Champagne_BQList">
                <apex:repeat var="champagneItem" value="{!champagne.bqList}">
                <p>
                    <span class="span_text_title">{!champagneItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</span> is to be stocked as <span class="boldText">“{!champagneItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Mechanic_Name__c}”<span class="boldText" style="{!IF(champagneItem.contractLineItemObj.EUR_CRM_Available_by_the_Glass__c,'display:none;','')}">.</span></span> 
                    
                    <apex:outputPanel rendered="{!champagneItem.contractLineItemObj.EUR_CRM_Available_by_the_Glass__c}">
                        <span class="boldText">
                            and to be made available by the glass.
                        </span>
                    </apex:outputPanel>
                    <apex:outputPanel styleclass="span_text_Cocktail" rendered="{!IF(AND(champagneItem.hasCocktail=true, champagneItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c!=null, champagneItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>0), true, false)}">
                        {!champagneItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in a minimum of &nbsp;
                        <apex:outputText value="{0, number,###,###,##0}">
                            <apex:param value="{!champagneItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c}"/>
                        </apex:outputText> cocktail<apex:outputText value="s" rendered="{!IF(champagneItem.cocktailLineItemObj.EUR_CRM_No_of_Cocktails__c>1, true, false)}"/>.
                    </apex:outputPanel>
                    <apex:outputPanel Styleclass="span_text_Cocktail" rendered="{!champagneItem.hasCocktail}"> 
                        <apex:repeat value="{!champagneItem.cocktailNames}" var="cocktailName">
                        {!champagneItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} to feature in {!cocktailName} cocktail on all cocktail / drinks lists.
                        </apex:repeat>
                    </apex:outputPanel> 
                    <apex:outputPanel rendered="{!IF(AND(champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c!=null, champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c>0), true, false)}">
                        <span class="boldText">Minimum {!champagneItem.contractLineItemObj.EUR_CRM_Category_Name__c} purchases of
                        &nbsp;
                        <apex:outputText value="{0, number,###,###,##0}" rendered="{!IF(MOD(champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) == 0, true, false)}">
                            <apex:param value="{!champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                        </apex:outputText>
                        <apex:outputText value="{0, number,###,###,##0.0}" rendered="{!IF(MOD(champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c,1) != 0, true, false)}">
                            <apex:param value="{!champagneItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}"/>
                        </apex:outputText>
                        x 9 Litre Cases per annum.</span>
                    </apex:outputPanel>
                </p>
                </apex:repeat>
            </div>
        </apex:outputPanel>
    <!--</apex:outputPanel>-->

    <apex:outputPanel id="panel_detail_HousePouring_MustStock" layout="block" rendered="{!IF(mustStock.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Must Stock Back Bar Brands:</h2>
            <apex:outputPanel id="panel_HousePouring_MustStock">
                <p>
                    In this Agreement, “Must Stock” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>
            <apex:outputPanel id="panel_HousePouring_MustStock_BQList">
                <apex:variable value="{!1}" var="ctrMust"/>
                <apex:variable value="{!0}" var="must1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(mustStock.bqList.size, 2) == 0, mustStock.bqList.size / 2, (mustStock.bqList.size / 2) + 1))}" var="must2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;" class="avoidInsideBreak">
                    <tr>
                        <apex:repeat var="mustStockItem" value="{!mustStock.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMust, 2) != 0, true, false)}">
                                    <apex:outputText value="{!mustStock.bqList[must1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="must1stColStart" value="{!must1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMust, 2) == 0, true, false)}">
                                    <apex:outputText value="{!mustStock.bqList[must2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="must2ndColStart" value="{!must2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMust, 2) == 0), (ctrMust < mustStock.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMust" value="{!ctrMust + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_detail_HousePouring_MayStock" layout="block" rendered="{!IF(mayStock.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>May Stock Back Bar Brands:</h2>
            <apex:outputPanel id="panel_HousePouring_MayStock">
                <p>
                    In this Agreement, “May Stock” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>
            
            <apex:outputPanel id="panel_HousePouring_MayStock_BQList">
                <apex:variable value="{!1}" var="ctrMay"/>
                <apex:variable value="{!0}" var="may1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(mayStock.bqList.size, 2) == 0, mayStock.bqList.size / 2, (mayStock.bqList.size / 2) + 1))}" var="may2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;" class="avoidInsideBreak">
                    <tr>
                        <apex:repeat var="mayStockItem" value="{!mayStock.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) != 0, true, false)}">
                                    <apex:outputText value="{!mayStock.bqList[may1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may1stColStart" value="{!may1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) == 0, true, false)}">
                                    <apex:outputText value="{!mayStock.bqList[may2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may2ndColStart" value="{!may2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMay, 2) == 0), (ctrMay < mayStock.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMay" value="{!ctrMay + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:outputPanel>
    
    <apex:outputPanel id="panel_detail_Marketing" layout="block"> 
        <div class="avoidInsideBreak">
            <h2>Pernod Ricard UK Ltd. (PRUK) agrees to supply the following:</h2>
            <div>
                <h2>Support</h2>
                <p>To qualify for marketing allowances, retrospective discounts and multibuy deal (i.e.free stock mechanic), actual sales must be verified by your nominated supplier before any discount payments will be made. Once sales are verified payments will then be made no earlier than 30 days after receipt of a valid invoice. All sales must be verified via your nominated supplier.</p>
            </div>
        </div>
            <!--
            <apex:outputPanel layout="block" rendered="{!IF(contractHeader.EUR_CRM_Marketing_Package_Lump_Sum__c>0,true, false)}" styleClass="avoidInsideBreak">
                <h2>Marketing Allowance </h2>
                <apex:outputPanel id="panel_Marketing_MarketingPackageTotal" rendered="{!IF(contractHeader.EUR_CRM_Marketing_Package_Lump_Sum__c>0,true, false)}">
                        Pernod Ricard UK will provide a marketing support budget of <span class="boldText">{!currencyCode}{!marketingAllowance.totalStr} </span>
                        to support the full Pernod Ricard range in return for the above stocking status and activations as agreed subject to successful audit. 
                        <!--Raquel@2-Apr-2015: edited the above text according to JIRA SFAPRUK-382-->
           <!--     </apex:outputPanel>
            </apex:outputPanel>
            <apex:outputPanel id="panel_Marketing_MktgSupportBQList" rendered="{!IF(contractHeader.EUR_CRM_Marketing_Package_Lump_Sum__c<=0,true, false)}" styleClass="avoidInsideBreak">
            -->
            <apex:outputPanel id="panel_Marketing_MktgSupportBQList" rendered="{!marketingAllowance != null && (marketingAllowance.lumpSum>0 ||marketingAllowance.isAvailable) }" styleClass="avoidInsideBreak">
                <h2>Marketing Allowance </h2>
                <apex:outputPanel id="panel_Marketing_MktgAllowanceTotal" rendered="{!IF(marketingAllowance.lumpSum>0,true, false)}">
                         <p>Pernod Ricard UK will provide a marketing support budget of <span class="boldText">{!currencyCode}{!marketingAllowance.lumpSumStr} </span>
                        to support the full Pernod Ricard range in return for the above stocking status and activations as agreed subject to successful audit.  </p>
                        <!--Raquel@2-Apr-2015: edited the above text according to JIRA SFAPRUK-382-->
                </apex:outputPanel>
                <apex:outputPanel id="panel_Marketing_MktgAllowance" rendered="{!IF(marketingAllowance.isAvailable, true, false)}" styleClass="avoidInsideBreak">
                    <p>
                    Pernod Ricard UK will provide a marketing support budget to support the following brands.
                    </p>
                    <table border="1" width="100%" style="border-collapse: collapse; padding: 5px" class="avoidInsideBreak"  >
                        <tr>
                            <th width="50%" style="padding-left:10px">Brand Quality</th>
                            <th width="25%" style="padding-left:10px">Marketing Support</th>
                            <th width="25%"></th>
                        </tr>
                        <apex:repeat var="mktgSupportItem" value="{!marketingAllowance.bqList}">
                            <tr>
                                <td style="padding-left:10px">{!mktgSupportItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                                <td align="right">{!currencyCode}{!mktgSupportItem.contractLineItemObj.EUR_CRM_Value__c}</td>
                                <td></td>
                            </tr>
                        </apex:repeat>
                        <tr>
                            <td></td>
                            <td>Grand Total Support</td>
                            <td align="right">{!currencyCode} {!marketingAllowance.totalStr}</td>
                        </tr>
                    </table>
                    <br/>
            </apex:outputPanel>
         </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_Retrospective" layout="block" rendered="{!IF(retro.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Retrospective Support Fund:</h2>
            <p>Retrospective discounts will be paid <apex:outputText value=" {!contractHeader.EUR_CRM_Payment_Method__c}" style="text-transform: lowercase;"/> in arrears upon receipt of proof of purchase from your nominated supplier.</p>
            <br/>
            <table border="1" width="100%" style="border-collapse: collapse; padding: 5px" class="avoidInsideBreak">
                <tr>
                    <th width="39%" style="padding-left:10px">Brand Quality</th>
                    <th width="23%" style="padding-left:10px">Qty (9L cases/annum)</th>
                    <th width="23%" style="padding-left:10px">Retro Per 9 Litre Case</th>
                    <th width="15%" style="padding-left:10px">Total</th>
                </tr>
                <apex:variable value="{!0}" var="totalRetro"/>
                <!--
                <apex:repeat var="retroItem" value="{!retro.bqList}">
                    <tr>
                        <apex:variable var="qty" value="{!IF(OR(retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c==null, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c<=0), 0, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c)}"/>
                        <td style="padding-left:10px">{!retroItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                        <td align="right">{!currencyCode}{!retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}</td>
                        <td align="right">{!currencyCode}{!retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}</td>
                        <td align="right">{!currencyCode}
                            <apex:outputText value="{0, number,###,###,##0.00}">
                                <apex:param value="{!qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                    <apex:variable var="totalRetro" value="{!totalRetro + (qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c)}"/>
                </apex:repeat>-->
                
                <apex:repeat var="retroItem" value="{!retro.houseSpiritsList}">
                    <tr>
                        <apex:variable var="qty" value="{!IF(OR(retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c==null, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c<=0), 0, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c)}"/>
                        <td style="padding-left:10px">{!retroItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                        <td align="right">{!retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}</td>
                        <td align="right">{!currencyCode}{!retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}</td>
                        <td align="right">{!currencyCode}
                            <apex:outputText value="{0, number,###,###,##0.00}">
                                <apex:param value="{!qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                    <apex:variable var="totalRetro" value="{!totalRetro + (qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c)}"/>
                </apex:repeat>
                <!--
                <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td  > 
                         
                    </td>
                </tr>
                -->
                <apex:repeat var="retroItem" value="{!retro.premiumSpiritsList}">
                    <tr>
                        <apex:variable var="qty" value="{!IF(OR(retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c==null, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c<=0), 0, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c)}"/>
                        <td style="padding-left:10px">{!retroItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                        <td align="right">{!retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}</td>
                        <td align="right">{!currencyCode}{!retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}</td>
                        <td align="right">{!currencyCode}
                            <apex:outputText value="{0, number,###,###,##0.00}">
                                <apex:param value="{!qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                    <apex:variable var="totalRetro" value="{!totalRetro + (qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c)}"/>
                </apex:repeat>
                <!--
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td  > 
                         
                    </td>
                </tr>
                -->
                <apex:repeat var="retroItem" value="{!retro.champagneList}">
                    <tr>
                        <apex:variable var="qty" value="{!IF(OR(retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c==null, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c<=0), 0, retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c)}"/>
                        <td style="padding-left:10px">{!retroItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                        <td align="right">{!retroItem.contractLineItemObj.EUR_Min_Qty_Per_Annum_9L__c}</td>
                        <td align="right">{!currencyCode}{!retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}</td>
                        <td align="right">{!currencyCode}
                            <apex:outputText value="{0, number,###,###,##0.00}">
                                <apex:param value="{!qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c}"/>
                            </apex:outputText>
                        </td>
                    </tr>
                    <apex:variable var="totalRetro" value="{!totalRetro + (qty * retroItem.contractLineItemObj.EUR_CRM_Retro_Per_9L__c)}"/>
                </apex:repeat>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td align="right">{!currencyCode}
                        <apex:outputText value="{0, number,###,###,##0.00}">
                            <apex:param value="{!totalRetro}"/>
                        </apex:outputText>
                    </td>
                </tr>
            </table>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_StockDeal" layout="block" rendered="{!IF(stockDeal.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Stock Deal Mechanic:</h2>
            <p>
                Stock deal mechanic (i.e.free stock mechanic), Sales must be verified by your Nominated Supplier before any stock is deliver to you.
            </p>
            <div>
                <ul>
                    <apex:repeat var="stockDealItem" value="{!stockDeal.bqList}">
                        <li class="boldText">
                            A {!stockDealItem.contractLineItemObj.EUR_CRM_Stock_Deal__r.EUR_CRM_Stock_Deal_Name__c} for {!stockDealItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c} is agreed with you.
                        </li>
                    </apex:repeat>
                </ul>
            </div>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_StockAllowance" layout="block" rendered="{!IF(stockAllowance.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Stock Allowance:</h2>
            <apex:outputPanel id="panel_detail_Marketing_StockAllowance">            
                <p>
                    Pernod Ricard UK to provide {!currencyCode}{!stockAllowance.totalStr} of house pour spirits (combined), to support Pernod Ricard branded consumer events in agreement with your account manager. In this Agreement, “Stock Allowance” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>

            <apex:outputPanel id="panel_Marketing_StockAllowance_BQList">
                <apex:variable value="{!1}" var="ctrMay"/>
                <apex:variable value="{!0}" var="may1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(stockAllowance.bqList.size, 2) == 0, stockAllowance.bqList.size / 2, (stockAllowance.bqList.size / 2) + 1))}" var="may2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;" class="avoidInsideBreak">
                    <tr>
                        <apex:repeat var="mayStockItem" value="{!stockAllowance.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) != 0, true, false)}">
                                    <apex:outputText value="{!stockAllowance.bqList[may1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may1stColStart" value="{!may1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) == 0, true, false)}">
                                    <apex:outputText value="{!stockAllowance.bqList[may2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may2ndColStart" value="{!may2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMay, 2) == 0), (ctrMay < stockAllowance.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMay" value="{!ctrMay + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_POS" layout="block" rendered="{!IF(pos.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Point of Sale </h2>
            <apex:outputPanel id="panel_detail1_Marketing_POS">
                <p>
                    POS to the value of {!currencyCode}{!pos.totalStr} to be agreed with your account manager to support brand activation within outlet. In this Agreement, “Point of Sale” brands have to be listed and visible in their respective categories within each bar and outlet(s).
                </p>
            </apex:outputPanel>

            <apex:outputPanel id="panel_Marketing_POS_BQList">
                <apex:variable value="{!1}" var="ctrMay"/>
                <apex:variable value="{!0}" var="may1stColStart"/>
                <apex:variable value="{!FLOOR(IF(MOD(pos.bqList.size, 2) == 0, pos.bqList.size / 2, (pos.bqList.size / 2) + 1))}" var="may2ndColStart"/>
                <table style="margin-left: 5%; border-spacing: 0px 30px; width: 100%;" class="avoidInsideBreak">
                    <tr>
                        <apex:repeat var="mayStockItem" value="{!pos.bqList}">
                            <td><apex:outputText style="font-size: 15px" value=" &#149; " escape="false"/>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) != 0, true, false)}">
                                    <apex:outputText value="{!pos.bqList[may1stColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may1stColStart" value="{!may1stColStart + 1}"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!IF(MOD(ctrMay, 2) == 0, true, false)}">
                                    <apex:outputText value="{!pos.bqList[may2ndColStart].contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}"/>
                                    <apex:variable var="may2ndColStart" value="{!may2ndColStart + 1}"/>
                                </apex:outputPanel>
                            </td>
                            <apex:outputText rendered="{!AND((MOD(ctrMay, 2) == 0), (ctrMay < pos.bqList.size))}" value="</tr><tr>" escape="false"/>
                            <apex:variable var="ctrMay" value="{!ctrMay + 1}"/>
                        </apex:repeat>
                    </tr>
                </table>
            </apex:outputPanel>
            
            <apex:outputPanel id="panel_detail2_Marketing_POS">
                <p>
                    Where applicable high value items such as permanent branded point of sale will be provided on loan. Where this is the case, Pernod Ricard UK retains title over such items and requires that they are returned immediately on request, in good working condition. 
                </p>
            </apex:outputPanel>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_Training" layout="block" rendered="{!IF(education.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Brand Ambassador Training Support</h2>
            <p>
                <span class="boldText">PRUK will provide A Master Class </span>
                which will be conducted at a specific venue by one of our 
                <span class="boldText">Brand Ambassadors </span>
                during the contractual period.  This educational session will be tailored to your business requirements.
            </p>
            <div>
                <table border="1" width="100%" style="border-collapse: collapse; padding: 5px" class="avoidInsideBreak">
                    <tr>
                        <th width="50%" style="padding-left:10px">Brand-Quality</th>
                        <th width="25%" style="padding-left:10px">Activity type</th>
                        <th width="25%" style="padding-left:10px">Value</th>
                    </tr>
                    <apex:repeat var="educationItem" value="{!education.bqList}">
                        <tr>
                            <td style="padding-left:10px">{!educationItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                            <td style="padding-left:10px">{!educationItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Mechanic_Name__c}</td>
                            <td align="right">{!currencyCode}{!educationItem.contractLineItemObj.EUR_CRM_Value__c}</td>
                        </tr>
                    </apex:repeat>
                </table>
            </div>
        </apex:outputPanel>
        
        <apex:outputPanel id="panel_Marketing_Trips" layout="block" rendered="{!IF(trips.isAvailable, true, false)}" styleClass="avoidInsideBreak">
            <h2>Educational Brand Visits</h2>
            <p>
                <span class="boldText">PRUK will provide an educational visit for you or your team </span>
                hosted by one of our Brand Ambassadors. The session will include a tour of the distillery or production facility, the history of the Brand, a description of production methods, a comparative tasting, finishing with a cocktail session. The session can be tailored to reflect the brand offering within your outlets.
            </p>
            <div>
                <table border="1" width="100%" style="border-collapse: collapse; padding: 5px" class="avoidInsideBreak">
                    <tr>
                        <th width="30%" style="padding-left:10px">Brand-Quality</th>
                        <th width="30%" style="padding-left:10px">Visit</th>
                        <th width="20%" style="padding-left:10px">Number of Guests</th>
                        <th width="20%" style="padding-left:10px">Value</th>
                    </tr>
                    <apex:repeat var="tripItem" value="{!trips.bqList}">
                        <tr>
                            <td style="padding-left:10px">{!tripItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Brand_Quality_Name__c}</td>
                            <td style="padding-left:10px">{!tripItem.contractLineItemObj.EUR_CRM_Contract_Mechanic__r.EUR_CRM_Mechanic_Name__c}</td>
                            <td style="padding-left:10px">{!tripItem.contractLineItemObj.EUR_CRM_No_of_People__c}</td>
                            <td align="right">{!currencyCode}{!tripItem.contractLineItemObj.EUR_CRM_Value__c}</td>
                        </tr>
                    </apex:repeat>
                </table>
            </div>
        </apex:outputPanel>
        
        <apex:outputPanel >
            <h3>Total value of the contract {!currencyCode}
            <apex:outputText value="{0, number,###,###,##0.00}">
                <apex:param value="{!totalContractValue}"/>
            </apex:outputText>

            </h3>
        </apex:outputPanel>
        
    </apex:outputPanel>
    
    <apex:outputPanel id="panel_ContractualPeriod" layout="block" styleClass="avoidInsideBreak">
        <h2>Contractual Period:</h2>
        <p>
            This agreement will be applicable for an initial term of one year from 
            <span class="boldText">
            <apex:outputText value="{!startDate}" escape="false"/> to &nbsp; <apex:outputText value="{!endDate}" escape="false"/></span>
            the “Contractual Period”. However, the parties agree that if volumes are lower than those set out in this agreement under each brand then the Contractual Period shall be extended until the volumes have been achieved.
        </p>
        <p>
            Please signify your acceptance of the above terms and conditions by signing both copies of this agreement retaining one for your records.
        </p>
        <p>
            I agree to the terms and conditions of this agreement:
        </p>
    
    <table id="panel_ContractSignatories" width="100%">
        <tr>
        <td width="50%">
        <div>
            <div><br/>Sign: _________________________<br/>
            {!contractHeader.CreatedBy.Name} <br/>
            {!contractHeader.CreatedBy.Title}<br/>
            On behalf of: Pernod Ricard UK Ltd<br/>
            <apex:outputText value="{0,date,long}">
                <apex:param value="{!Today()}" />
            </apex:outputText>
            </div>
        </div>
        </td>
        <td>
        <div>
            <div><br/>Sign: _________________________<br/>
                {!contractHeader.EUR_CRM_Contact__r.Name}, <br/>
                {!contractHeader.EUR_CRM_Contact__r.EUR_CRM_Position_of_Contact__c} <br/>
                {!contractHeader.EUR_CRM_Account__r.Name}<br/>
                <apex:outputText value="{0,date,long}">
                    <apex:param value="{!Today()}" />
                </apex:outputText>
            </div>
        </div>
        </td>
        </tr>
    </table>
    </apex:outputPanel>
    <br/>
</div>

<div id="panel_Contract_Terms" style="display:block; overflow:auto">
    <h3>Terms and Conditions</h3>
    <ol class="finePrintText">
        <li>
            The Customer undertakes that it shall perform its obligations under this Agreement as set out above and in accordance with any instructions from PRUK.
        </li>
        
        <li>
            The Customer undertakes that the performance of its obligations under this Agreement (including but not limited to all promotions at events) shall (i) meet the requirements of; and (ii) will not constitute an offence under, all relevant laws, regulations, codes of practice or guidelines imposed by national law or competent authority (including, without limitation, the Advertising Standards Authority, the Code of of practice or guidelines imposed by national law or competent authority (including, without limitation, the Advertising Standards Authority, the Code of Advertising Practice Committee and rulings made under the British Code of Advertising Practice, the ISBA Code of Advertising Standards and Practice for Radio and Television, the Portman Group Code of Practice and the Bribery Act 2010, and the Pernod Ricard Bribery Policy and Code for Commercial Communications, copies of which can be found at http://www.pernod-ricard-uk.com/prbp.pdf and http://www.pernod-ricard-uk.com/code.pdf). 
        </li>
        <!--Raquel@2-Apr-2015: edited the above text according to JIRA SFAPRUK-382-->
        <li>
            The Customer undertakes that it shall perform the agreement with a strict regard to hygiene and safety and shall comply at all times with the requirements of relevant statutes, orders and regulations in force from time to time including but not limited to Health and Safety at Work etc Act 1974 (as amended), the Control of Substances Hazardous to Health Regulations 2002 (COSSH), the Food Act 1990 and the Food Safety Act 1990 (Amendment) Regulations 2004, Food Safety (General Food Hygiene) Regulations 1995 and the Food Hygiene (England) Regulations 2005. Save where agreed in writing with PRUK, the Customer will be responsible for any registrations required with any applicable Local authority and arranging for any liquor licence that is required.
        </li>
        
        <li>
            The Customer warrants, represents and undertakes that its performance of the agreement shall not: (i) infringe any third party's IPRs, other proprietary rights or rights of privacy; (ii) be defamatory, libellous, offensive, unlawfully threatening or unlawfully harassing; (iii) be obscene; or (iv) reasonably be considered to bring or to be likely to bring PRUK or any of its Group Companies into disrepute.
        </li>
        
        <li>
            The Customer shall not issue, publish, circulate or otherwise make use of any promotional materials containing Pernod Ricard group trademarks without the prior written approval of PRUK. The Customer shall not use any intellectual property provided by PRUK other than as approved in advance by PRUK. PRUK shall not use any intellectual property provided by the Customer other than as approved in advance by the Customer. Except as specified and expressly agreed in this Agreement, no rights to any intellectual property are granted by this Agreement.
        </li>
        
        <li>
            The Customer shall indemnify and keep indemnified PRUK against any injury (including death) to any persons or loss of or damage to any property which may arise out of the act, default or negligence of the Customer, its employees, sub-contractors or agents, connected with the Customer’s obligations under this Agreement. 
        </li>
        
        <li>
            PRUK  undertakes that all material and the performance of PRUK’s obligations under this Agreement (including but not limited to all promotions, brochures and sampling at events) shall (i) meet the requirements of; and (ii) will not constitute an offence under, all relevant laws, regulations, codes of practice or guidelines imposed by national law or competent authority (including, without limitation, the Advertising Standards Authority, the Code of Advertising Practice Committee and rulings made under the British Code of Advertising Practice, the ISBA Code of Advertising Standards and Practice for Radio and Television, the Portman Group Code of Practice and the Bribery Act 2010, and the Pernod Ricard Code for Commercial Communications).
        </li>
        
        <li>
            PRUK shall indemnify and keep indemnified the Customer against any injury (including death) to any persons or loss of or damage to any property which may arise out of the act, default or negligence of the PRUK, its employees, sub-contractors or agents, in consequence of the PRUK's obligations under this Agreement. 
        </li>
        
        <li>
            PRUK shall have the right to assign or license or sub-license, to any entity which from time to time forms part of the Pernod Ricard SA group of companies, the whole or any part of the rights under this Agreement and in such event all of the representations, warranties and covenants on the part of the other party contained in this Agreement shall enure for the benefit of any assignee, licensee or sub-licensee of PRUK. Should the ownership or structure of the Customer, or its consumer base, change during the Contractual Period, PRUK reserves the right to continue with the agreement outlined above or renegotiate or terminate with immediate effect.
        </li>
        
        <li>
            If PRUK ceases to own, manufacture or distribute any one or more of the products listed in this agreement then the brand(s) shall no longer be subject to the terms of this agreement. PRUK shall be automatically entitled to replace a deleted product with an alternative within the same drinks category and where possible the terms of this agreement shall continue to apply however the parties recognise that they may have to renegotiate some of the terms of this arrangement to reflect any changes.
        </li>
        
        <li>
            This contract is only valid while the volumes stated are bought from {!contractHeader.EUR_CRM_Nominated_Supplier__r.Name} your “Nominated Supplier”. PRUK must be promptly informed of any change to an alternative supplier during the duration of this agreement. PRUK reserve the right to continue with the agreement,amend or terminate it with immediate effect should a change of supplier occur.
        </li>
        
        <li>
            The parties will keep confidential the terms of this Agreement and any and all confidential information that it may acquire in relation to the other party.
        </li>
        
        <li>
            Each party will maintain, with a reputable insurer, adequate insurance policies against all losses and liabilities and all other risks to cover its potential liabilities, and shall, on request, produce the insurance certificate giving details of the cover and the receipt for the current year's (or part thereof) premiums.
        </li>
        
        <li>
            This Agreement shall be governed by and construed in accordance with English law. Each party hereby irrevocably submits to the exclusive jurisdiction of the courts of England in relation to any claim or matter arising out of or in connection with this Agreement.
        </li>
    </ol>
</div>


</apex:page>