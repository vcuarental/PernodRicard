<!-- Concept PDF -->

<apex:page renderAs="PDF" standardController="EUR_CRM_Contract__c" extensions="EUR_CRM_DE_ContractPDFControllerExt">
<head>
<apex:stylesheet value="{!URLFOR($Resource.EUR_CRM_DE_ContractPDF_Resource, 'EUR_CRM_DE_ContractPDF.css')}"/>

<style type="text/css" media="print">



</style>
</head>

<apex:variable var="ContractHeader" value="{!contractWrapperObj.contractHeader}"/>
<apex:variable var="ContractPaymentPlan" value="{!contractWrapperObj.contractPaymentPlan}" />
<apex:variable var="PouringRefundWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Pouring Refund']}" />
<apex:variable var="OthersWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Others']}" />
<apex:variable var="DrinksMenuWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Drinks Menu']}" />
<apex:variable var="WKZFixAmountWrapper" value="{!contractWrapperObj.contractContentWrapperMap['WKZ Fix Amount']}" />
<apex:variable var="NapkinsWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Napkins']}" />
<apex:variable var="EventsWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Events']}" />
<apex:variable var="TrainingWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Training']}" />
<apex:variable var="VisibilityWrapper" value="{!contractWrapperObj.contractContentWrapperMap['Visibility/ Branding']}" />
<apex:variable var="POSMaterialWrapper" value="{!contractWrapperObj.contractContentWrapperMap['POS Material']}" />
<apex:variable var="POSWKZWrapper" value="{!contractWrapperObj.contractContentWrapperMap['POS WKZ']}" />

<apex:outputPanel rendered="{!IF(ISBLANK(ContractHeader.EUR_CRM_Contract_Approved_Date__c),true,false)}" layout="block">
<img src="{!URLFOR($Resource.EUR_CRM_GB_ContractPDF_Resource, 'Quote_Draft_Watermark.png')}" width="100%" height="100%" 
     style="position: fixed;background-repeat:repeat;left: 0cm; top:0cm; z-index:0"/>
</apex:outputPanel>

<div class="topCenter" style="margin-top:5mm; text-align:center">
    <apex:image id="topLogo" url="{!URLFOR($Resource.EUR_CRM_DE_ContractPDF_Resource, 'PR_Logo_Top.png')}"/>
</div>

<!-- Display Contract number on the left -->
<apex:variable var="styleClassLeft" value="bottomleft"/>
<apex:variable var="showPageNumbersLeft" value="true"/>
<apex:outputPanel id="panelHeaderFooterLeft" 
    styleClass="{!styleClassLeft}"
    layout="block">
    
    <apex:outputPanel layout="none" rendered="{!showPageNumbersLeft}">
        <div>Vertragsnummer: &nbsp;<apex:outputField value="{!ContractHeader.Name}"/> </div>
    </apex:outputPanel>
    
    <apex:componentBody />
</apex:outputPanel>

<div id="contractHeaderPanel">
    <h2 class="centeredText">Gastronomievertrag</h2>
    <table style="border:0; width:80%">
    <tr>
        <td><apex:outputText value="zwischen"/></td>
        <td><p class="inline">1.</p>
        <p class="inline indent1"><apex:outputText value="Pernod Ricard Deutschland GmbH, Habsburgerring 2, 50674 Köln"/></p>
        </td>
    </tr>
    <tr>
        <td></td>
        <td><br/><p class="indent2"><apex:outputText value="- nachstehend „PRD“ genannt - "/></p></td>
    </tr>
    <tr>
        <td colspan="2"><br/></td>
    </tr>
    <tr>
        <td> <apex:outputText value="und"/> </td>
        <td> <p class="inline">2.</p><p class="inline indent1"><apex:outputField value="{!ContractHeader.EUR_CRM_Account__r.EUR_CRM_Comp_Establishment_Name_legally__c}"/><apex:outputField value="{!contractContact.Name}" rendered="{!IF((ContractHeader.EUR_CRM_Account__r.EUR_CRM_Comp_Establishment_Name_legally__c==null),true,false)}"/></p></td>
    </tr>
    <tr style="{!IF((ContractHeader.EUR_CRM_Account__r.EUR_CRM_Comp_Establishment_Name_legally__c==null),'display:none;','')}">
        <td></td>
        <td><p class="inline indent2"> <apex:outputField value="{!contractContact.Name}"/></p></td>
    </tr>
    <tr>
        <td></td>
        <td><p class="inline indent2"><apex:outputField value="{!ContractHeader.EUR_CRM_Account__r.EUR_CRM_Invoice_Street__c}"/></p></td>
    </tr>
    <tr>
        <td></td>
        <td><p class="inline indent2"><apex:outputField value="{!ContractHeader.EUR_CRM_Account__r.EUR_CRM_Invoice_Postal_Code__c}"/> &nbsp;
        <apex:outputField value="{!ContractHeader.EUR_CRM_Account__r.EUR_CRM_Invoice_City__c}"/></p>
        </td>
    </tr>
    <tr><td colspan="3"/></tr>
    <tr>
        <td></td>
        <td><p class="inline indent2"><apex:outputField value="{!ContractHeader.EUR_CRM_Account__r.Name}"/></p></td>
    </tr>
    <tr>
        <td></td>
        <td><br/><p class="indent2"><apex:outputText value="- nachstehend „KUNDE“ genannt - "/></p><br/></td>
    </tr>
    </table>
</div>

<div id="contractPreamblePanel">
<h2 class="centeredText">Präambel</h2>
<p>PRD ist die deutsche Tochtergesellschaft von Pernod Ricard, einem der weltweit führenden Anbieter internationaler Marken im Spirituosen- und Weinbereich.</p>
<p>KUNDE ist ein Gastronomiebetrieb. </p>
<p>Die Parteien beabsichtigen zur Förderung des Absatzes von: &nbsp;
<apex:variable var="count" value="{!0}"/>
<apex:repeat var="focusBrand" value="{!contractWrapperObj.focusBrandList}">
    <apex:variable var="count" value="{!count+1}"/>
    <apex:outputText value="{!if(focusBrand.EUR_CRM_Brand__r.Name == 'All Brands' && contractWrapperObj.focusBrandListSize >1,'All Other Brands', focusBrand.EUR_CRM_Brand__r.Name)}"/>

    <!-- <apex:outputText value="{!focusBrand.EUR_CRM_Brand__r.Name}"/> -->
    <apex:outputText value=", " rendered="{!IF(count>=contractWrapperObj.focusBrandListSize,false, true)}"/>
</apex:repeat>
&nbsp;(„VERTRAGSMARKEN“) zusammenzuarbeiten. PRD wird den KUNDEN bei Werbemaßnahmen unterstützen, der KUNDE wird dafür die VERTRAGSMARKEN hervorgehoben anbieten.
</p>
<p>Vor diesem Hintergrund schließen die Parteien folgende Vereinbarung.</p>

</div>

<div id="contractDurationPanel" class="avoidInsideBreak">
    <h2 class="centeredText">§ 1 VERTRAGSLAUFZEIT</h2>
    <p>
        Die Vertragslaufzeit ist auf den Zeitraum vom &nbsp; <apex:outputText value="{0,date,dd.MM.yyyy}"><apex:param value="{!ContractHeader.EUR_CRM_Start_Date__c}" /></apex:outputText> bis zum &nbsp; <apex:outputText value="{0,date,dd.MM.yyyy}"><apex:param value="{!ContractHeader.EUR_CRM_End_Date__c}" /></apex:outputText> festgelegt. 
    </p>
    <p>Werden die Vertragsmengen nach § 2 Abs. 5 nicht erreicht, verlängert sich die Vertragslaufzeit einmalig um maximal 1 Jahr, um dem KUNDEN das Erreichen der Vertragsmengen zu ermöglichen.</p>
</div>

<div id="contractAchievements">
    <h2 class="centeredText">§ 2 LEISTUNGEN KUNDE</h2>
    
    <ol>
    <li class="avoidInsideBreak" style="display:{!IF(contractWrapperObj != null && contractWrapperObj.pouringListSize>0, 'list-item', 'none')};">
        <p class="indentBlockHeader1">Der Kunde bietet die VERTRAGSMARKEN in folgenden Qualitäten als „POURINGPRODUKTE“ an:
        </p>
        <p class="indentBlock1">
            <apex:variable var="count" value="{!0}"/>
            <apex:repeat var="pouringBQ" value="{!contractWrapperObj.pouringList}">
                <apex:variable var="count" value="{!count+1}"/>
                <apex:outputText value="{!if(pouringBQ.EUR_CRM_Brand_Quality__r.Name == 'All Brands' && contractWrapperObj.pouringListSize >1,'All Other Brand Qualities', pouringBQ.EUR_CRM_Brand_Quality__r.Name)}"/>
                <!--
                <apex:outputText value="{!pouringBQ.EUR_CRM_Brand_Quality__r.Name}"/>
                -->
                <apex:outputText value=", " rendered="{!IF(count>=contractWrapperObj.pouringListSize,false, true)}"/>
            </apex:repeat>
        </p>
        <p class="indentBlock1">Pouring bedeutet, dass bei einer unspezifischen Bestellung durch Gäste (wie „Vodka“ oder „Rum“) die entsprechende VERTRAGSMARKE in der vereinbarten Qualität ausgeschenkt wird. Ferner finden die VERTRAGSMARKEN, soweit möglich, in Cocktails und anderen Mixgetränken Verwendung.
        </p>
    </li>

    <li class="avoidInsideBreak" style="display:{!IF(contractWrapperObj !=null && contractWrapperObj.listingListSize != null && contractWrapperObj.listingListSize >0, 'list-item', 'none')};">
        <p class="indentBlockHeader1">Der KUNDE verpflichtet sich zusätzlich folgende Pernod Ricard Produkte zu listen: </p>
        <p class="indentBlock1">
            <apex:variable var="count" value="{!0}"/>
            <apex:repeat var="listingBQ" value="{!contractWrapperObj.listingList}">
                <apex:variable var="count" value="{!count+1}"/>
                <apex:outputText value="{!listingBQ.EUR_CRM_Brand_Quality__r.Name}"/>
                <apex:outputText value=", " rendered="{!IF(count>=contractWrapperObj.listingListSize,false, true)}"/>
            </apex:repeat>
        </p>
        <p class="indentBlockHeader1">
        Insbesondere verpflichtet sich der Kunde zum Eindruck der Vertragsmarken in die Getränkekarte und Forcierung der Vertragsmarken.
        </p>
    </li>

    <li class="avoidInsideBreak">
        <p class="indentBlockHeader1">Der KUNDE wird eine Marken- und Produktvisibilität schaffen. Dies bedeutet, dass der KUNDE durch die Verwendung geeigneter Werbemittel dafür Sorge tragen wird, dass die in Absprache mit dem Außendienst von PRD festgelegten Marken für Gäste gut sichtbar beworben werden.</p>
    </li>
    
    <li class="avoidInsideBreak">
        <p class="indentBlockHeader1">Der KUNDE wird ferner den Vertrieb der VERTRAGSMARKEN durch Events und Eventinhalte fördern.</p>
    </li>

    
    <li class="avoidInsideBreak" style="display:{!IF(PouringRefundWrapper.allContractProductsSize>0 || WKZFixAmountWrapper.allContractProductsSize>0, 'list-item', 'none')};">
        <p class="indentBlockHeader1"> Die Parteien vereinbaren für die Laufzeit des Vertrages folgende vom KUNDEN über die PRD Distribution abzunehmende Vertragsmengen:</p>
  
        <table class="subTable">
            <apex:repeat var="pouringRefundProduct" value="{!PouringRefundWrapper.sumAllBrandQualities}">
                <tr>
                    <td width="500px">      
                        <apex:outputText value="{!IF(pouringRefundProduct.productName=='All Brands Qualities' && PouringRefundWrapper != null && PouringRefundWrapper.allContractProductsSize>1,'All Other Brands Qualities',pouringRefundProduct.productName)}" rendered="{!IF(PouringRefundWrapper.allContractProductsSize > 0, true, false)}"/>
                    </td>
                    <td width="500px">
                        <apex:outputText value="{!pouringRefundProduct.totalVolume}"/> &nbsp; <apex:outputText value="{!pouringRefundProduct.unit}"/>
                    </td>
                </tr>
            </apex:repeat>
        </table>

        <table class="subTable">
            <apex:repeat var="WKZProduct" value="{!WKZFixAmountWrapper.sumAllBrand}">
                <tr>
                    <td width="500px">      
                        <apex:outputText value="{!IF(WKZProduct.productName=='All Brands' && WKZFixAmountWrapper.singleContractActivity.contractProductMapSize>1,'All Other Brands',WKZProduct.productName)}" rendered="{!IF(WKZFixAmountWrapper.allContractProductsSize>0, true, false)}"/> 
                    </td>
                    <td width="500px">
                        <apex:outputText value="{!WKZProduct.totalVolume}" /> &nbsp; <apex:outputText value="{!WKZProduct.unit}"/>
                    </td>
                </tr>
            </apex:repeat>
        </table>
    </li>
    </ol>
</div>

<div id="contractAchievementPRD">
    <h2 class="centeredText">§ 3 LEISTUNGEN PRD</h2>

    <ol>
        <apex:variable var="visibilityBrandingCount" value="{!1}" />
        <li class="avoidInsideBreak" style="display:{!IF( PouringRefundWrapper != null && PouringRefundWrapper.allContractProductsSize>0, 'list-item', 'none')}">
            <apex:variable var="visibilityBrandingCount" value="{!visibilityBrandingCount+1}" rendered="{!IF(PouringRefundWrapper !=null && PouringRefundWrapper.allContractProductsSize>0, true, false)}" />
            <p class="indentBlockHeader1">PRD gewährt bei Abnahme der Vertragsmengen nach § 2 (5) durch den KUNDEN eine 
            <span class="boldText">Rückvergütung</span> &nbsp; für die abgenommene und über PRD distribuierte Ware in folgender Höhe:
            </p>
            <table class="subTable" style="align:center">
                <thead>
                    <th> Periode </th>
                    <th> € / L </th>
                    <th> Brand </th>
                    <th> Vertragsmenge </th>
                </thead>
                <apex:repeat var="pouringRefundActivityWrapper" value="{!PouringRefundWrapper.nonPRDActivities}">
                <apex:repeat var="pouringRefundProduct" value="{!pouringRefundActivityWrapper.allContractProductItems}">
                    <tr>
                        <td><apex:outputField value="{!pouringRefundActivityWrapper.contractActivity.EUR_CRM_Start_Date__c}"/> - <apex:outputField value="{!pouringRefundActivityWrapper.contractActivity.EUR_CRM_End_Date__c}"/></td>
                        <td><apex:outputField value="{!pouringRefundProduct.EUR_CRM_Amount__c}"/> / <apex:outputField value="{!pouringRefundProduct.EUR_CRM_Unit__c}"/></td>
                        <td><apex:outputText value="{!IF(pouringRefundProduct.EUR_CRM_Brand_Quality__r.Name=='All Brands Qualities' && PouringRefundWrapper != null && PouringRefundWrapper.allContractProductsSize>1,'All Other Brands Qualities',pouringRefundProduct.EUR_CRM_Brand_Quality__r.Name)}" /></td>
                        <td><apex:outputField value="{!pouringRefundProduct.EUR_CRM_Quantity__c}"/> &nbsp; <apex:outputField value=" {!pouringRefundProduct.EUR_CRM_Unit__c}" /></td>
                    </tr>
                </apex:repeat>
                </apex:repeat>
            </table>
            <p class="indentBlock1">
                Die Inanspruchnahme der <span class="boldText">Rückvergütung</span> &nbsp; setzt voraus, dass der KUNDE den Warenbezug durch Vorlage entsprechender Rechnungen des Fachgroßhandels nachweist. 
            </p>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(OR(WKZFixAmountWrapper == null, 
        WKZFixAmountWrapper.singleContractActivity == null,
        WKZFixAmountWrapper.singleContractActivity.contractActivity == null,
        WKZFixAmountWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c==null, WKZFixAmountWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c<=0), 'none', 'list-item')}">

            <apex:variable var="visibilityBrandingCount" value="{!visibilityBrandingCount+1}" rendered="{!IF(OR(
                WKZFixAmountWrapper==null,
                WKZFixAmountWrapper.singleContractActivity==null,
                WKZFixAmountWrapper.singleContractActivity.contractActivity==null, WKZFixAmountWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c==null,
                WKZFixAmountWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c<=0), false, true)}" />
            <p class="indentBlockHeader1">PRD gewährt für die Abnahme der Vertragsmenge nach § 2 (5) durch den KUNDEN einen <span class="boldText">Pouring WKZ</span> &nbsp; (für die Vertragslaufzeit) in Höhe von &nbsp;
            <apex:outputField value="{!WKZFixAmountWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>.
            </p>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(OR(DrinksMenuWrapper == null, 
        DrinksMenuWrapper.singleContractActivity == null,
        DrinksMenuWrapper.singleContractActivity.contractActivity == null,
        DrinksMenuWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c==null, DrinksMenuWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c<=0), 'none', 'list-item')}">

            <apex:variable var="visibilityBrandingCount" value="{!visibilityBrandingCount+1}" rendered="{!IF(OR(
                DrinksMenuWrapper ==null,
                DrinksMenuWrapper.singleContractActivity ==null,
                DrinksMenuWrapper.singleContractActivity.contractActivity == null,
                DrinksMenuWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c==null, 
                DrinksMenuWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c<=0), false, true)}" />
            <p class="indentBlockHeader1">Für die <span class="boldText">Listung und Getränkekartengestaltung</span> &nbsp; gewährt PRD dem Kunden einen Zuschuss in Höhe von &nbsp;
            <apex:outputField value="{!DrinksMenuWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>.
            </p>

            <table class="subTable" style="align:center">
                <thead>
                <tr>
                    <th>Brand</th>
                    <th>Beschreibung</th>
                </tr>
                </thead>    
                <apex:variable var="iCount" value="{!0}"/>
                <apex:variable var="recordCounter" value="{!0}"/>
                <apex:repeat var="cProduct" value="{!DrinksMenuWrapper.allContractProducts}">
                    <apex:variable var="recordCounter" value="{!recordCounter+1}"/> 
                </apex:repeat>

                <apex:repeat var="cProduct" value="{!DrinksMenuWrapper.allContractProducts}">
                    <tr>
                        <apex:variable var="iCount" value="{!iCount+1}"/> 
                        <td><apex:outputText value="{!IF(cProduct.EUR_CRM_Brand__r.Name=='All Brands' && recordCounter>1,'All Other Brands',cProduct.EUR_CRM_Brand__r.Name)}" /></td>
                        <td><apex:outputField value="{!cProduct.EUR_CRM_Description__c}" /></td>
                    </tr> 
                </apex:repeat>
            </table> 
        </li>
        <li class="avoidInsideBreak" style="display:{!IF((EventsWrapper != null && (EventsWrapper.nonPRDActivitiesTotal>0 || EventsWrapper.prdActivitiesTotal>0)), 'list-item', 'none')}">
            <apex:outputPanel layout="block" rendered="{!IF(EventsWrapper.nonPRDActivitiesTotal>0, true, false)}">
                <apex:variable var="visibilityBrandingCount" value="{!visibilityBrandingCount+1}" />
                <p class="indentBlockHeader1">Für <span class="boldText">Events</span> &nbsp; stellt PRD dem KUNDEN ein Eventbudget in Höhe von &nbsp;
                EUR &nbsp; <apex:outputText value="{!EventsWrapper.nonPRDActivitiesTotalStr}"/>
                 über die Vertragslaufzeit zu Verfügung. Der KUNDE unterrichtet PRD vorab über die Events. Nach den Events wird der KUNDE von der Durchführung berichten. Die Abrechnung des Eventbudgets erfolgt nach Durchführung des Events. 
                </p>
                <table class="subTable" style="align:center">
                    <thead>
                        <th> Brand </th>
                        <th> Event </th>
                        <th> geplanter Zeitraum </th>
                    </thead>
                    
                    <apex:repeat var="nonPRDEvent" value="{!EventsWrapper.nonPRDActivities}">
                    <tr>
                        <td>
                            <apex:variable var="iCount" value="{!0}"/>
                            <apex:repeat var="productKey" value="{!nonPRDEvent.contractProductMap}">
                            <apex:repeat var="productObj"  value="{!nonPRDEvent.contractProductMap[productKey]}">
                                <apex:variable var="iCount" value="{!iCount+1}"/>

                                <apex:outputText value=", " rendered="{!IF(iCount>1,true, false)}"/>

                                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && nonPRDEvent.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" />

                                <!-- <apex:outputText value=", " rendered="{!IF(iCount>=EventsWrapper.allContractProductsSize,false, true)}"/> -->
                            </apex:repeat>
                            </apex:repeat>
                        </td>
                        <td><apex:outputField value="{!nonPRDEvent.contractActivity.EUR_CRM_Name__c}"/></td>
                        <td><apex:outputField value="{!nonPRDEvent.contractActivity.EUR_CRM_Start_Date__c}"/> - <apex:outputField value="{!nonPRDEvent.contractActivity.EUR_CRM_End_Date__c}"/></td>
                    </tr>
                    </apex:repeat>
                </table>
            </apex:outputPanel>
            <apex:outputPanel layout="block" rendered="{!IF(EventsWrapper != null && EventsWrapper.prdActivitiesTotal>0, true, false)}">
                <p style="display:{!IF(EventsWrapper.nonPRDActivitiesTotal>0 , 'block', 'none')}"> 
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRD organisiert beim Kunden Events im Wert von &nbsp; EUR <apex:outputText value="{!EventsWrapper.prdActivitiesTotalStr}"/>,-. 
                </p>
                <p style="display:{!IF(EventsWrapper.nonPRDActivitiesTotal>0 , 'none', 'block')}"> 
                    PRD organisiert beim Kunden Events im Wert von &nbsp; EUR <apex:outputText value="{!EventsWrapper.prdActivitiesTotalStr}"/>,-. 
                </p>
                <table class="subTable" style="align:center">
                    <thead>
                        <th> Brand </th>
                        <th> Event </th>
                        <th> geplanter Zeitraum </th>
                    </thead>
                    <apex:repeat var="PRDEvent" value="{!EventsWrapper.prdActivities}">
                    <tr>
                        <td>
                            <apex:variable var="iCount" value="{!0}"/>
                            <apex:repeat var="productKey" value="{!PRDEvent.contractProductMap}">
                            <apex:repeat var="productObj"  value="{!PRDEvent.contractProductMap[productKey]}">
                                <apex:outputText value=", " rendered="{!(iCount>0)}" />
                                <apex:variable var="iCount" value="{!iCount+1}"/>
                                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && PRDEvent.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            <!--
                            <apex:outputField value="{!productObj.EUR_CRM_Brand__r.Name}"/> <apex:outputText value=", "/>
                            -->
                            </apex:repeat>
                            </apex:repeat>
                        </td>
                        <td><apex:outputField value="{!PRDEvent.contractActivity.EUR_CRM_Name__c}"/></td>
                        <td><apex:outputField value="{!PRDEvent.contractActivity.EUR_CRM_Start_Date__c}"/> - <apex:outputField value="{!PRDEvent.contractActivity.EUR_CRM_End_Date__c}"/></td>
                    </tr>
                    </apex:repeat>
                </table>
            </apex:outputPanel>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(VisibilityWrapper.singleContractActivity != null && VisibilityWrapper.singleContractActivity.contractProductMapSize>0, 'list-item', 'none')}">

                <p class="indentBlockHeader1"><span class="boldText">Image <apex:outputText value="&"/> Markendarstellung</span> &nbsp; („VERTRAGSGEGENSTÄNDE“): Bereitstellung eines Budgets zur Präsenz und Aktivierung der VERTRAGSMARKEN (Branding) im Wert von 
                    &nbsp; <apex:outputField value="{!VisibilityWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>
                </p>
 
            <table class="subTable" style="align:center">
                <apex:repeat var="productKey" value="{!VisibilityWrapper.singleContractActivity.contractProductMap}">
                <apex:repeat var="productObj"  value="{!VisibilityWrapper.singleContractActivity.contractProductMap[productKey]}">
                <tr>
                <td>
                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && VisibilityWrapper.singleContractActivity != null && VisibilityWrapper.singleContractActivity.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            <!--
                <apex:outputField value="{!productObj.EUR_CRM_Brand__r.Name}"/> -->
                <apex:outputText value=" : " rendered="{!IF(AND(productObj.EUR_CRM_Brand__c!=null, productObj.EUR_CRM_Description__c!=null),true,false)}"/>
                <apex:outputField value="{!productObj.EUR_CRM_Description__c}"/> 
                </td>
                </tr>
                </apex:repeat>
                </apex:repeat>
            </table>
            <p class="indentBlock1">
                Das individuelle Branding ist mit PRD abzustimmen.
            </p>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(POSWKZWrapper.singleContractActivity != null && POSWKZWrapper.singleContractActivity.contractProductMapSize>0, 'list-item', 'none')}">
            <p class="indentBlockHeader1"><span class="boldText">POS Material:</span> &nbsp; Der KUNDE erhält ein Budget in Höhe von &nbsp;
            <apex:outputField value="{!POSWKZWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>
              (für die Vertragslaufzeit) für den Kauf von:
            </p>
            <table class="subTable" style="align:center">
                <apex:repeat var="productKey" value="{!POSWKZWrapper.singleContractActivity.contractProductMap}">
                <apex:repeat var="productObj"  value="{!POSWKZWrapper.singleContractActivity.contractProductMap[productKey]}">
                <tr>
                <td>
                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && POSWKZWrapper.singleContractActivity !=null && POSWKZWrapper.singleContractActivity.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            <!--
                <apex:outputField value="{!productObj.EUR_CRM_Brand__r.Name}"/> -->
                <apex:outputText value=" : " rendered="{!IF(AND(productObj.EUR_CRM_Brand__c!=null, productObj.EUR_CRM_Description__c!=null),true,false)}"/>
                <apex:outputField value="{!productObj.EUR_CRM_Description__c}"/> 
                </td>
                </tr>
                </apex:repeat>
                </apex:repeat>
            </table>
            <p class="indentBlock1">
                Die POS Materialien werden nach Absprache mit dem PRD Außendienst mit den VERTRAGSMARKEN gebrandet und müssen vor Bezug und Verwendung von PRD freigegeben werden.
            </p>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(POSMaterialWrapper.singleContractActivity != null && POSMaterialWrapper.singleContractActivity.contractProductMapSize>0, 'list-item', 'none')}">
            <p class="indentBlockHeader1"><span class="boldText">POS Material:</span> &nbsp; Dem Kunden werden nach Absprache folgende Werbematerialen im Wert von 
                &nbsp; <apex:outputField value="{!POSMaterialWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>
                 (für die Vertragslaufzeit) bereitgestellt:
            </p>
            <table class="subTable" style="align:center">
                <apex:repeat var="productKey" value="{!POSMaterialWrapper.singleContractActivity.contractProductMap}">
                <apex:repeat var="productObj"  value="{!POSMaterialWrapper.singleContractActivity.contractProductMap[productKey]}">
                <tr>
                <td>
                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && POSMaterialWrapper.singleContractActivity != null && POSMaterialWrapper.singleContractActivity.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            <!--
                <apex:outputField value="{!productObj.EUR_CRM_Brand__r.Name}"/> -->
                <apex:outputText value=" : " rendered="{!IF(AND(productObj.EUR_CRM_Brand__c!=null, productObj.EUR_CRM_Description__c!=null),true,false)}"/>
                <apex:outputField value="{!productObj.EUR_CRM_Description__c}"/> 
                </td>
                </tr>
                </apex:repeat>
                </apex:repeat>
            </table>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(NapkinsWrapper != null && NapkinsWrapper.allContractProductsSize>0, 'list-item', 'none')}">
            <p class="indentBlockHeader1">Darüber hinaus wird dem Kunden ein &nbsp; 
            <span class="boldText"> Serviettenbudget </span> 
            &nbsp; im Wert von &nbsp; 
            <apex:outputField value="{!NapkinsWrapper.singleContractActivity.contractActivity.EUR_CRM_Amount__c}"/>
             (für die Vertragslaufzeit) bereitgestellt:
            </p>
            <table class="subTable" style="align:center">
                <thead>
                    <th>Brand</th>
                    <th>Anzahl</th>
                </thead>
                <apex:repeat var="cProduct" value="{!NapkinsWrapper.allContractProducts}">
                <tr>
                    <td>
                        <apex:outputText value="{!if(cProduct.EUR_CRM_Brand__r.Name == 'All Brands' && NapkinsWrapper !=null && NapkinsWrapper.allContractProductsSize >1,'All Other Brands', cProduct.EUR_CRM_Brand__r.Name)}" /> 
                            <!--<apex:outputField value="{!cProduct.EUR_CRM_Brand__r.Name}"/>--></td>
                    <td><apex:outputField value="{!cProduct.EUR_CRM_Quantity__c}"/>&nbsp;
                    <apex:outputText value="{!IF(cProduct.EUR_CRM_With_Logo__c, "mit Produkt- & Kundenlogo", "mit Produktlogo")}" /></td>
                </tr>
                </apex:repeat>
            </table>
            <p class="indentBlock1">
                Die Servietten können über den Ansprechpartner vor Ort abgerufen werden.
            </p>
        </li>

        <li class="avoidInsideBreak" style="display:{!IF(TrainingWrapper !=null && TrainingWrapper.uniqueContractProductSetSize>0, 'list-item', 'none')}">
            <p class="indentBlockHeader1"><span class="boldText">Schulung:</span> &nbsp; Für ausgewählte Marken aus dem PRD Portfolio bietet PRD dem KUNDEN verschiedene Schulungsinhalte an (Wert: 
                EUR &nbsp; <apex:outputText value="{!TrainingWrapper.totalStr}"/>
                ). Der KUNDE kann nach Absprache mit PRD folgende Module in Anspruch nehmen: 
            </p>
            <table class="subTable" style="align:center;">
                <thead>
                    <th>Brands</th>
                    <th>Beschreibung</th>
                    <th>Geplanter Zeitraum</th>
                </thead>
                <apex:repeat var="productObj"  value="{!TrainingWrapper.uniqueContractProductSet}">
                <tr>
                    <td>
                        <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && TrainingWrapper != null&&TrainingWrapper.uniqueContractProductSetSize>1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                    </td>
                    <td>
                        <apex:outputField value="{!productObj.EUR_CRM_Description__c}"/> 
                    </td>
                    <td>
                        <apex:outputField value="{!productObj.EUR_CRM_Contract_Activity_Item__r.EUR_CRM_Start_Date__c}" /> - <apex:outputField value="{!productObj.EUR_CRM_Contract_Activity_Item__r.EUR_CRM_End_Date__c}" />
                    </td>
                </tr>
                </apex:repeat>
            </table>
        </li>

        <li style="display:{!IF(OthersWrapper !=null && OthersWrapper.allContractProductsSize>0, 'list-item', 'none')}">
            <p class="indentBlockHeader1"><span class="boldText">Sonstiges:</span></p>
            <apex:outputPanel layout="block" rendered="{!IF(OthersWrapper.nonPRDActivitiesTotal>0, true, false)}">  
                <table class="subTable" style="align:center">
                    <apex:repeat var="nonPRDEvent" value="{!OthersWrapper.nonPRDActivities}">
                    <tr>
                        <td>
                            <apex:variable var="iCount" value="{!0}"/>
                            <apex:repeat var="productKey" value="{!nonPRDEvent.contractProductMap}">
                            <apex:repeat var="productObj"  value="{!nonPRDEvent.contractProductMap[productKey]}">
                                <apex:outputText value=", " rendered="{!(iCount>0)}" />
                                <apex:variable var="iCount" value="{!iCount+1}"/>

                                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && nonPRDEvent.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            </apex:repeat>
                            </apex:repeat>
                        </td>
                        <td><apex:outputField value="{!nonPRDEvent.contractActivity.EUR_CRM_Description__c}"/></td>
                        <td>im Wert von €</td>
                        <td><apex:outputField value="{!nonPRDEvent.contractActivity.EUR_CRM_Amount__c}"/></td>
                    </tr>
                    </apex:repeat>
                </table>
            </apex:outputPanel>
            <apex:outputPanel layout="block" rendered="{!IF(OthersWrapper != null && OthersWrapper.prdActivitiesTotal>0, true, false)}">
                <table class="subTable" style="align:center">
                    <apex:repeat var="PRDEvent" value="{!OthersWrapper.prdActivities}">
                    <tr>
                        <td>
                            <apex:variable var="iCount" value="{!0}"/>
                            <apex:repeat var="productKey" value="{!PRDEvent.contractProductMap}">
                            <apex:repeat var="productObj"  value="{!PRDEvent.contractProductMap[productKey]}">
                                <apex:outputText value=", " rendered="{!(iCount>0)}" />
                                <apex:variable var="iCount" value="{!iCount+1}"/>
                                <apex:outputText value="{!if(productObj.EUR_CRM_Brand__r.Name == 'All Brands' && PRDEvent.contractProductMapSize >1,'All Other Brands', productObj.EUR_CRM_Brand__r.Name)}" /> 
                            </apex:repeat>
                            </apex:repeat>
                        </td>
                        <td><apex:outputField value="{!PRDEvent.contractActivity.EUR_CRM_Description__c}"/></td>
                        <td>in Höhe von €</td>
                        <td><apex:outputField value="{!PRDEvent.contractActivity.EUR_CRM_Amount__c}"/></td>
                    </tr>
                    </apex:repeat>
                </table>
            </apex:outputPanel>
        </li>

    </ol>
</div>

<div id="otherContractTopic" style="page-break-after:always;">
    <div class="avoidInsideBreak">
    <h2 class="centeredText">§ 4 EIGENTUM</h2>
    <ol>
        <li>
            <p class="indentBlockHeader1">
                Sofern PRD den Absatz des KUNDEN dadurch fördert, dass Einrichtungsgegenstände oder andere Werbemittel durch PRD erworben und dem KUNDEN zur Verfügung gestellt werden, verbleibt das Eigentum an diesen beweglichen Sachen bei PRD. Die betreffenden Vertragsgegenstände sind in § 3 aufgeführt. Der KUNDE erhält ein einfaches Nutzungsrecht für die Laufzeit dieses Vertrages.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Erreicht der Kunde die vereinbarten Mengen für eine Rückvergütung nach § 2 (5), geht das Eigentum an den VERTRAGSGEGENSTÄNDEN auf den KUNDEN über. Andernfalls kann PRD die Rückgabe verlangen.
            </p>
        </li>
    </ol>
    </div>
    
    <div class="avoidInsideBreak">
    <h2 class="centeredText">§ 5 Rückzahlungspflicht</h2>
        <p>
            Erreicht der Kunde die in § 2 (5) zugesicherten Vertragsmengen innerhalb der Vertragslaufzeit auch nach der Vertragsverlängerung nach § 1 nicht, ist PRD berechtigt, 5 % des Wertes der nach § 3 erbrachten Leistungen zurückzuverlangen. Bemessungsgrundlage ist dabei allein die Wertfestsetzung nach § 3.
        </p>
    </div>

    <div class="avoidInsideBreak">
    <h2 class="centeredText">§ 6 Compliance</h2>
    <ol>
        <li>
            <p class="indentBlockHeader1">
            KUNDE bestätigt, den „Kodex für kommerzielle Kommunikation“ (http://www.pernod-ricard.de/180.0.de.html) von PRD erhalten und gelesen zu haben und diesen als Basis für die Zusammenarbeit anzuerkennen. KUNDE ist verpflichtet die aktuellen Richtlinien in Bezug auf verantwortungsvolle Marketingkommunikation zu berücksichtigen. KUNDE ist verpflichtet, regelmäßig, mindestens einmal im Quartal, zu überprüfen, ob der Kodex aktualisiert wurde.</p>
        </li>
        <li>
            <p class="indentBlockHeader1">
            KUNDE erklärt hiermit, dass sie in allen ihren Handlungen in Verbindung mit diesem Vertrag jederzeit alle anwendbaren Gesetze, Vorschriften und Verwaltungserfordernisse einhalten wird, einschließlich, aber nicht beschränkt auf jene, die sich beziehen auf Schmuggelprodukte oder gefälschte Produkte, Anti-Korruption, Anti-Bestechung, Anti-Terrorismus, Interessenkonflikte, Wirtschaftssanktionen und Anti-Boykott (zusammenfassend: die „Anwendbaren Gesetze“).</p>
        </li>
        <li>
            <p class="indentBlockHeader1">
            KUNDE erklärt und sichert zu, dass sie nicht unmittelbar oder mittelbar Beiträge, Geschenke, Bestechungsgelder, Rabatte, Auszahlungen, Beeinflussungszahlungen, geheime Rückzahlungen, Förderungszahlungen oder andere Zahlungen an jedwede Person leisten wird, ob Privatperson oder Hoheitsträger, egal ob in Geld, Eigentum oder Dienstleistungen, um (i) eine bevorzugte Behandlung zu erhalten oder sich irgendwelche Verträge, Vereinbarungen oder Versprechen zu sichern, (ii) für eine bevorzugte Behandlung oder für irgendwelche Verträge, Vereinbarungen oder gesicherte Versprechen zu bezahlen, oder (iii) besondere Zugeständnisse zu erhalten oder für bereits erhaltene besondere Zugeständnisse, jeweils unter Verletzung beliebiger Gesetze, Vorschriften oder Verwaltungserfordernisse in Bezug auf Anti-Korruption oder Anti-Bestechung, die für KUNDE gelten können, einschließlich, aber nicht beschränkt auf das US-amerikanische Gesetz über ausländische Korruptionspraktiken [United States Foreign Corrupt Practices Act] aus dem Jahre 1977 und das britische Gesetz über Bestechung [UK Bribery Act] aus dem Jahre 2010 (zusammenfassend: die „Anti-Bestechungs-Gesetze“).
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
            KUNDE erklärt und sichert zu, dass ihre Operationen und diejenigen ihrer Konzerngesellschaften jederzeit durchgeführt werden und wurden unter Einhaltung der Anti-Geldwäsche-Gesetze aller anwendbaren Rechtssysteme, der darunter geltenden Regeln und Vorschriften und aller damit verbundenen oder ähnlichen Regeln, Vorschriften und Richtlinien, die von irgendeiner Regierungsstelle erlassen, verwaltet oder vollstreckt werden, einschließlich jedweder Erfordernisse der Aufbewahrung oder Meldung finanzieller Aufzeichnungen (zusammenfassend: die „Anti-Geldwäsche-Gesetze“), und dass keine Klage, kein Prozess und kein Verfahren in Bezug auf die Anti-Geldwäsche-Gesetze von oder vor einem Gericht oder einer Regierungsstelle, -behörde oder -amt oder irgendeinem Schiedsrichter anhängig oder angedroht ist, welches KUNDE oder irgendein ihrer Konzernunternehmen mit betrifft.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
            Sollte PRD berechtigt und in gutem Glauben entscheiden, dass KUNDE, ihr Konzernunternehmen oder ihre jeweiligen Leiter, leitenden Angestellten, Stellvertreter oder Mitarbeiter sich in einer Weise verhalten oder verhalten haben, die die Anwendbare Gesetze, die Anti-Bestechungs-Gesetze oder die Anti-Geldwäsche-Gesetze verletzt oder die PRD oder irgendeine Einheit der Unternehmensgruppe von PRD dem Risiko aussetzt, nach den Anwendbare Gesetzen, den Anti-Bestechungs-Gesetzen oder den Anti-Geldwäsche-Gesetzen zu haften, einschließlich durch die Verletzung irgendeiner der in dieser Klausel aufgeführten Erklärungen und Zusicherungen, kann PRD diesen Vertrag außerordentlich und fristlos kündigen. Die Kündigung wird schriftlich erfolgen.
            </p>
        </li>
    </ol>
    </div>

    <div class="avoidInsideBreak">
    <h2 class="centeredText">§ 7 Außerordentliche Kündigung</h2>
    <ol>
        <li>
            <p class="indentBlockHeader1">
                Jede Vertragspartei ist berechtigt, den Vertrag aus wichtigem Grunde außerordentlich und fristlos zu kündigen. Ein zur außerordentlichen, fristlosen Kündigung berechtigender wichtiger Grund liegt insbesondere vor, wenn
            </p>
            <ol type="a">
            <li>
                <p class="indentBlockHeader1">
                    die andere Vertragspartei schuldhaft gegen ihr obliegende wesentliche vertragliche Verpflichtungen, insbesondere den in §§ 2 und 5 niedergelegten Verpflichtungen verstoßen hat und den Verstoß trotz schriftlicher Abmahnung mit angemessener Fristsetzung nicht innerhalb der gesetzten Frist abstellt;
                </p>
            </li>
            <li>
                <p class="indentBlockHeader1">
                    die andere Vertragspartei schuldhaft gegen gesetzliche Vorschriften, die für die Durchführung dieses Vertrages unmittelbar oder mittelbar von Bedeutung sind oder gegen die guten Sitten verstoßen hat;
                </p>
            </li>
            </ol>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Jede Kündigung bedarf der Schriftform.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Im Falle der Kündigung ist die Parteien, die den Anlass zur Kündigung gesetzt hat verpflichtet, die erhaltenen Leistungen zurück zu gewähren.
            </p>
        </li>
    </ol>
    </div>
    
    <div class="avoidInsideBreak">
    <h2 class="centeredText">§ 8 Schlussbestimmungen</h2>
    <ol>
        <li>
            <p class="indentBlockHeader1">
                KUNDE und PRD verpflichten sich zu Stillschweigen in Bezug auf die Inhalte dieses Vertrages. Diese Verschwiegenheitsvereinbarung hat Bestand über das Ende der Laufzeit dieses Vertrages hinaus.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Dieser Vertrag bedarf zu seiner Wirksamkeit der Textform. Mündliche Absprachen wurden nicht getroffen. Änderungen und Ergänzungen dieses Vertrages bedürfen zu ihrer Wirksamkeit der Textform.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Sollte eine Regelung dieses Vertrages unwirksam oder nichtig sein, so bleibt hiervon die Wirksamkeit des übrigen Vertrages unberührt. An Stelle der unwirksamen oder nichtigen Regelung werden die Parteien eine wirksame Bestimmung vereinbaren, die dem wirtschaftlich ursprünglich Gewollten am ehesten entspricht.
            </p>
        </li>
        <li>
            <p class="indentBlockHeader1">
                Gerichtsstand für sämtliche im Zusammenhang mit diesem Vertrag stehenden Ansprüche ist Köln.
            </p>
        </li>
    </ol>
    </div>

    <br/><br/><br/><br/><br/><br/><br/><br/><br/>
    
    <div id="panel_ContractSignatories" class="contentSplit avoidInsideBreak" style="display:block; overflow:auto">
        <div class="contentLeft">
            <p><br/><br/>Ort, Datum:
            <br/><br/><br/><br/><br/>
            ___________________________________<br/>
            Kunde<br/>
            </p>
        </div>
        <div class="contentRight">
            <p><br/><br/>Ort, Datum:
            <br/><br/><br/><br/><br/>
            ___________________________________<br/>
            i.A. PRD<!--<br/>-->
            </p>
        </div>
    </div>
    <div style="clear:both;">&nbsp;</div>
</div>

<!--<div></div>-->

<div id="contractAppendix" style="page-break-before:always">
<h2 class="centeredText">Anlagen</h2>
<ol>
    <li><p>LISTUNGSÜBERSICHT</p></li>
    <li><p>ZAHLUNGSPLAN</p></li>
</ol>

<div class="avoidInsideBreak">
<h3>Anlage 1 (Listungsübersicht)</h3>
<table class="coloredTable_Blue" style="width:100%">
<thead>
    <th>Brand Quality</th>
    <th>Listung</th>
    <th>Pouring</th>
</thead>
<apex:repeat var="listingPouring" value="{!contractWrapperObj.listingPouringList}">
    <tr>
        <td><apex:outputField value="{!listingPouring.EUR_CRM_Brand_Quality__r.Name}"/></td>
        <td class="centeredText"><apex:outputField value="{!listingPouring.EUR_CRM_Listing__c}"/></td>
        <td class="centeredText"><apex:outputField value="{!listingPouring.EUR_CRM_Pouring__c}"/></td>
    </tr>
</apex:repeat>
</table>
</div>

<h3>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Main_Header}</h3>
<table class="coloredTable_Blue" style="width:100%">
    <thead>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Header_Contract}: {!ContractPaymentPlan.EUR_CRM_Contract__r.Name}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Header_Account}: {!ContractPaymentPlan.EUR_CRM_Account__c}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Header_Start_Date}:
            <apex:outputText value="{0, date, dd.MM.yyyy}">
                <apex:param value="{!ContractPaymentPlan.EUR_CRM_Contract_Start_Date__c}"/>
            </apex:outputText>
        </th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Header_End_Date}:
            <apex:outputText value="{0, date, dd.MM.yyyy}">
                <apex:param value="{!ContractPaymentPlan.EUR_CRM_Contract_End_Date__c}"/>
            </apex:outputText>
        </th>
    </thead>
</table>
<apex:variable var="listCount" value="{!1}"/>
<table class="coloredTable_Blue" style="width:100%;font-size:0.78em;">
    <thead style="word-break: break-all;">
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Contract_Item_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Brand_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Description_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Period_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Rate_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Volume_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Amount_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Payment_Term_Column}</th>
        <th>{!$Label.EUR_CRM_DE_Payment_Plan_Table_Earliest_Date_of_Invoice_Column}</th>
    </thead>
    <apex:repeat var="pouringRefundPeriod" value="{!PouringRefundWrapper.allContractPaymentPlanPeriods}">
        <tr style="display:{!IF(PouringRefundWrapper !=null && PouringRefundWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!pouringRefundPeriod.mechanicTypeName}"/>
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!pouringRefundPeriod.startDate}" /> 
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!pouringRefundPeriod.endDate}" />
                </apex:outputText>                 
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.rate} € / {!pouringRefundPeriod.unit}" />
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!pouringRefundPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!pouringRefundPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(PouringRefundWrapper != null && PouringRefundWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="WKZFixAmountPeriod" value="{!WKZFixAmountWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(WKZFixAmountWrapper !=null && WKZFixAmountWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!WKZFixAmountPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!WKZFixAmountPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!WKZFixAmountPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!WKZFixAmountPeriod.startDate}" /> 
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!WKZFixAmountPeriod.endDate}" />
                </apex:outputText>                            
            </td>
            <td>
                <apex:outputText value="{!WKZFixAmountPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!WKZFixAmountPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!WKZFixAmountPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!WKZFixAmountPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!WKZFixAmountPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(WKZFixAmountWrapper != null && WKZFixAmountWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="DrinksMenuPeriod" value="{!DrinksMenuWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(DrinksMenuWrapper !=null && DrinksMenuWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!DrinksMenuPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!DrinksMenuPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!DrinksMenuPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!DrinksMenuPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!DrinksMenuPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!DrinksMenuPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!DrinksMenuPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!DrinksMenuPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!DrinksMenuPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!DrinksMenuPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(DrinksMenuWrapper != null && DrinksMenuWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="EventsPeriod" value="{!EventsWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(EventsWrapper !=null && EventsWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!EventsPeriod.Name}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!EventsPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!EventsPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!EventsPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!EventsPeriod.endDate}" />
                </apex:outputText>                  
            </td>
            <td>
                <apex:outputText value="{!EventsPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!EventsPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!EventsPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!EventsPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!EventsPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(EventsWrapper != null && EventsWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="VisibilityPeriod" value="{!VisibilityWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(VisibilityWrapper !=null && VisibilityWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!VisibilityPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!VisibilityPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!VisibilityPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!VisibilityPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!VisibilityPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!VisibilityPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!VisibilityPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!VisibilityPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!VisibilityPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!VisibilityPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(VisibilityWrapper != null && VisibilityWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="POSMaterialPeriod" value="{!POSMaterialWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(POSMaterialWrapper !=null && POSMaterialWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!POSMaterialPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!POSMaterialPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!POSMaterialPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSMaterialPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSMaterialPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!POSMaterialPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!POSMaterialPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!POSMaterialPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!POSMaterialPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSMaterialPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(POSMaterialWrapper != null && POSMaterialWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="POSWKZPeriod" value="{!POSWKZWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(POSWKZWrapper !=null && POSWKZWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!POSWKZPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!POSWKZPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!POSWKZPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSWKZPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSWKZPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!POSWKZPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!POSWKZPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!POSWKZPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!POSWKZPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!POSWKZPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(POSWKZWrapper != null && POSWKZWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="NapkinsPeriod" value="{!NapkinsWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(NapkinsWrapper !=null && NapkinsWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!NapkinsPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!NapkinsPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!NapkinsPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!NapkinsPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!NapkinsPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!NapkinsPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!NapkinsPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!NapkinsPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!NapkinsPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!NapkinsPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(NapkinsWrapper != null && NapkinsWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="TrainingPeriod" value="{!TrainingWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(TrainingWrapper !=null && TrainingWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!TrainingPeriod.mechanicTypeName}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!TrainingPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!TrainingPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!TrainingPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!TrainingPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!TrainingPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!TrainingPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!TrainingPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!TrainingPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!TrainingPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    <apex:variable var="listCount" value="{!IF(TrainingWrapper != null && TrainingWrapper.allContractPaymentPlanPeriodsSize<=0, listCount, listCount+1)}"/>

    <apex:repeat var="OthersPeriod" value="{!OthersWrapper.allContractPaymentPlanPeriods}">
        <apex:variable var="iCount" value="{!iCount+1}"/>
        <tr style="display:{!IF(OthersWrapper !=null && OthersWrapper.allContractPaymentPlanPeriodsSize<=0, 'none', 'table-row')}">
            <td>
                <apex:outputText value="({!listCount})" style="margin-right:.5em;"/> 
                <apex:outputText value="{!OthersPeriod.Name}"/>
            </td>
            <td class="list-of-brand">
                <apex:outputText value="{!OthersPeriod.brand}" />
            </td>
            <td>
                <apex:outputText value="{!OthersPeriod.description}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!OthersPeriod.startDate}" />
                </apex:outputText> - <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!OthersPeriod.endDate}" />
                </apex:outputText>
            </td>
            <td>
                <apex:outputText value="{!OthersPeriod.rate}" />
            </td>
            <td>
                <apex:outputText value="{!OthersPeriod.volume}" />
            </td>
            <td>
                <apex:outputText value="{!OthersPeriod.formattedAmount} €" />
            </td>
            <td>
                <apex:outputText value="{!OthersPeriod.paymentTerm}" />
            </td>
            <td>
                <apex:outputText value="{0, date, dd.MM.yyyy}">
                    <apex:param value="{!OthersPeriod.earliestDateOfInvoice}" /> 
                </apex:outputText>
            </td>
        </tr>
    </apex:repeat>
    
    <tr>
        <td />
        <td />
        <td />
        <td />
        <td />
        <td>
        {!$Label.EUR_CRM_DE_Payment_Plan_Table_Total}
        </td>
        <td>
            <apex:outputText value="{!contractWrapperObj.totalAmount} €" />
        </td>
        <td />
        <td />
    </tr>
    <tr>
        <td />
        <td />
        <td />
        <td />
        <td />
        <td>
        {!$Label.EUR_CRM_DE_Payment_Plan_Table_Total_without_Invoicing}
        </td>
        <td>
            <apex:outputText value="{!contractWrapperObj.totalAmountWithoutNoInvoicing} €" />
        </td>
        <td />
        <td />
    </tr>
</table>
</div>



</apex:page>