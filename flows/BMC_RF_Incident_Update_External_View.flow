<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <apiVersion>50.0</apiVersion>
    <choices>
        <name>BlankChoice</name>
        <choiceText>---- Please Select from List Below -----</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>CategoryChoiceDefault</name>
        <choiceText>{!CategoryName}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>CategoryID</elementReference>
        </value>
    </choices>
    <choices>
        <name>ClosureCategoryChoiceDefault</name>
        <choiceText>&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!ClosureCategory}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>ClosureCategory</elementReference>
        </value>
    </choices>
    <choices>
        <name>ImpactChoiceDefault</name>
        <choiceText>{!ImpactName}</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>ImpactID</elementReference>
        </value>
    </choices>
    <choices>
        <name>IncidentTypeChoiceDefault</name>
        <choiceText>&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(62, 62, 60);&quot;&gt;{!IncidentType}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>IncidentType</elementReference>
        </value>
    </choices>
    <choices>
        <name>QueueChoiceDefault</name>
        <choiceText>&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!QueueName}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>QueueID</elementReference>
        </value>
    </choices>
    <choices>
        <name>StatusChoiceDefault</name>
        <choiceText>&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!StatusName}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>StatusID</elementReference>
        </value>
    </choices>
    <choices>
        <name>UrgencyChoiceDefault</name>
        <choiceText>&lt;span style=&quot;color: rgb(62, 62, 60); background-color: rgb(255, 255, 255);&quot;&gt;{!UrgencyName}&lt;/span&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <elementReference>UrgencyID</elementReference>
        </value>
    </choices>
    <decisions>
        <name>ClosureCategoryValidation</name>
        <label>ClosureCategoryValidation</label>
        <locationX>314</locationX>
        <locationY>278</locationY>
        <defaultConnector>
            <targetReference>Update_Incident</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Invalid_Closure_Category</name>
            <conditionLogic>1 AND (2 OR 3) AND 4</conditionLogic>
            <conditions>
                <leftValueReference>Incident_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Incident</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closure_Category</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Request</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closure_Category</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Hardware</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RESOLVED</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RemedyForce_External_View_Incident_Detail_Update_Validation_Incident</targetReference>
            </connector>
            <label>Invalid Closure Category - Incident</label>
        </rules>
        <rules>
            <name>Invalid_Closure_Category_Service_Request</name>
            <conditionLogic>1 AND (NOT 2) AND (NOT 3) AND 4</conditionLogic>
            <conditions>
                <leftValueReference>Incident_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service Request</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closure_Category</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Request</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Closure_Category</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Hardware</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>RESOLVED</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RemedyForce_External_View_Incident_Detail_Update_Validation_Service_Request</targetReference>
            </connector>
            <label>Invalid Closure Category - Service Request</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>CategoryChoice</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>BMCServiceDesk__inactive__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BMCServiceDesk__AvailableForIncidents__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BMCServiceDesk__AvailableForServiceCatalog__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BMCServiceDesk__HasChildren__c</field>
            <operator>EqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <object>BMCServiceDesk__Category__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>ClosureCategoryChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>BMCServiceDesk__ClosureCategory__c</picklistField>
        <picklistObject>BMCServiceDesk__Incident__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>ImpactChoice</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <object>BMCServiceDesk__Impact__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>IncidentTypeChoice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>BMCServiceDesk__IncidentType__c</picklistField>
        <picklistObject>BMCServiceDesk__Incident__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>QueueChoice</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>1 AND 2 AND (NOT 3) AND (NOT 4)</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>Contains</operator>
            <value>
                <stringValue>-</stringValue>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>Contains</operator>
            <value>
                <stringValue>Coordenador</stringValue>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>StartsWith</operator>
            <value>
                <stringValue>XX</stringValue>
            </value>
        </filters>
        <object>Group</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>StatusChoice</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>BMCServiceDesk__appliesToIncident__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>BMCServiceDesk__inactive__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>BMCServiceDesk__Status__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>UrgencyChoice</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <object>BMCServiceDesk__Urgency__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <interviewLabel>BMC_RF_Incident Update External Vendor {!$Flow.CurrentDateTime}</interviewLabel>
    <label>BMC_RF_Incident Update External View</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordUpdates>
        <name>Update_Incident</name>
        <label>Update Incident</label>
        <locationX>578</locationX>
        <locationY>398</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>IncidentID</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>BMCServiceDesk__ClosureCategory__c</field>
            <value>
                <elementReference>Closure_Category</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__FKCategory__c</field>
            <value>
                <elementReference>Category</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__FKImpact__c</field>
            <value>
                <elementReference>Impact</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__FKStatus__c</field>
            <value>
                <elementReference>Status</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__FKUrgency__c</field>
            <value>
                <elementReference>Urgency</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__IncidentType__c</field>
            <value>
                <elementReference>Incident_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMCServiceDesk__incidentResolution__c</field>
            <value>
                <elementReference>Resolution</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>BMC_RF_Waiting_for_User_Details__c</field>
            <value>
                <elementReference>Waiting_for_User_Details</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Queue</elementReference>
            </value>
        </inputAssignments>
        <object>BMCServiceDesk__Incident__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>RemedyForce_External_View_Incident_Detail_Update</name>
        <label>RemedyForce External View | Incident Detail Update</label>
        <locationX>314</locationX>
        <locationY>158</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>ClosureCategoryValidation</targetReference>
        </connector>
        <fields>
            <name>Incident_Type</name>
            <choiceReferences>IncidentTypeChoiceDefault</choiceReferences>
            <choiceReferences>IncidentTypeChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>IncidentTypeChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Incident Type</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Category</name>
            <choiceReferences>CategoryChoiceDefault</choiceReferences>
            <choiceReferences>CategoryChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>CategoryChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Category</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Impact</name>
            <choiceReferences>ImpactChoiceDefault</choiceReferences>
            <choiceReferences>ImpactChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>ImpactChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Impact</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Urgency</name>
            <choiceReferences>UrgencyChoiceDefault</choiceReferences>
            <choiceReferences>UrgencyChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>UrgencyChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Urgency</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Status</name>
            <choiceReferences>StatusChoiceDefault</choiceReferences>
            <choiceReferences>StatusChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>StatusChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Status</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Closure_Category</name>
            <choiceReferences>ClosureCategoryChoiceDefault</choiceReferences>
            <choiceReferences>ClosureCategoryChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>ClosureCategoryChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Closure Category</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>ClosureCategoryHelp</name>
            <fieldText>&lt;p&gt;Before resolving this ticket, please confirm your Closure Category.&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Closure Category for Incidents can be any option except for Request Fulfilled, Request Denied, or Hardware.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Closure Category for Service Requests must be either Request Fullfilled or Request Denied.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Resolution</name>
            <dataType>String</dataType>
            <fieldText>Resolution</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>Waiting_for_User_Details</name>
            <dataType>String</dataType>
            <fieldText>Waiting for User Details</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>Queue</name>
            <choiceReferences>QueueChoiceDefault</choiceReferences>
            <choiceReferences>QueueChoice</choiceReferences>
            <dataType>String</dataType>
            <defaultSelectedChoiceReference>QueueChoiceDefault</defaultSelectedChoiceReference>
            <fieldText>Queue</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>RemedyForce_External_View_Incident_Detail_Update_Validation_Incident</name>
        <label>RemedyForce External View | Incident Detail Update - Validation (Incident)</label>
        <locationX>50</locationX>
        <locationY>398</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>IncidentValidation</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-family: Calibri, sans-serif; font-size: 11pt;&quot;&gt;To resolve this incident, please confirm your Closure Category. &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Calibri, sans-serif; font-size: 11pt;&quot;&gt;Closure Category for Incidents cannot be Request Fullfilled/Denied, Cancelled, or Hardware.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: Calibri, sans-serif; font-size: 11pt;&quot;&gt;To update your selection, please click Previous, provide updates, and then click Next.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>RemedyForce_External_View_Incident_Detail_Update_Validation_Service_Request</name>
        <label>RemedyForce External View | Incident Detail Update - Validation (Service Request)</label>
        <locationX>314</locationX>
        <locationY>398</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>IncidentValidation_0</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 11pt; font-family: Calibri, sans-serif;&quot;&gt;To resolve this Service Request, please confirm your Closure Category. &lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 11pt; font-family: Calibri, sans-serif;&quot;&gt;Closure Category for Service Requests must be either Request Fullfilled or Request Denied. If this is a Hardware request, please select a Hardware option.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 11pt; font-family: Calibri, sans-serif;&quot;&gt;To update your selection, please click Previous, provide updates, and then click Next.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>188</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>RemedyForce_External_View_Incident_Detail_Update</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>CategoryID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>CategoryName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ClosureCategory</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ImpactID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ImpactName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>IncidentID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>IncidentType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>QueueID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>QueueName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>StatusID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>StatusName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>UrgencyID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>UrgencyName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
