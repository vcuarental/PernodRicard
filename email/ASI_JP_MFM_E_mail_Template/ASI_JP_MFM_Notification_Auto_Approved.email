<messaging:emailTemplate subject="Notification of Auto-Approved PO – PO#{!RelatedTo.Name}" recipientType="User" relatedToType="ASI_MFM_PO__c"><messaging:htmlEmailBody ><html>    <body>        <p>       Please note the following MFM PO Application status – Auto-Approved        </p>        <table>            <tr>                <td>                PO Number                </td>                <td>                : &nbsp; {!RelatedTo.Name}                </td>            </tr>            <tr>                <td>                PO Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_PO_Amount__c}" />                    </apex:outputText>                </td>            </tr>            <tr>                <td>                Exchange Rate                </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ##.0000000}">                       <apex:param value="{!RelatedTo.ASI_MFM_Exchange_Rate__c}" />                    </apex:outputText>                </td>            </tr>            <tr>                <td>                Supplier                  </td>                 <td>                : &nbsp; {!RelatedTo.ASI_MFM_Supplier_Name__r.Name}                </td>            </tr>            <tr>                <td>                Promotion Plan                  </td>                 <td>                : &nbsp; <apex:outputText value="{0} {1}">                        <apex:param value="{!RelatedTo.ASI_MFM_Plan__r.Name}" />                        <apex:param value="{!RelatedTo.ASI_MFM_Plan__r.ASI_MFM_Plan_Description__c}" />                    </apex:outputText>                                   </td>            </tr>            <tr>                <td>                PO Title                  </td>                 <td>                : &nbsp; {!RelatedTo.ASI_MFM_Remarks__c}                </td>            </tr>            <tr>                <td>                G/L Date                </td>                 <td>                : &nbsp; <apex:outputText value="{0,date,MM/dd/yyyy}">                           <apex:param value="{!RelatedTo.ASI_MFM_PO_Raised_Date__c}" />                   </apex:outputText>                </td>            </tr>            <tr>                <td>                Responsible By                  </td>                 <td>                : &nbsp; <apex:outputText value="{0} - {1}">                        <apex:param value="{!RelatedTo.ASI_MFM_Responsible_By__r.Name}" />                        <apex:param value="{!RelatedTo.ASI_MFM_Subledger__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                Plan Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Plan_Amount__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                PO Total ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Total_PO_Amount__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                Remaining Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Plan_Balance__c}" />                    </apex:outputText>                 </td>            </tr>            <apex:outputPanel id="previous" rendered="{!IF(RelatedTo.ASI_MFM_Previous_Approved_By__c != null || RelatedTo.ASI_MFM_Previous_Approved_By__c != '',true,false)}">                        <tr><td colspan='2'></td></tr>            <tr>                <td>                Previous Approved Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Previous_Approved_Amount__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                Previous Approved By                  </td>             <td>            : &nbsp; <apex:outputText value="{0}">                    <apex:param value="{!RelatedTo.ASI_MFM_Previous_Approved_By__r.Name}" />                </apex:outputText>             </td>             </tr>                                                                 </apex:outputPanel>             <tr><td colspan='2'></td></tr>            <tr>            <td colspan='2'>                <c:ASI_MFM_JP_AttachmentList ParentIDAtt="{!relatedto.id}" SObjectNameAtt="ASI_MFM_PO"/>            </td>            </tr>        </table>            </body></html></messaging:htmlEmailBody><messaging:attachment renderAs="PDF"  filename="{!RelatedTo.name}">    <c:ASI_MFM_JP_PO_PDF_Component po_id="{!RelatedTo.Id}" /></messaging:attachment></messaging:emailTemplate>