<messaging:emailTemplate subject="GiftBox request {!relatedTo.Name} is waiting for delivery" recipientType="User" relatedToType="ASI_GiftBox_Request_Header__c"><messaging:htmlEmailBody > <html>    <body>    <STYLE type="text/css">        TH {font-size: 11px; font-face: arial;background: #CCCCCC; border-width: 1;  text-align: center }         TD  {font-size: 11px; font-face: verdana }         TABLE {border: solid #CCCCCC; border-width: 1}        TR {border: solid #CCCCCC; border-width: 1}     </STYLE>     <font face="arial" size="2">        <p>Gift Box request {!relatedTo.Name} is waiting for delivery.</p>        <p>Details of the Gift Box is as below:</p>        <p>Requester: {!relatedTo.Owner.Name}</p>        <p>Customer: {!relatedTo.ASI_GiftBox_Customer_Name_Text__c}</p>        <p>Delivery Address: {!relatedTo.ASI_GiftBox_Delivery_Address__c}</p>    </font>    <font face="arial" size="3">        <table border="0" >            <tr >                <th>Gift Box</th>               <th>Quantity</th>               <th>Delivery Instruction</th>               <th>Remark</th>               <th>Warehouse</th>                                       </tr>            <apex:repeat var="item" value="{!relatedTo.Gift_Box_Request_Items__r}">                <tr>                    <td>{!item.ASI_GiftBox_Gift_Box_Name__c}</td>                    <td>                        <apex:outputText value="{0, number, ###,##0}">                            <apex:param value="{!item.ASI_GiftBox_Request_Quantity__c}" />                        </apex:outputText>                    </td>                    <td>{!item.ASI_GiftBox_Delivery_Instruction__c}</td>                    <td>{!item.ASI_GiftBox_Request_Item_Remark__c}</td>                    <td>{!item.ASI_GiftBox_Request_Item_Warehouse__c}</td>                                  </tr>            </apex:repeat>                         </table>    </font>    </body>    </html></messaging:htmlEmailBody> </messaging:emailTemplate>