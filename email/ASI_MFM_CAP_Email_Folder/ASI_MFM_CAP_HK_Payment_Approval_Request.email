<messaging:emailTemplate subject="{!if(relatedto.ASI_MFM_Sys_Rejected__c, '(Re-submit) ', '')} A {!relatedto.ASI_MFM_Payment_Type__c} Payment <{!relatedto.Name}> is created and pending for your approval" recipientType="User"  relatedToType="ASI_MFM_Payment__c"><messaging:htmlEmailBody > <html>    <body>        <p>            Please note the following payment is created and pending for your approval.        </p>         <table>            <tr>                <td>                Owner&nbsp;                </td>                <td>                 : {!RelatedTo.Owner.name}                </td>            </tr>            <tr>                <td>                Payment ID&nbsp;                </td>                <td>                 : {!relatedto.Name}                </td>            </tr>            <tr>                <td>                Payment Type&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Payment_Type__c}                </td>            </tr>            <tr>                <td>                Company Code&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Company_Code__c}                </td>            </tr>                         <tr>                <td>                Invoice Number&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Invoice_Number__c}                </td>            </tr>            <tr>                <td>                Invoice Date&nbsp;                </td>                <td>                 :&nbsp;<apex:outputText value="{0,date,MM/dd/yyyy}">                           <apex:param value="{!relatedto.ASI_MFM_Invoice_Date__c}" />                   </apex:outputText>                </td>            </tr>            <tr>                <td>                PO Type&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_PO_Type__c}                </td>            </tr>                         <tr>                <td>                PO Number&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_PO_Number__c}                </td>            </tr>            <tr>                <td>                Receipt Type&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Receipt_Type__c}                </td>            </tr>            <tr>                <td>                Receipt No.&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Receipt_No__c}                </td>            </tr>             <tr>                <td>                Supplier Name&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Supplier_Name__r.name}                </td>            </tr>            <tr>                <td>                Currency&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Currency__c}                </td>            </tr>            <tr>                <td>                Exchange Rate&nbsp;                </td>                <td>                 :&nbsp;<apex:outputText value="{0,number,###,###,##0.000000}">                           <apex:param value="{!relatedto.ASI_MFM_Exchange_Rate__c}" />                   </apex:outputText>                </td>            </tr>            <tr>                <td>                Payment Amount&nbsp;                </td>                <td>                 : {!ROUND(relatedto.ASI_MFM_Payment_Amount__c,2)}                </td>            </tr>              <tr>                <td>                Goods In Transit Amount from Invoice&nbsp;                </td>                <td>                 : {!ROUND(relatedto.ASI_MFM_Goods_In_Transit_Amount_SFDC__c,2)}                </td>            </tr>                     <tr>                <td>                Remarks&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Remarks__c}                </td>            </tr>        </table>                <p>        To approve this payment record, click this&nbsp;            <apex:outputLink value="{!LEFT($Api.Partner_Server_URL_140, FIND('.com/',$Api.Partner_Server_URL_140)+3)}/{!RelatedTo.id}">link</apex:outputLink>            or by reply this email with keywords - APPROVE, YES, REJECT, NO.        </p>    </body></html>  </messaging:htmlEmailBody>  </messaging:emailTemplate>