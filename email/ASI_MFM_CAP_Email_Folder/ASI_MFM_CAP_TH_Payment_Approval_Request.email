<messaging:emailTemplate subject="{!if(relatedto.ASI_MFM_Sys_Rejected__c, '(Re-submit) ', '')}Payment <{!relatedto.Name}> is created" recipientType="User"  relatedToType="ASI_MFM_Payment__c"><messaging:htmlEmailBody > <html>    <body>        <p>            Please note the following payment is created.        </p>         <table>            <tr>                <td>                Owner&nbsp;                </td>                <td>                 : {!RelatedTo.Owner.name}                </td>            </tr>            <tr>                <td>                Payment ID&nbsp;                </td>                <td>                 : {!relatedto.Name}                </td>            </tr>            <tr>                <td>                Payment Type&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Payment_Type__c}                </td>            </tr>                        <tr>                <td>                Invoice Number&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Invoice_Number__c}                </td>            </tr>            <tr>                <td>                Invoice Date&nbsp;                </td>                <td>                 :&nbsp;<apex:outputText value="{0,date,MM/dd/yyyy}">                           <apex:param value="{!relatedto.ASI_MFM_Invoice_Date__c}" />                   </apex:outputText>                </td>            </tr>            <tr>                <td>                PO Type&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_PO_Type__c}                </td>            </tr>                         <tr>                <td>                PO Number&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_PO_Number__c}                </td>            </tr>             <tr>                <td>                Supplier Name And Number&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Supplier_Name__r.name}                </td>            </tr>            <tr>                <td>                Currency&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Currency__c}                </td>            </tr>            <tr>                <td>                Exchange Rate&nbsp;                </td>                <td>                 :&nbsp;<apex:outputText value="{0,number,###,###,##0.000000}">                           <apex:param value="{!relatedto.ASI_MFM_Exchange_Rate__c}" />                   </apex:outputText>                </td>            </tr>            <tr>                <td>                Payment Amount&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Payment_Amount__c}                </td>            </tr>              <tr>                <td>                Goods In Transit Amount&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Goods_In_Transit_Amount__c}                </td>            </tr>                     <tr>                <td>                Remarks&nbsp;                </td>                <td>                 : {!relatedto.ASI_MFM_Remarks__c}                </td>            </tr>        </table>                <p>        To open this payment reocrd, click this&nbsp;            <apex:outputLink value="{!LEFT($Api.Partner_Server_URL_140, FIND('.com/',$Api.Partner_Server_URL_140)+3)}/{!RelatedTo.id}">link</apex:outputLink>        </p>    </body></html>  </messaging:htmlEmailBody>  </messaging:emailTemplate>