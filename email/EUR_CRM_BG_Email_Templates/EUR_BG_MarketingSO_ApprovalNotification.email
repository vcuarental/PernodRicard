<messaging:emailTemplate subject="Marketing Product Sales Order Approval Notification ({!RelatedTo.Name})" recipientType="User" relatedToType="EUR_CRM_Sales_Order__c">    <messaging:HtmlEmailBody >        <style type="text/css">    body{            font-family: "Helvetica", sans-serif;            font-size: 12px;    }    td {            font-family: "Helvetica", sans-serif;            font-size: 12px;    }        .bold {        font-weight: bold;        font-family: "Helvetica", sans-serif;        font-size: 12px;    }        table#OrderDetailsTable {                        border-width: 1px;                        border-style: solid;                        border-color: #FFFFFF;                        border-collapse: collapse;                        text-align:left;                        padding: 10px;                        font-family: "Helvetica", sans-serif;                        font-size: 12px;    }        table#OrderDetailsTable tr {                        padding: 10px;                        border-collapse: collapse;                        font-family: "Helvetica", sans-serif;                        font-size: 12px;    }        table#OrderDetailsTable th {                                               border-collapse: collapse;                        border-bottom: 3px solid #7EA4D0;                        text-align:left;                        padding: 15px;                        font-family: "Helvetica", sans-serif;                        font-size: 14px;    }        table#OrderDetailsTable td {                                                border-collapse: collapse;                        border-bottom: 1px solid #000000;                        text-align:left;                        padding: 15px;                        font-family: "Helvetica", sans-serif;                        font-size: 12px;}    </style>        <body>Dear {!Relatedto.CreatedBy.Name},            <br/>            <br/>Kindly be informed that the Sales Order listed as below is approved. Please take appropriate further actions.            <br/>            <apex:outputPanel layout="none">                <br/>                <table class="summary">                    <tr>                        <td class="bold">Sales Order Number :</td>                        <td>{!Relatedto.Name}</td>                    </tr>                    <tr>                        <td class="bold">Account Name :</td>                        <td>{!Relatedto.EUR_CRM_Account__r.Name}</td>                    </tr>                    <tr>                        <td class="bold">Contact :</td>                        <td>{!Relatedto.EUR_CRM_Contact__r.Name}</td>                    </tr>                    <tr>                        <td class="bold">Order Date :</td>                        <td>                            <apex:outputText value="{0,date,dd/MM/yyyy}">                                <apex:param value="{!Relatedto.EUR_CRM_Order_Date__c}" />                            </apex:outputText>                        </td>                    </tr>                    <tr>                        <td class="bold">Order Status :</td>                        <td>{!Relatedto.EUR_CRM_Order_Status__c}</td>                    </tr>                    <tr>                        <td class="bold">Wholesaler :</td>                        <td>{!Relatedto.EUR_CRM_Wholesaler__r.Name}</td>                    </tr>                    <tr>                        <td class="bold">Wholesaler Email :</td>                        <td>{!Relatedto.EUR_CRM_Wholesaler_Email__c}</td>                    </tr>                    <tr>                        <td class="bold">Invoicing Method :</td>                        <td>{!Relatedto.EUR_CRM_Invoicing_Method__c}</td>                    </tr>                    <tr>                        <td class="bold">Cost Center Type :</td>                        <td>{!Relatedto.EUR_CRM_Cost_Center_Type__c}</td>                    </tr>                    <tr>                        <td class="bold">Cost Center Code :</td>                        <td>{!Relatedto.EUR_CRM_Cost_Center_Code__c}</td>                    </tr>                    <tr>                        <td class="bold">Contract Related :</td>                        <td>{!Relatedto.EUR_CRM_Contract_Related_formula__c}</td>                    </tr>                    <tr>                        <td class="bold">Delivery Method :</td>                        <td>{!Relatedto.EUR_CRM_Delivery_Method__c}</td>                    </tr>                    <tr>                        <td class="bold">Delivery Date :</td>                        <td>                            <apex:outputText value="{0,date,dd/MM/yyyy}">                                <apex:param value="{!Relatedto.EUR_CRM_Delivery_Date__c}" />                            </apex:outputText>                        </td>                    </tr>                    <tr>                        <td class="bold">Summary Total :</td>                        <td>                            <apex:outputText value="{0,number,###0.00}">BGN&nbsp;                                <apex:param value="{!relatedto.EUR_CRM_Summary_Total__c}" />                            </apex:outPutText>                        </td>                    </tr>                </table>            </apex:outputPanel>            <br/>            <strong>Remarks :</strong>            <br/>{!Relatedto.EUR_CRM_Remark__c}            <br/>            <br/>            <table id="OrderDetailsTable">                <tr style="">                    <th>                        <strong>SKU ID</strong>                    </th>                    <th>                        <strong>SKU Name</strong>                    </th>                    <th>                        <strong>Unit</strong>                    </th>                    <th>                        <strong>Quantity</strong>                    </th>                    <th>                        <strong>Unit Price</strong>                    </th>                    <th>                        <strong>Item Total</strong>                    </th>                </tr>                <apex:repeat var="item" value="{!relatedTo.Sales_Order_Items__r}">                    <tr>                        <td>{!item.EUR_CRM_SKU__r.EUR_CRM_SKU_Code__c}</td>                        <td>{!item.EUR_CRM_SKU__r.Name}</td>                        <td>{!item.EUR_CRM_Unit__c}</td>                        <td>{!Text(item.EUR_CRM_Quantity__c)}</td>                        <td>BGN&nbsp;                            <apex:outputText value="{0,number,###0.00}">                                <apex:param value="{!item.EUR_CRM_Unit_Price__c}" />                            </apex:outPutText>                        </td>                        <td>BGN&nbsp;                            <apex:outputText value="{0,number,###0.00}">                                <apex:param value="{!item.EUR_CRM_Item_Total__c}" />                            </apex:outPutText>                        </td>                    </tr>                </apex:repeat>            </table>            <br/>To view more details of the Sales Order, click this link :  <a href="{!LEFT($Api.Partner_Server_URL_340, FIND(".com/",$Api.Partner_Server_URL_340)+3)}/{!relatedTo.Id}">{!relatedTo.Name}</a>            <br/>This Order is taken by {!Relatedto.CreatedBy.Name}            <apex:outputText rendered="{!Relatedto.CreatedBy.MobilePhone != null}">({!Relatedto.CreatedBy.MobilePhone})</apex:outputText>        </body>    </messaging:htmlEmailBody></messaging:emailTemplate>