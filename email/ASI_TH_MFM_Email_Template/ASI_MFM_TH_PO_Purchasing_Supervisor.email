<messaging:emailTemplate subject="Notification of PO Approved â€“ PO#{!RelatedTo.Name}" recipientType="User" relatedToType="ASI_MFM_PO__c"><messaging:htmlEmailBody ><html>    <body>        <p>       Please note the following MFM PO Application has approved:        </p>        <table>            <tr>                <td>                PO Number                </td>                <td>                : &nbsp; {!RelatedTo.Name}                </td>            </tr>            <tr>                <td>                PO Name                  </td>                 <td>                : &nbsp; {!RelatedTo.ASI_MFM_PO_Name__c}                </td>            </tr>            <tr>                <td>                PO Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_PO_Amount__c}" />                    </apex:outputText>                </td>            </tr>            <tr>                <td>                Exchange Rate                </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ##.0000000}">                       <apex:param value="{!RelatedTo.ASI_MFM_Exchange_Rate__c}" />                    </apex:outputText>                </td>            </tr>            <tr>                <td>                Supplier                  </td>                 <td>                : &nbsp; {!RelatedTo.ASI_MFM_Supplier_Name__r.Name}                </td>            </tr>            <tr>                <td>                Promotion Plan                  </td>                 <td>                : &nbsp; <apex:outputText value="{0} {1}">                        <apex:param value="{!RelatedTo.ASI_MFM_Plan__r.Name}" />                        <apex:param value="{!RelatedTo.ASI_MFM_Plan__r.ASI_MFM_Plan_Description__c}" />                    </apex:outputText>                </td>            </tr>           <tr>                <td>                PO Remarks                  </td>                 <td>                : &nbsp; {!RelatedTo.ASI_MFM_Remarks__c}                </td>            </tr>                                  <tr>                <td>                Responsible By                  </td>                  <td>                : &nbsp; {!RelatedTo.ASI_MFM_Responsible_By__r.Name}                 </td>            </tr>            <tr>                <td>                Plan Amount ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Plan_Amount__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                PO Total ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0.00}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Total_PO_Amount__c}" />                    </apex:outputText>                 </td>            </tr>            <tr>                <td>                Plan Balance ({!RelatedTo.ASI_MFM_Currency__c})                 </td>                 <td>                : &nbsp; <apex:outputText value="{0, number, ###,###,###,##0}">                       <apex:param value="{!RelatedTo.ASI_MFM_Sys_Plan_Balance__c}" />                    </apex:outputText>                 </td>            </tr>        </table>          <p>Herein attached the PR form.<br />Please kindly click this link (             <apex:outputLink value="{!LEFT($Api.Partner_Server_URL_140, FIND('.com/',$Api.Partner_Server_URL_140)+3)}/{!RelatedTo.id}"> PO#{!RelatedTo.Name}                </apex:outputLink>            ) for more details.        </p>                  </body></html></messaging:htmlEmailBody><messaging:attachment renderAs="PDF"  filename="{!RelatedTo.name}">    <c:ASI_MFM_TH_Purchase_Order_PDF_Component po_id="{!RelatedTo.Id}" /></messaging:attachment></messaging:emailTemplate>